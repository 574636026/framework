!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Pn.apply(null,arguments)}function t(e){Pn=e}function n(e){return"[object Array]"===Object.prototype.toString.call(e)}function i(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in t)r(t,n)&&(e[n]=t[n]);return r(t,"toString")&&(e.toString=t.toString),r(t,"valueOf")&&(e.valueOf=t.valueOf),e}function o(e,t,n,i){return Ce(e,t,n,i,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(e){return null==e._pf&&(e._pf=l()),e._pf}function c(e){if(null==e._isValid){var t=u(e);e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function d(e){var t=o(NaN);return null!=e?s(u(t),e):u(t).userInvalidated=!0,t}function h(e,t){var n,i,a;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=u(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),En.length>0)for(n in En)i=En[n],a=t[i],"undefined"!=typeof a&&(e[i]=a);return e}function f(t){h(this,t),this._d=new Date((+t._d)),Mn===!1&&(Mn=!0,e.updateOffset(this),Mn=!1)}function p(e){return e instanceof f||null!=e&&null!=e._isAMomentObject}function m(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function g(e,t,n){var i,a=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),s=0;for(i=0;a>i;i++)(n&&e[i]!==t[i]||!n&&m(e[i])!==m(t[i]))&&s++;return s+r}function v(){}function b(e){return e?e.toLowerCase().replace("_","-"):e}function y(e){for(var t,n,i,a,r=0;r<e.length;){for(a=b(e[r]).split("-"),t=a.length,n=b(e[r+1]),n=n?n.split("-"):null;t>0;){if(i=_(a.slice(0,t).join("-")))return i;if(n&&n.length>=t&&g(a,n,!0)>=t-1)break;t--}r++}return null}function _(e){var t=null;if(!Rn[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=An._abbr,require("./locale/"+e),w(t)}catch(n){}return Rn[e]}function w(e,t){var n;return e&&(n="undefined"==typeof t?S(e):D(e,t),n&&(An=n)),An._abbr}function D(e,t){return null!==t?(t.abbr=e,Rn[e]||(Rn[e]=new v),Rn[e].set(t),w(e),Rn[e]):(delete Rn[e],null)}function S(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return An;if(!n(e)){if(t=_(e))return t;e=[e]}return y(e)}function x(e,t){var n=e.toLowerCase();On[n]=On[n+"s"]=On[t]=e}function C(e){return"string"==typeof e?On[e]||On[e.toLowerCase()]:void 0}function T(e){var t,n,i={};for(n in e)r(e,n)&&(t=C(n),t&&(i[t]=e[n]));return i}function I(t,n){return function(i){return null!=i?(F(this,t,i),e.updateOffset(this,n),this):k(this,t)}}function k(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function F(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function P(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=C(e),"function"==typeof this[e])return this[e](t);return this}function A(e,t,n){for(var i=""+Math.abs(e),a=e>=0;i.length<t;)i="0"+i;return(a?n?"+":"":"-")+i}function E(e,t,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),e&&(Hn[e]=a),t&&(Hn[t[0]]=function(){return A(a.apply(this,arguments),t[1],t[2])}),n&&(Hn[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function M(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e){var t,n,i=e.match($n);for(t=0,n=i.length;n>t;t++)Hn[i[t]]?i[t]=Hn[i[t]]:i[t]=M(i[t]);return function(a){var r="";for(t=0;n>t;t++)r+=i[t]instanceof Function?i[t].call(a,e):i[t];return r}}function O(e,t){return e.isValid()?(t=$(t,e.localeData()),jn[t]||(jn[t]=R(t)),jn[t](e)):e.localeData().invalidDate()}function $(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Ln.lastIndex=0;i>=0&&Ln.test(e);)e=e.replace(Ln,n),Ln.lastIndex=0,i-=1;return e}function L(e,t,n){ei[e]="function"==typeof t?t:function(e){return e&&n?n:t}}function j(e,t){return r(ei,e)?ei[e](t._strict,t._locale):new RegExp(H(e))}function H(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=m(e)}),n=0;n<e.length;n++)ti[e[n]]=i}function N(e,t){U(e,function(e,n,i,a){i._w=i._w||{},t(e,i._w,i,a)})}function B(e,t,n){null!=t&&r(ti,e)&&ti[e](t,n._a,n,e)}function W(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function z(e){return this._months[e.month()]}function Y(e){return this._monthsShort[e.month()]}function q(e,t,n){var i,a,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(a=o([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function V(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),W(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function G(t){return null!=t?(V(this,t),e.updateOffset(this,!0),this):k(this,"Month")}function Q(){return W(this.year(),this.month())}function X(e){var t,n=e._a;return n&&-2===u(e).overflow&&(t=n[ii]<0||n[ii]>11?ii:n[ai]<1||n[ai]>W(n[ni],n[ii])?ai:n[ri]<0||n[ri]>24||24===n[ri]&&(0!==n[si]||0!==n[oi]||0!==n[li])?ri:n[si]<0||n[si]>59?si:n[oi]<0||n[oi]>59?oi:n[li]<0||n[li]>999?li:-1,u(e)._overflowDayOfYear&&(ni>t||t>ai)&&(t=ai),u(e).overflow=t),e}function K(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function J(e,t){var n=!0,i=e+"\n"+(new Error).stack;return s(function(){return n&&(K(i),n=!1),t.apply(this,arguments)},t)}function Z(e,t){di[e]||(K(t),di[e]=!0)}function ee(e){var t,n,i=e._i,a=hi.exec(i);if(a){for(u(e).iso=!0,t=0,n=fi.length;n>t;t++)if(fi[t][1].exec(i)){e._f=fi[t][0]+(a[6]||" ");break}for(t=0,n=pi.length;n>t;t++)if(pi[t][1].exec(i)){e._f+=pi[t][0];break}i.match(Kn)&&(e._f+="Z"),ye(e)}else e._isValid=!1}function te(t){var n=mi.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(ee(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function ne(e,t,n,i,a,r,s){var o=new Date(e,t,n,i,a,r,s);return 1970>e&&o.setFullYear(e),o}function ie(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function ae(e){return re(e)?366:365}function re(e){return e%4===0&&e%100!==0||e%400===0}function se(){return re(this.year())}function oe(e,t,n){var i,a=n-t,r=n-e.day();return r>a&&(r-=7),a-7>r&&(r+=7),i=Te(e).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function le(e){return oe(e,this._week.dow,this._week.doy).week}function ue(){return this._week.dow}function ce(){return this._week.doy}function de(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function he(e){var t=oe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function fe(e,t,n,i,a){var r,s,o=ie(e,0,1).getUTCDay();return o=0===o?7:o,n=null!=n?n:a,r=a-o+(o>i?7:0)-(a>o?7:0),s=7*(t-1)+(n-a)+r+1,{year:s>0?e:e-1,dayOfYear:s>0?s:ae(e-1)+s}}function pe(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function me(e,t,n){return null!=e?e:null!=t?t:n}function ge(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ve(e){var t,n,i,a,r=[];if(!e._d){for(i=ge(e),e._w&&null==e._a[ai]&&null==e._a[ii]&&be(e),e._dayOfYear&&(a=me(e._a[ni],i[ni]),e._dayOfYear>ae(a)&&(u(e)._overflowDayOfYear=!0),n=ie(a,0,e._dayOfYear),e._a[ii]=n.getUTCMonth(),e._a[ai]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=r[t]=i[t];for(;7>t;t++)e._a[t]=r[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ri]&&0===e._a[si]&&0===e._a[oi]&&0===e._a[li]&&(e._nextDay=!0,e._a[ri]=0),e._d=(e._useUTC?ie:ne).apply(null,r),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ri]=24)}}function be(e){var t,n,i,a,r,s,o;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(r=1,s=4,n=me(t.GG,e._a[ni],oe(Te(),1,4).year),i=me(t.W,1),a=me(t.E,1)):(r=e._locale._week.dow,s=e._locale._week.doy,n=me(t.gg,e._a[ni],oe(Te(),r,s).year),i=me(t.w,1),null!=t.d?(a=t.d,r>a&&++i):a=null!=t.e?t.e+r:r),o=fe(n,i,a,s,r),e._a[ni]=o.year,e._dayOfYear=o.dayOfYear}function ye(t){if(t._f===e.ISO_8601)return void ee(t);t._a=[],u(t).empty=!0;var n,i,a,r,s,o=""+t._i,l=o.length,c=0;for(a=$(t._f,t._locale).match($n)||[],n=0;n<a.length;n++)r=a[n],i=(o.match(j(r,t))||[])[0],i&&(s=o.substr(0,o.indexOf(i)),s.length>0&&u(t).unusedInput.push(s),o=o.slice(o.indexOf(i)+i.length),c+=i.length),Hn[r]?(i?u(t).empty=!1:u(t).unusedTokens.push(r),B(r,i,t)):t._strict&&!i&&u(t).unusedTokens.push(r);u(t).charsLeftOver=l-c,o.length>0&&u(t).unusedInput.push(o),u(t).bigHour===!0&&t._a[ri]<=12&&t._a[ri]>0&&(u(t).bigHour=void 0),t._a[ri]=_e(t._locale,t._a[ri],t._meridiem),ve(t),X(t)}function _e(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function we(e){var t,n,i,a,r;if(0===e._f.length)return u(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)r=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],ye(t),c(t)&&(r+=u(t).charsLeftOver,r+=10*u(t).unusedTokens.length,u(t).score=r,(null==i||i>r)&&(i=r,n=t));s(e,n||t)}function De(e){if(!e._d){var t=T(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],ve(e)}}function Se(e){var t,a=e._i,r=e._f;return e._locale=e._locale||S(e._l),null===a||void 0===r&&""===a?d({nullInput:!0}):("string"==typeof a&&(e._i=a=e._locale.preparse(a)),p(a)?new f(X(a)):(n(r)?we(e):r?ye(e):i(a)?e._d=a:xe(e),t=new f(X(e)),t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t))}function xe(t){var r=t._i;void 0===r?t._d=new Date:i(r)?t._d=new Date((+r)):"string"==typeof r?te(t):n(r)?(t._a=a(r.slice(0),function(e){return parseInt(e,10)}),ve(t)):"object"==typeof r?De(t):"number"==typeof r?t._d=new Date(r):e.createFromInputFallback(t)}function Ce(e,t,n,i,a){var r={};return"boolean"==typeof n&&(i=n,n=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=a,r._l=n,r._i=e,r._f=t,r._strict=i,Se(r)}function Te(e,t,n,i){return Ce(e,t,n,i,!1)}function Ie(e,t){var i,a;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Te();for(i=t[0],a=1;a<t.length;++a)t[a][e](i)&&(i=t[a]);return i}function ke(){var e=[].slice.call(arguments,0);return Ie("isBefore",e)}function Fe(){var e=[].slice.call(arguments,0);return Ie("isAfter",e)}function Pe(e){var t=T(e),n=t.year||0,i=t.quarter||0,a=t.month||0,r=t.week||0,s=t.day||0,o=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*o,this._days=+s+7*r,this._months=+a+3*i+12*n,this._data={},this._locale=S(),this._bubble()}function Ae(e){return e instanceof Pe}function Ee(e,t){E(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+A(~~(e/60),2)+t+A(~~e%60,2)})}function Me(e){var t=(e||"").match(Kn)||[],n=t[t.length-1]||[],i=(n+"").match(_i)||["-",0,0],a=+(60*i[1])+m(i[2]);return"+"===i[0]?a:-a}function Re(t,n){var a,r;return n._isUTC?(a=n.clone(),r=(p(t)||i(t)?+t:+Te(t))-+a,a._d.setTime(+a._d+r),e.updateOffset(a,!1),a):Te(t).local()}function Oe(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function $e(t,n){var i,a=this._offset||0;return null!=t?("string"==typeof t&&(t=Me(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Oe(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==t&&(!n||this._changeInProgress?Je(this,Ve(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?a:Oe(this)}function Le(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function je(e){return this.utcOffset(0,e)}function He(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Oe(this),"m")),this}function Ue(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Me(this._i)),this}function Ne(e){return e=e?Te(e).utcOffset():0,(this.utcOffset()-e)%60===0}function Be(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function We(){if(this._a){var e=this._isUTC?o(this._a):Te(this._a);return this.isValid()&&g(this._a,e.toArray())>0}return!1}function ze(){return!this._isUTC}function Ye(){return this._isUTC}function qe(){return this._isUTC&&0===this._offset}function Ve(e,t){var n,i,a,s=e,o=null;return Ae(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(o=wi.exec(e))?(n="-"===o[1]?-1:1,s={y:0,d:m(o[ai])*n,h:m(o[ri])*n,m:m(o[si])*n,s:m(o[oi])*n,ms:m(o[li])*n}):(o=Di.exec(e))?(n="-"===o[1]?-1:1,s={y:Ge(o[2],n),M:Ge(o[3],n),d:Ge(o[4],n),h:Ge(o[5],n),m:Ge(o[6],n),s:Ge(o[7],n),w:Ge(o[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(a=Xe(Te(s.from),Te(s.to)),s={},s.ms=a.milliseconds,s.M=a.months),i=new Pe(s),Ae(e)&&r(e,"_locale")&&(i._locale=e._locale),i}function Ge(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Qe(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Xe(e,t){var n;return t=Re(t,e),e.isBefore(t)?n=Qe(e,t):(n=Qe(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Ke(e,t){return function(n,i){var a,r;return null===i||isNaN(+i)||(Z(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,a=Ve(n,i),Je(this,a,e),this}}function Je(t,n,i,a){var r=n._milliseconds,s=n._days,o=n._months;a=null==a||a,r&&t._d.setTime(+t._d+r*i),s&&F(t,"Date",k(t,"Date")+s*i),o&&V(t,k(t,"Month")+o*i),a&&e.updateOffset(t,s||o)}function Ze(e){var t=e||Te(),n=Re(t,this).startOf("day"),i=this.diff(n,"days",!0),a=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,Te(t)))}function et(){return new f(this)}function tt(e,t){var n;return t=C("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=p(e)?e:Te(e),+this>+e):(n=p(e)?+e:+Te(e),n<+this.clone().startOf(t))}function nt(e,t){var n;return t=C("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=p(e)?e:Te(e),+e>+this):(n=p(e)?+e:+Te(e),+this.clone().endOf(t)<n)}function it(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function at(e,t){var n;return t=C(t||"millisecond"),"millisecond"===t?(e=p(e)?e:Te(e),+this===+e):(n=+Te(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function rt(e){return 0>e?Math.ceil(e):Math.floor(e)}function st(e,t,n){var i,a,r=Re(e,this),s=6e4*(r.utcOffset()-this.utcOffset());return t=C(t),"year"===t||"month"===t||"quarter"===t?(a=ot(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(i=this-r,a="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-s)/864e5:"week"===t?(i-s)/6048e5:i),n?a:rt(a)}function ot(e,t){var n,i,a=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(a,"months");return 0>t-r?(n=e.clone().add(a-1,"months"),i=(t-r)/(r-n)):(n=e.clone().add(a+1,"months"),i=(t-r)/(n-r)),-(a+i)}function lt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ut(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():O(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):O(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ct(t){var n=O(this,t||e.defaultFormat);return this.localeData().postformat(n)}function dt(e,t){return this.isValid()?Ve({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ht(e){return this.from(Te(),e)}function ft(e,t){return this.isValid()?Ve({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function pt(e){return this.to(Te(),e)}function mt(e){var t;return void 0===e?this._locale._abbr:(t=S(e),null!=t&&(this._locale=t),this)}function gt(){return this._locale}function vt(e){switch(e=C(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function bt(e){return e=C(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function yt(){return+this._d-6e4*(this._offset||0)}function _t(){return Math.floor(+this/1e3)}function wt(){return this._offset?new Date((+this)):this._d}function Dt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function St(){return c(this)}function xt(){return s({},u(this))}function Ct(){return u(this).overflow}function Tt(e,t){E(0,[e,e.length],0,t)}function It(e,t,n){return oe(Te([e,11,31+t-n]),t,n).week}function kt(e){var t=oe(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Ft(e){var t=oe(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Pt(){return It(this.year(),1,4)}function At(){var e=this.localeData()._week;return It(this.year(),e.dow,e.doy)}function Et(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Mt(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function Rt(e){return this._weekdays[e.day()]}function Ot(e){return this._weekdaysShort[e.day()]}function $t(e){return this._weekdaysMin[e.day()]}function Lt(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Te([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function jt(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Mt(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ut(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Nt(e,t){E(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Bt(e,t){return t._meridiemParse}function Wt(e){return"p"===(e+"").toLowerCase().charAt(0)}function zt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Yt(e){E(0,[e,3],0,"millisecond")}function qt(){return this._isUTC?"UTC":""}function Vt(){return this._isUTC?"Coordinated Universal Time":""}function Gt(e){return Te(1e3*e)}function Qt(){return Te.apply(null,arguments).parseZone()}function Xt(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i}function Kt(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t}function Jt(){return this._invalidDate}function Zt(e){return this._ordinal.replace("%d",e)}function en(e){return e}function tn(e,t,n,i){var a=this._relativeTime[n];return"function"==typeof a?a(e,t,n,i):a.replace(/%d/i,e)}function nn(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function an(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function rn(e,t,n,i){var a=S(),r=o().set(i,t);return a[n](r,e)}function sn(e,t,n,i,a){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return rn(e,t,n,a);var r,s=[];for(r=0;i>r;r++)s[r]=rn(e,r,n,a);return s}function on(e,t){return sn(e,t,"months",12,"month")}function ln(e,t){return sn(e,t,"monthsShort",12,"month")}function un(e,t){return sn(e,t,"weekdays",7,"day")}function cn(e,t){return sn(e,t,"weekdaysShort",7,"day")}function dn(e,t){return sn(e,t,"weekdaysMin",7,"day")}function hn(){var e=this._data;return this._milliseconds=zi(this._milliseconds),this._days=zi(this._days),this._months=zi(this._months),e.milliseconds=zi(e.milliseconds),e.seconds=zi(e.seconds),e.minutes=zi(e.minutes),e.hours=zi(e.hours),e.months=zi(e.months),e.years=zi(e.years),this}function fn(e,t,n,i){var a=Ve(t,n);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function pn(e,t){return fn(this,e,t,1)}function mn(e,t){return fn(this,e,t,-1)}function gn(){var e,t,n,i=this._milliseconds,a=this._days,r=this._months,s=this._data,o=0;return s.milliseconds=i%1e3,e=rt(i/1e3),s.seconds=e%60,t=rt(e/60),s.minutes=t%60,n=rt(t/60),s.hours=n%24,a+=rt(n/24),o=rt(vn(a)),a-=rt(bn(o)),r+=rt(a/30),a%=30,o+=rt(r/12),r%=12,s.days=a,s.months=r,s.years=o,this}function vn(e){return 400*e/146097}function bn(e){return 146097*e/400}function yn(e){var t,n,i=this._milliseconds;if(e=C(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+12*vn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(bn(this._months/12)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function _n(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)}function wn(e){return function(){return this.as(e)}}function Dn(e){return e=C(e),this[e+"s"]()}function Sn(e){return function(){return this._data[e]}}function xn(){return rt(this.days()/7)}function Cn(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}function Tn(e,t,n){var i=Ve(e).abs(),a=sa(i.as("s")),r=sa(i.as("m")),s=sa(i.as("h")),o=sa(i.as("d")),l=sa(i.as("M")),u=sa(i.as("y")),c=a<oa.s&&["s",a]||1===r&&["m"]||r<oa.m&&["mm",r]||1===s&&["h"]||s<oa.h&&["hh",s]||1===o&&["d"]||o<oa.d&&["dd",o]||1===l&&["M"]||l<oa.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,Cn.apply(null,c)}function In(e,t){return void 0!==oa[e]&&(void 0===t?oa[e]:(oa[e]=t,!0))}function kn(e){var t=this.localeData(),n=Tn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Fn(){var e=la(this.years()),t=la(this.months()),n=la(this.days()),i=la(this.hours()),a=la(this.minutes()),r=la(this.seconds()+this.milliseconds()/1e3),s=this.asSeconds();return s?(0>s?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||a||r?"T":"")+(i?i+"H":"")+(a?a+"M":"")+(r?r+"S":""):"P0D"}var Pn,An,En=e.momentProperties=[],Mn=!1,Rn={},On={},$n=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Ln=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,jn={},Hn={},Un=/\d/,Nn=/\d\d/,Bn=/\d{3}/,Wn=/\d{4}/,zn=/[+-]?\d{6}/,Yn=/\d\d?/,qn=/\d{1,3}/,Vn=/\d{1,4}/,Gn=/[+-]?\d{1,6}/,Qn=/\d+/,Xn=/[+-]?\d+/,Kn=/Z|[+-]\d\d:?\d\d/gi,Jn=/[+-]?\d+(\.\d{1,3})?/,Zn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ei={},ti={},ni=0,ii=1,ai=2,ri=3,si=4,oi=5,li=6;E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),E("MMMM",0,0,function(e){return this.localeData().months(this,e)}),x("month","M"),L("M",Yn),L("MM",Yn,Nn),L("MMM",Zn),L("MMMM",Zn),U(["M","MM"],function(e,t){t[ii]=m(e)-1}),U(["MMM","MMMM"],function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);null!=a?t[ii]=a:u(n).invalidMonth=e});var ui="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ci="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),di={};e.suppressDeprecationWarnings=!1;var hi=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],pi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],mi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=J("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),x("year","y"),L("Y",Xn),L("YY",Yn,Nn),L("YYYY",Vn,Wn),L("YYYYY",Gn,zn),L("YYYYYY",Gn,zn),U(["YYYY","YYYYY","YYYYYY"],ni),U("YY",function(t,n){n[ni]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return m(e)+(m(e)>68?1900:2e3)};var gi=I("FullYear",!1);E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),L("w",Yn),L("ww",Yn,Nn),L("W",Yn),L("WW",Yn,Nn),N(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=m(e)});var vi={dow:0,doy:6};E("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),L("DDD",qn),L("DDDD",Bn),U(["DDD","DDDD"],function(e,t,n){n._dayOfYear=m(e)}),e.ISO_8601=function(){};var bi=J("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Te.apply(null,arguments);return this>e?this:e}),yi=J("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Te.apply(null,arguments);return e>this?this:e});Ee("Z",":"),Ee("ZZ",""),L("Z",Kn),L("ZZ",Kn),U(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Me(e)});var _i=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var wi=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Di=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ve.fn=Pe.prototype;var Si=Ke(1,"add"),xi=Ke(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ci=J("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Tt("gggg","weekYear"),Tt("ggggg","weekYear"),Tt("GGGG","isoWeekYear"),Tt("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),L("G",Xn),L("g",Xn),L("GG",Yn,Nn),L("gg",Yn,Nn),L("GGGG",Vn,Wn),L("gggg",Vn,Wn),L("GGGGG",Gn,zn),L("ggggg",Gn,zn),N(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=m(e)}),N(["gg","GG"],function(t,n,i,a){n[a]=e.parseTwoDigitYear(t)}),E("Q",0,0,"quarter"),x("quarter","Q"),L("Q",Un),U("Q",function(e,t){t[ii]=3*(m(e)-1)}),E("D",["DD",2],"Do","date"),x("date","D"),L("D",Yn),L("DD",Yn,Nn),L("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),U(["D","DD"],ai),U("Do",function(e,t){t[ai]=m(e.match(Yn)[0],10)});var Ti=I("Date",!0);E("d",0,"do","day"),E("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),E("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),E("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),L("d",Yn),L("e",Yn),L("E",Yn),L("dd",Zn),L("ddd",Zn),L("dddd",Zn),N(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:u(n).invalidWeekday=e}),N(["d","e","E"],function(e,t,n,i){t[i]=m(e)});var Ii="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ki="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");E("H",["HH",2],0,"hour"),E("h",["hh",2],0,function(){return this.hours()%12||12}),Nt("a",!0),Nt("A",!1),x("hour","h"),L("a",Bt),L("A",Bt),L("H",Yn),L("h",Yn),L("HH",Yn,Nn),L("hh",Yn,Nn),U(["H","HH"],ri),U(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),U(["h","hh"],function(e,t,n){t[ri]=m(e),u(n).bigHour=!0});var Pi=/[ap]\.?m?\.?/i,Ai=I("Hours",!0);E("m",["mm",2],0,"minute"),x("minute","m"),L("m",Yn),L("mm",Yn,Nn),U(["m","mm"],si);var Ei=I("Minutes",!1);E("s",["ss",2],0,"second"),x("second","s"),L("s",Yn),L("ss",Yn,Nn),U(["s","ss"],oi);var Mi=I("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Yt("SSS"),Yt("SSSS"),x("millisecond","ms"),L("S",qn,Un),L("SS",qn,Nn),L("SSS",qn,Bn),L("SSSS",Qn),U(["S","SS","SSS","SSSS"],function(e,t){t[li]=m(1e3*("0."+e))});var Ri=I("Milliseconds",!1);E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var Oi=f.prototype;Oi.add=Si,Oi.calendar=Ze,Oi.clone=et,Oi.diff=st,Oi.endOf=bt,Oi.format=ct,Oi.from=dt,Oi.fromNow=ht,Oi.to=ft,Oi.toNow=pt,Oi.get=P,Oi.invalidAt=Ct,Oi.isAfter=tt,Oi.isBefore=nt,Oi.isBetween=it,Oi.isSame=at,Oi.isValid=St,Oi.lang=Ci,Oi.locale=mt,Oi.localeData=gt,Oi.max=yi,Oi.min=bi,Oi.parsingFlags=xt,Oi.set=P,Oi.startOf=vt,Oi.subtract=xi,Oi.toArray=Dt,Oi.toDate=wt,Oi.toISOString=ut,Oi.toJSON=ut,Oi.toString=lt,Oi.unix=_t,Oi.valueOf=yt,Oi.year=gi,Oi.isLeapYear=se,Oi.weekYear=kt,Oi.isoWeekYear=Ft,Oi.quarter=Oi.quarters=Et,Oi.month=G,Oi.daysInMonth=Q,Oi.week=Oi.weeks=de,Oi.isoWeek=Oi.isoWeeks=he,Oi.weeksInYear=At,Oi.isoWeeksInYear=Pt,Oi.date=Ti,Oi.day=Oi.days=jt,Oi.weekday=Ht,Oi.isoWeekday=Ut,Oi.dayOfYear=pe,Oi.hour=Oi.hours=Ai,Oi.minute=Oi.minutes=Ei,Oi.second=Oi.seconds=Mi,Oi.millisecond=Oi.milliseconds=Ri,Oi.utcOffset=$e,Oi.utc=je,Oi.local=He,Oi.parseZone=Ue,Oi.hasAlignedHourOffset=Ne,Oi.isDST=Be,Oi.isDSTShifted=We,Oi.isLocal=ze,Oi.isUtcOffset=Ye,Oi.isUtc=qe,Oi.isUTC=qe,Oi.zoneAbbr=qt,Oi.zoneName=Vt,Oi.dates=J("dates accessor is deprecated. Use date instead.",Ti),Oi.months=J("months accessor is deprecated. Use month instead",G),Oi.years=J("years accessor is deprecated. Use year instead",gi),Oi.zone=J("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Le);var $i=Oi,Li={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ji={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Hi="Invalid date",Ui="%d",Ni=/\d{1,2}/,Bi={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",
MM:"%d months",y:"a year",yy:"%d years"},Wi=v.prototype;Wi._calendar=Li,Wi.calendar=Xt,Wi._longDateFormat=ji,Wi.longDateFormat=Kt,Wi._invalidDate=Hi,Wi.invalidDate=Jt,Wi._ordinal=Ui,Wi.ordinal=Zt,Wi._ordinalParse=Ni,Wi.preparse=en,Wi.postformat=en,Wi._relativeTime=Bi,Wi.relativeTime=tn,Wi.pastFuture=nn,Wi.set=an,Wi.months=z,Wi._months=ui,Wi.monthsShort=Y,Wi._monthsShort=ci,Wi.monthsParse=q,Wi.week=le,Wi._week=vi,Wi.firstDayOfYear=ce,Wi.firstDayOfWeek=ue,Wi.weekdays=Rt,Wi._weekdays=Ii,Wi.weekdaysMin=$t,Wi._weekdaysMin=Fi,Wi.weekdaysShort=Ot,Wi._weekdaysShort=ki,Wi.weekdaysParse=Lt,Wi.isPM=Wt,Wi._meridiemParse=Pi,Wi.meridiem=zt,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===m(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=J("moment.lang is deprecated. Use moment.locale instead.",w),e.langData=J("moment.langData is deprecated. Use moment.localeData instead.",S);var zi=Math.abs,Yi=wn("ms"),qi=wn("s"),Vi=wn("m"),Gi=wn("h"),Qi=wn("d"),Xi=wn("w"),Ki=wn("M"),Ji=wn("y"),Zi=Sn("milliseconds"),ea=Sn("seconds"),ta=Sn("minutes"),na=Sn("hours"),ia=Sn("days"),aa=Sn("months"),ra=Sn("years"),sa=Math.round,oa={s:45,m:45,h:22,d:26,M:11},la=Math.abs,ua=Pe.prototype;ua.abs=hn,ua.add=pn,ua.subtract=mn,ua.as=yn,ua.asMilliseconds=Yi,ua.asSeconds=qi,ua.asMinutes=Vi,ua.asHours=Gi,ua.asDays=Qi,ua.asWeeks=Xi,ua.asMonths=Ki,ua.asYears=Ji,ua.valueOf=_n,ua._bubble=gn,ua.get=Dn,ua.milliseconds=Zi,ua.seconds=ea,ua.minutes=ta,ua.hours=na,ua.days=ia,ua.weeks=xn,ua.months=aa,ua.years=ra,ua.humanize=kn,ua.toISOString=Fn,ua.toString=Fn,ua.toJSON=Fn,ua.locale=mt,ua.localeData=gt,ua.toIsoString=J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Fn),ua.lang=Ci,E("X",0,0,"unix"),E("x",0,0,"valueOf"),L("x",Xn),L("X",Jn),U("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),U("x",function(e,t,n){n._d=new Date(m(e))}),e.version="2.10.3",t(Te),e.fn=$i,e.min=ke,e.max=Fe,e.utc=o,e.unix=Gt,e.months=on,e.isDate=i,e.locale=w,e.invalid=d,e.duration=Ve,e.isMoment=p,e.weekdays=un,e.parseZone=Qt,e.localeData=S,e.isDuration=Ae,e.monthsShort=ln,e.weekdaysMin=dn,e.defineLocale=D,e.weekdaysShort=cn,e.normalizeUnits=C,e.relativeTimeThreshold=In;var ca=e;return ca}),function e(t,n,i){function a(s,o){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return a(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,n){(function(n){"use strict";var i="undefined"!=typeof window?window.jQuery:"undefined"!=typeof n?n.jQuery:null,a=e("datatables");a.defaults.oLanguage={sProcessing:"\u5904\u7406\u4e2d...",sLengthMenu:"\u663e\u793a _MENU_ \u9879\u7ed3\u679c",sZeroRecords:"\u6ca1\u6709\u5339\u914d\u7ed3\u679c",sInfo:"\u663e\u793a\u7b2c _START_ \u81f3 _END_ \u9879\u7ed3\u679c\uff0c\u5171 _TOTAL_ \u9879",sInfoEmpty:"\u663e\u793a\u7b2c 0 \u81f3 0 \u9879\u7ed3\u679c\uff0c\u5171 0 \u9879",sInfoFiltered:"(\u7531 _MAX_ \u9879\u7ed3\u679c\u8fc7\u6ee4)",sInfoPostFix:"",sSearch:"\u641c\u7d22\uff1a",sUrl:"",sEmptyTable:"\u8868\u4e2d\u6570\u636e\u4e3a\u7a7a",sLoadingRecords:"\u8f7d\u5165\u4e2d...",sInfoThousands:",",oPaginate:{sFirst:"\u9996\u9875",sPrevious:"\u4e0a\u9875",sNext:"\u4e0b\u9875",sLast:"\u672b\u9875"},oAria:{sSortAscending:": \u4ee5\u5347\u5e8f\u6392\u5217\u6b64\u5217",sSortDescending:": \u4ee5\u964d\u5e8f\u6392\u5217\u6b64\u5217"}},i.extend(!0,a.defaults,{dom:"<'am-g am-datatable-hd'<'am-u-sm-12'f>><'am-g'<'am-u-sm-12'tr>><'am-g am-padding-vertical am-datatable-footer'<'am-u-sm-3'l><'am-u-sm-3'i><'am-u-sm-6 am-u-end'p>>",renderer:"amazeui"}),i.extend(a.ext.classes,{sWrapper:"dataTables_wrapper am-datatable am-form-inline dt-amazeui",sFilter:"dataTables_filter am-datatable-filter",sFilterInput:"am-form-field am-input-sm",sInfo:"dataTables_info am-datatable-info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length am-form-inline am-datatable-length",sLengthSelect:"am-input-sm",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_"}),a.ext.renderer.pageButton.amazeui=function(e,t,n,r,s,o){var l,u,c,d=new a.Api(e),h=e.oClasses,f=e.oLanguage.oPaginate,p=0,m=function(t,a){var r,c,g,v,b=function(e){e.preventDefault(),i(e.currentTarget).hasClass("am-disabled")||d.page(e.data.action).draw(!1)};for(r=0,c=a.length;r<c;r++)if(v=a[r],i.isArray(v))m(t,v);else{switch(l="",u="",v){case"ellipsis":l="&hellip;",u="am-disabled";break;case"first":l=f.sFirst,u=v+(s>0?"":" am-disabled");break;case"previous":l=f.sPrevious,u=v+(s>0?"":" am-disabled");break;case"next":l=f.sNext,u=v+(s<o-1?"":" am-disabled");break;case"last":l=f.sLast,u=v+(s<o-1?"":" am-disabled");break;default:l=v+1,u=s===v?"am-active":""}l&&(g=i("<li>",{"class":h.sPageButton+" "+u,id:0===n&&"string"==typeof v?e.sTableId+"_"+v:null}).append(i("<a>",{href:"#","aria-controls":e.sTableId,"data-dt-idx":p,tabindex:e.iTabIndex}).html(l)).appendTo(t),e.oApi._fnBindAction(g,{action:v},b),p++)}};try{c=i(document.activeElement).data("dt-idx")}catch(g){}m(i(t).empty().html('<ul class="am-datatable-pager am-pagination am-pagination-right am-text-sm"/>').children("ul"),r),c&&i(t).find("[data-dt-idx="+c+"]").focus()},a.TableTools&&(i.extend(!0,a.TableTools.classes,{container:"DTTT am-btn-group",buttons:{normal:"am-btn am-btn-default",disabled:"am-disabled"},collection:{container:"DTTT_dropdown dropdown-menu",buttons:{normal:"",disabled:"am-disabled"}},print:{info:"DTTT_print_info"},select:{row:"am-active"}}),i.extend(!0,a.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}})),t.exports=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{datatables:2}],2:[function(e,t,n){(function(e){!function(i,a,r){!function(a){"use strict";"object"==typeof n?t.exports=a("undefined"!=typeof i?i.jQuery:"undefined"!=typeof e?e.jQuery:null):jQuery&&!jQuery.fn.dataTable&&a(jQuery)}(function(e){"use strict";function t(n){var i,a,r="a aa ai ao as b fn i m o s ",s={};e.each(n,function(e,o){i=e.match(/^([^A-Z]+?)([A-Z])/),i&&r.indexOf(i[1]+" ")!==-1&&(a=e.replace(i[0],i[2].toLowerCase()),s[a]=e,"o"===i[1]&&t(n[e]))}),n._hungarianMap=s}function n(i,a,s){i._hungarianMap||t(i);var o;e.each(a,function(t,l){o=i._hungarianMap[t],o===r||!s&&a[o]!==r||("o"===o.charAt(0)?(a[o]||(a[o]={}),e.extend(!0,a[o],a[t]),n(i[o],a[o],s)):a[o]=a[t])})}function s(e){var t=Ge.defaults.oLanguage,n=e.sZeroRecords;!e.sEmptyTable&&n&&"No data available in table"===t.sEmptyTable&&Le(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&n&&"Loading..."===t.sLoadingRecords&&Le(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var i=e.sDecimal;i&&qe(i)}function o(e){bt(e,"ordering","bSort"),bt(e,"orderMulti","bSortMulti"),bt(e,"orderClasses","bSortClasses"),bt(e,"orderCellsTop","bSortCellsTop"),bt(e,"order","aaSorting"),bt(e,"orderFixed","aaSortingFixed"),bt(e,"paging","bPaginate"),bt(e,"pagingType","sPaginationType"),bt(e,"pageLength","iDisplayLength"),bt(e,"searching","bFilter");var t=e.aoSearchCols;if(t)for(var i=0,a=t.length;i<a;i++)t[i]&&n(Ge.models.oSearch,t[i])}function l(t){bt(t,"orderable","bSortable"),bt(t,"orderData","aDataSort"),bt(t,"orderSequence","asSorting"),bt(t,"orderDataType","sortDataType");var n=t.aDataSort;n&&!e.isArray(n)&&(t.aDataSort=[n])}function u(t){var n=t.oBrowser,i=e("<div/>").css({position:"absolute",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e('<div class="test"/>').css({width:"100%",height:10}))).appendTo("body"),a=i.find(".test");n.bScrollOversize=100===a[0].offsetWidth,n.bScrollbarLeft=1!==Math.round(a.offset().left),i.remove()}function c(e,t,n,i,a,s){var o,l=i,u=!1;for(n!==r&&(o=n,u=!0);l!==a;)e.hasOwnProperty(l)&&(o=u?t(o,e[l],l,e):e[l],u=!0,l+=s);return o}function d(t,n){var i=Ge.defaults.column,r=t.aoColumns.length,s=e.extend({},Ge.models.oColumn,i,{nTh:n?n:a.createElement("th"),sTitle:i.sTitle?i.sTitle:n?n.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[r],mData:i.mData?i.mData:r,idx:r});t.aoColumns.push(s);var o=t.aoPreSearchCols;o[r]=e.extend({},Ge.models.oSearch,o[r]),h(t,r,e(n).data())}function h(t,i,a){var s=t.aoColumns[i],o=t.oClasses,u=e(s.nTh);if(!s.sWidthOrig){s.sWidthOrig=u.attr("width")||null;var c=(u.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(s.sWidthOrig=c[1])}a!==r&&null!==a&&(l(a),n(Ge.defaults.column,a),a.mDataProp===r||a.mData||(a.mData=a.mDataProp),a.sType&&(s._sManualType=a.sType),a.className&&!a.sClass&&(a.sClass=a.className),e.extend(s,a),Le(s,a,"sWidth","sWidthOrig"),a.iDataSort!==r&&(s.aDataSort=[a.iDataSort]),Le(s,a,"aDataSort"));var d=s.mData,h=I(d),f=s.mRender?I(s.mRender):null,p=function(e){return"string"==typeof e&&e.indexOf("@")!==-1};s._bAttrSrc=e.isPlainObject(d)&&(p(d.sort)||p(d.type)||p(d.filter)),s.fnGetData=function(e,t,n){var i=h(e,t,r,n);return f&&t?f(i,t,e,n):i},s.fnSetData=function(e,t,n){return k(d)(e,t,n)},"number"!=typeof d&&(t._rowReadObject=!0),t.oFeatures.bSort||(s.bSortable=!1,u.addClass(o.sSortableNone));var m=e.inArray("asc",s.asSorting)!==-1,g=e.inArray("desc",s.asSorting)!==-1;s.bSortable&&(m||g)?m&&!g?(s.sSortingClass=o.sSortableAsc,s.sSortingClassJUI=o.sSortJUIAscAllowed):!m&&g?(s.sSortingClass=o.sSortableDesc,s.sSortingClassJUI=o.sSortJUIDescAllowed):(s.sSortingClass=o.sSortable,s.sSortingClassJUI=o.sSortJUI):(s.sSortingClass=o.sSortableNone,s.sSortingClassJUI="")}function f(e){if(e.oFeatures.bAutoWidth!==!1){var t=e.aoColumns;be(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}var a=e.oScroll;""===a.sY&&""===a.sX||ge(e),Ne(e,null,"column-sizing",[e])}function p(e,t){var n=v(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function m(t,n){var i=v(t,"bVisible"),a=e.inArray(n,i);return a!==-1?a:null}function g(e){return v(e,"bVisible").length}function v(t,n){var i=[];return e.map(t.aoColumns,function(e,t){e[n]&&i.push(t)}),i}function b(e){var t,n,i,a,s,o,l,u,c,d=e.aoColumns,h=e.aoData,f=Ge.ext.type.detect;for(t=0,n=d.length;t<n;t++)if(l=d[t],c=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(i=0,a=f.length;i<a;i++){for(s=0,o=h.length;s<o&&(c[s]===r&&(c[s]=x(e,s,t,"type")),u=f[i](c[s],e),u||i===f.length-1)&&"html"!==u;s++);if(u){l.sType=u;break}}l.sType||(l.sType="string")}}function y(t,n,i,a){var s,o,l,u,c,h,f,p=t.aoColumns;if(n)for(s=n.length-1;s>=0;s--){f=n[s];var m=f.targets!==r?f.targets:f.aTargets;for(e.isArray(m)||(m=[m]),l=0,u=m.length;l<u;l++)if("number"==typeof m[l]&&m[l]>=0){for(;p.length<=m[l];)d(t);a(m[l],f)}else if("number"==typeof m[l]&&m[l]<0)a(p.length+m[l],f);else if("string"==typeof m[l])for(c=0,h=p.length;c<h;c++)("_all"==m[l]||e(p[c].nTh).hasClass(m[l]))&&a(c,f)}if(i)for(s=0,o=i.length;s<o;s++)a(s,i[s])}function _(t,n,i,a){var r=t.aoData.length,s=e.extend(!0,{},Ge.models.oRow,{src:i?"dom":"data"});s._aData=n,t.aoData.push(s);for(var o=t.aoColumns,l=0,u=o.length;l<u;l++)i&&C(t,r,l,x(t,r,l)),o[l].sType=null;return t.aiDisplayMaster.push(r),!i&&t.oFeatures.bDeferRender||R(t,r,i,a),r}function w(t,n){var i;return n instanceof e||(n=e(n)),n.map(function(e,n){return i=M(t,n),_(t,i.data,n,i.cells)})}function D(e,t){return t._DT_RowIndex!==r?t._DT_RowIndex:null}function S(t,n,i){return e.inArray(i,t.aoData[n].anCells)}function x(e,t,n,i){var a=e.iDraw,s=e.aoColumns[n],o=e.aoData[t]._aData,l=s.sDefaultContent,u=s.fnGetData(o,i,{settings:e,row:t,col:n});if(u===r)return e.iDrawError!=a&&null===l&&($e(e,0,"Requested unknown parameter "+("function"==typeof s.mData?"{function}":"'"+s.mData+"'")+" for row "+t,4),e.iDrawError=a),l;if(u!==o&&null!==u||null===l){if("function"==typeof u)return u.call(o)}else u=l;return null===u&&"display"==i?"":u}function C(e,t,n,i){var a=e.aoColumns[n],r=e.aoData[t]._aData;a.fnSetData(r,i,{settings:e,row:t,col:n})}function T(t){return e.map(t.match(/(\\.|[^\.])+/g),function(e){return e.replace(/\\./g,".")})}function I(t){if(e.isPlainObject(t)){var n={};return e.each(t,function(e,t){t&&(n[e]=I(t))}),function(e,t,i,a){var s=n[t]||n._;return s!==r?s(e,t,i,a):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,i,a){return t(e,n,i,a)};if("string"!=typeof t||t.indexOf(".")===-1&&t.indexOf("[")===-1&&t.indexOf("(")===-1)return function(e,n){return e[t]};var i=function(e,t,n){var a,s,o,l;if(""!==n)for(var u=T(n),c=0,d=u.length;c<d;c++){if(a=u[c].match(yt),s=u[c].match(_t),a){u[c]=u[c].replace(yt,""),""!==u[c]&&(e=e[u[c]]),o=[],u.splice(0,c+1),l=u.join(".");for(var h=0,f=e.length;h<f;h++)o.push(i(e[h],t,l));var p=a[0].substring(1,a[0].length-1);e=""===p?o:o.join(p);break}if(s)u[c]=u[c].replace(_t,""),e=e[u[c]]();else{if(null===e||e[u[c]]===r)return r;e=e[u[c]]}}return e};return function(e,n){return i(e,n,t)}}function k(t){if(e.isPlainObject(t))return k(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,i){t(e,"set",n,i)};if("string"!=typeof t||t.indexOf(".")===-1&&t.indexOf("[")===-1&&t.indexOf("(")===-1)return function(e,n){e[t]=n};var n=function(e,t,i){for(var a,s,o,l,u,c=T(i),d=c[c.length-1],h=0,f=c.length-1;h<f;h++){if(s=c[h].match(yt),o=c[h].match(_t),s){c[h]=c[h].replace(yt,""),e[c[h]]=[],a=c.slice(),a.splice(0,h+1),u=a.join(".");for(var p=0,m=t.length;p<m;p++)l={},n(l,t[p],u),e[c[h]].push(l);return}o&&(c[h]=c[h].replace(_t,""),e=e[c[h]](t)),null!==e[c[h]]&&e[c[h]]!==r||(e[c[h]]={}),e=e[c[h]]}d.match(_t)?e=e[d.replace(_t,"")](t):e[d.replace(yt,"")]=t};return function(e,i){return n(e,i,t)}}function F(e){return ht(e.aoData,"_aData")}function P(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0}function A(e,t,n){for(var i=-1,a=0,s=e.length;a<s;a++)e[a]==t?i=a:e[a]>t&&e[a]--;i!=-1&&n===r&&e.splice(i,1)}function E(e,t,n,i){var a,s,o=e.aoData[t],l=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=x(e,t,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==o.src)){var u=o.anCells;if(u)if(i!==r)l(u[i],i);else for(a=0,s=u.length;a<s;a++)l(u[a],a)}else o._aData=M(e,o,i,i===r?r:o._aData).data;o._aSortData=null,o._aFilterData=null;var c=e.aoColumns;if(i!==r)c[i].sType=null;else{for(a=0,s=c.length;a<s;a++)c[a].sType=null;O(o)}}function M(t,n,i,a){var s,o,l,u=[],c=n.firstChild,d=0,h=t.aoColumns,f=t._rowReadObject;a=a||f?{}:[];var p=function(e,t){if("string"==typeof e){var n=e.indexOf("@");if(n!==-1){var i=e.substring(n+1),r=k(e);r(a,t.getAttribute(i))}}},m=function(t){if(i===r||i===d)if(o=h[d],l=e.trim(t.innerHTML),o&&o._bAttrSrc){var n=k(o.mData._);n(a,l),p(o.mData.sort,t),p(o.mData.type,t),p(o.mData.filter,t)}else f?(o._setter||(o._setter=k(o.mData)),o._setter(a,l)):a[d]=l;d++};if(c)for(;c;)s=c.nodeName.toUpperCase(),"TD"!=s&&"TH"!=s||(m(c),u.push(c)),c=c.nextSibling;else{u=n.anCells;for(var g=0,v=u.length;g<v;g++)m(u[g])}return{data:a,cells:u}}function R(e,t,n,i){var r,s,o,l,u,c=e.aoData[t],d=c._aData,h=[];if(null===c.nTr){for(r=n||a.createElement("tr"),c.nTr=r,c.anCells=h,r._DT_RowIndex=t,O(c),l=0,u=e.aoColumns.length;l<u;l++)o=e.aoColumns[l],s=n?i[l]:a.createElement(o.sCellType),h.push(s),n&&!o.mRender&&o.mData===l||(s.innerHTML=x(e,t,l,"display")),o.sClass&&(s.className+=" "+o.sClass),o.bVisible&&!n?r.appendChild(s):!o.bVisible&&n&&s.parentNode.removeChild(s),o.fnCreatedCell&&o.fnCreatedCell.call(e.oInstance,s,x(e,t,l),d,t,l);Ne(e,"aoRowCreatedCallback",null,[r,d,t])}c.nTr.setAttribute("role","row")}function O(t){var n=t.nTr,i=t._aData;if(n){if(i.DT_RowId&&(n.id=i.DT_RowId),i.DT_RowClass){var a=i.DT_RowClass.split(" ");t.__rowc=t.__rowc?vt(t.__rowc.concat(a)):a,e(n).removeClass(t.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowAttr&&e(n).attr(i.DT_RowAttr),i.DT_RowData&&e(n).data(i.DT_RowData)}}function $(t){var n,i,a,r,s,o=t.nTHead,l=t.nTFoot,u=0===e("th, td",o).length,c=t.oClasses,d=t.aoColumns;for(u&&(r=e("<tr/>").appendTo(o)),n=0,i=d.length;n<i;n++)s=d[n],a=e(s.nTh).addClass(s.sClass),u&&a.appendTo(r),t.oFeatures.bSort&&(a.addClass(s.sSortingClass),s.bSortable!==!1&&(a.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),Pe(t,s.nTh,n))),s.sTitle!=a.html()&&a.html(s.sTitle),We(t,"header")(t,a,s,c);if(u&&N(t.aoHeader,o),e(o).find(">tr").attr("role","row"),e(o).find(">tr>th, >tr>td").addClass(c.sHeaderTH),e(l).find(">tr>th, >tr>td").addClass(c.sFooterTH),null!==l){var h=t.aoFooter[0];for(n=0,i=h.length;n<i;n++)s=d[n],s.nTf=h[n].cell,s.sClass&&e(s.nTf).addClass(s.sClass)}}function L(t,n,i){var a,s,o,l,u,c,d,h,f,p=[],m=[],g=t.aoColumns.length;if(n){for(i===r&&(i=!1),a=0,s=n.length;a<s;a++){for(p[a]=n[a].slice(),p[a].nTr=n[a].nTr,o=g-1;o>=0;o--)t.aoColumns[o].bVisible||i||p[a].splice(o,1);m.push([])}for(a=0,s=p.length;a<s;a++){if(d=p[a].nTr)for(;c=d.firstChild;)d.removeChild(c);for(o=0,l=p[a].length;o<l;o++)if(h=1,f=1,m[a][o]===r){for(d.appendChild(p[a][o].cell),m[a][o]=1;p[a+h]!==r&&p[a][o].cell==p[a+h][o].cell;)m[a+h][o]=1,h++;for(;p[a][o+f]!==r&&p[a][o].cell==p[a][o+f].cell;){for(u=0;u<h;u++)m[a+u][o+f]=1;f++}e(p[a][o].cell).attr("rowspan",h).attr("colspan",f)}}}}function j(t){var n=Ne(t,"aoPreDrawCallback","preDraw",[t]);if(e.inArray(!1,n)!==-1)return void pe(t,!1);var i=[],a=0,s=t.asStripeClasses,o=s.length,l=(t.aoOpenRows.length,t.oLanguage),u=t.iInitDisplayStart,c="ssp"==ze(t),d=t.aiDisplay;t.bDrawing=!0,u!==r&&u!==-1&&(t._iDisplayStart=c?u:u>=t.fnRecordsDisplay()?0:u,t.iInitDisplayStart=-1);var h=t._iDisplayStart,f=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,pe(t,!1);else if(c){if(!t.bDestroying&&!z(t))return}else t.iDraw++;if(0!==d.length)for(var p=c?0:h,m=c?t.aoData.length:f,v=p;v<m;v++){var b=d[v],y=t.aoData[b];null===y.nTr&&R(t,b);var _=y.nTr;if(0!==o){var w=s[a%o];y._sRowStripe!=w&&(e(_).removeClass(y._sRowStripe).addClass(w),y._sRowStripe=w)}Ne(t,"aoRowCallback",null,[_,y._aData,a,v]),i.push(_),a++}else{var D=l.sZeroRecords;1==t.iDraw&&"ajax"==ze(t)?D=l.sLoadingRecords:l.sEmptyTable&&0===t.fnRecordsTotal()&&(D=l.sEmptyTable),i[0]=e("<tr/>",{"class":o?s[0]:""}).append(e("<td />",{valign:"top",colSpan:g(t),"class":t.oClasses.sRowEmpty}).html(D))[0]}Ne(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],F(t),h,f,d]),Ne(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],F(t),h,f,d]);var S=e(t.nTBody);S.children().detach(),S.append(e(i)),Ne(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}function H(e,t){var n=e.oFeatures,i=n.bSort,a=n.bFilter;i&&Ie(e),a?Q(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),t!==!0&&(e._iDisplayStart=0),e._drawHold=t,j(e),e._drawHold=!1}function U(t){var n=t.oClasses,i=e(t.nTable),a=e("<div/>").insertBefore(i),r=t.oFeatures,s=e("<div/>",{id:t.sTableId+"_wrapper","class":n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=a[0],t.nTableWrapper=s[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var o,l,u,c,d,h,f=t.sDom.split(""),p=0;p<f.length;p++){if(o=null,l=f[p],"<"==l){if(u=e("<div/>")[0],c=f[p+1],"'"==c||'"'==c){for(d="",h=2;f[p+h]!=c;)d+=f[p+h],h++;if("H"==d?d=n.sJUIHeader:"F"==d&&(d=n.sJUIFooter),d.indexOf(".")!=-1){var m=d.split(".");u.id=m[0].substr(1,m[0].length-1),u.className=m[1]}else"#"==d.charAt(0)?u.id=d.substr(1,d.length-1):u.className=d;p+=h}s.append(u),s=e(u)}else if(">"==l)s=s.parent();else if("l"==l&&r.bPaginate&&r.bLengthChange)o=ce(t);else if("f"==l&&r.bFilter)o=G(t);else if("r"==l&&r.bProcessing)o=fe(t);else if("t"==l)o=me(t);else if("i"==l&&r.bInfo)o=ae(t);else if("p"==l&&r.bPaginate)o=de(t);else if(0!==Ge.ext.feature.length)for(var g=Ge.ext.feature,v=0,b=g.length;v<b;v++)if(l==g[v].cFeature){o=g[v].fnInit(t);break}if(o){var y=t.aanFeatures;y[l]||(y[l]=[]),y[l].push(o),s.append(o)}}a.replaceWith(s)}function N(t,n){var i,a,r,s,o,l,u,c,d,h,f,p=e(n).children("tr"),m=function(e,t,n){for(var i=e[t];i[n];)n++;return n};for(t.splice(0,t.length),r=0,l=p.length;r<l;r++)t.push([]);for(r=0,l=p.length;r<l;r++)for(i=p[r],c=0,a=i.firstChild;a;){if("TD"==a.nodeName.toUpperCase()||"TH"==a.nodeName.toUpperCase())for(d=1*a.getAttribute("colspan"),h=1*a.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,h=h&&0!==h&&1!==h?h:1,u=m(t,r,c),f=1===d,o=0;o<d;o++)for(s=0;s<h;s++)t[r+s][u+o]={cell:a,unique:f},t[r+s].nTr=i;a=a.nextSibling}}function B(e,t,n){var i=[];n||(n=e.aoHeader,t&&(n=[],N(n,t)));for(var a=0,r=n.length;a<r;a++)for(var s=0,o=n[a].length;s<o;s++)!n[a][s].unique||i[s]&&e.bSortCellsTop||(i[s]=n[a][s].cell);return i}function W(t,n,i){if(Ne(t,"aoServerParams","serverParams",[n]),n&&e.isArray(n)){var a={},r=/(.*?)\[\]$/;e.each(n,function(e,t){var n=t.name.match(r);if(n){var i=n[0];a[i]||(a[i]=[]),a[i].push(t.value)}else a[t.name]=t.value}),n=a}var s,o=t.ajax,l=t.oInstance,u=function(e){Ne(t,null,"xhr",[t,e,t.jqXHR]),i(e)};if(e.isPlainObject(o)&&o.data){s=o.data;var c=e.isFunction(s)?s(n,t):s;n=e.isFunction(s)&&c?c:e.extend(!0,n,c),delete o.data}var d={data:n,success:function(e){var n=e.error||e.sError;n&&$e(t,0,n),t.json=e,u(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,i,a){var r=Ne(t,null,"xhr",[t,null,t.jqXHR]);e.inArray(!0,r)===-1&&("parsererror"==i?$e(t,0,"Invalid JSON response",1):4===n.readyState&&$e(t,0,"Ajax error",7)),pe(t,!1)}};t.oAjaxData=n,Ne(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,e.map(n,function(e,t){return{name:t,value:e}}),u,t):t.sAjaxSource||"string"==typeof o?t.jqXHR=e.ajax(e.extend(d,{url:o||t.sAjaxSource})):e.isFunction(o)?t.jqXHR=o.call(l,n,u,t):(t.jqXHR=e.ajax(e.extend(d,o)),o.data=s)}function z(e){return!e.bAjaxDataGet||(e.iDraw++,pe(e,!0),W(e,Y(e),function(t){q(e,t)}),!1)}function Y(t){var n,i,a,r,s=t.aoColumns,o=s.length,l=t.oFeatures,u=t.oPreviousSearch,c=t.aoPreSearchCols,d=[],h=Te(t),f=t._iDisplayStart,p=l.bPaginate!==!1?t._iDisplayLength:-1,m=function(e,t){d.push({name:e,value:t})};m("sEcho",t.iDraw),m("iColumns",o),m("sColumns",ht(s,"sName").join(",")),m("iDisplayStart",f),m("iDisplayLength",p);var g={draw:t.iDraw,columns:[],order:[],start:f,length:p,search:{value:u.sSearch,regex:u.bRegex}};for(n=0;n<o;n++)a=s[n],r=c[n],i="function"==typeof a.mData?"function":a.mData,g.columns.push({data:i,name:a.sName,searchable:a.bSearchable,orderable:a.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),m("mDataProp_"+n,i),l.bFilter&&(m("sSearch_"+n,r.sSearch),m("bRegex_"+n,r.bRegex),m("bSearchable_"+n,a.bSearchable)),l.bSort&&m("bSortable_"+n,a.bSortable);l.bFilter&&(m("sSearch",u.sSearch),m("bRegex",u.bRegex)),l.bSort&&(e.each(h,function(e,t){g.order.push({column:t.col,dir:t.dir}),m("iSortCol_"+e,t.col),m("sSortDir_"+e,t.dir)}),m("iSortingCols",h.length));var v=Ge.ext.legacy.ajax;return null===v?t.sAjaxSource?d:g:v?d:g}function q(e,t){var n=function(e,n){return t[e]!==r?t[e]:t[n]},i=V(e,t),a=n("sEcho","draw"),s=n("iTotalRecords","recordsTotal"),o=n("iTotalDisplayRecords","recordsFiltered");if(a){if(1*a<e.iDraw)return;e.iDraw=1*a}P(e),e._iRecordsTotal=parseInt(s,10),e._iRecordsDisplay=parseInt(o,10);for(var l=0,u=i.length;l<u;l++)_(e,i[l]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,j(e),e._bInitComplete||le(e,t),e.bAjaxDataGet=!0,pe(e,!1)}function V(t,n){var i=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==r?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===i?n.aaData||n[i]:""!==i?I(i)(n):n}function G(t){var n=t.oClasses,i=t.sTableId,r=t.oLanguage,s=t.oPreviousSearch,o=t.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',u=r.sSearch;u=u.match(/_INPUT_/)?u.replace("_INPUT_",l):u+l;var c=e("<div/>",{id:o.f?null:i+"_filter","class":n.sFilter}).append(e("<label/>").append(u)),d=function(){var e=(o.f,this.value?this.value:"");e!=s.sSearch&&(Q(t,{sSearch:e,bRegex:s.bRegex,bSmart:s.bSmart,bCaseInsensitive:s.bCaseInsensitive}),t._iDisplayStart=0,j(t))},h=null!==t.searchDelay?t.searchDelay:"ssp"===ze(t)?400:0,f=e("input",c).val(s.sSearch).attr("placeholder",r.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",h?ye(d,h):d).bind("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",i);return e(t.nTable).on("search.dt.DT",function(e,n){if(t===n)try{f[0]!==a.activeElement&&f.val(s.sSearch)}catch(i){}}),c[0]}function Q(e,t,n){var i=e.oPreviousSearch,a=e.aoPreSearchCols,s=function(e){i.sSearch=e.sSearch,i.bRegex=e.bRegex,i.bSmart=e.bSmart,i.bCaseInsensitive=e.bCaseInsensitive},o=function(e){return e.bEscapeRegex!==r?!e.bEscapeRegex:e.bRegex};if(b(e),"ssp"!=ze(e)){J(e,t.sSearch,n,o(t),t.bSmart,t.bCaseInsensitive),s(t);for(var l=0;l<a.length;l++)K(e,a[l].sSearch,l,o(a[l]),a[l].bSmart,a[l].bCaseInsensitive);X(e)}else s(t);e.bFiltered=!0,Ne(e,null,"search",[e])}function X(e){for(var t,n,i=Ge.ext.search,a=e.aiDisplay,r=0,s=i.length;r<s;r++){for(var o=[],l=0,u=a.length;l<u;l++)n=a[l],t=e.aoData[n],i[r](e,t._aFilterData,n,t._aData,l)&&o.push(n);a.length=0,a.push.apply(a,o)}}function K(e,t,n,i,a,r){if(""!==t)for(var s,o=e.aiDisplay,l=Z(t,i,a,r),u=o.length-1;u>=0;u--)s=e.aoData[o[u]]._aFilterData[n],l.test(s)||o.splice(u,1)}function J(e,t,n,i,a,r){var s,o,l,u=Z(t,i,a,r),c=e.oPreviousSearch.sSearch,d=e.aiDisplayMaster;if(0!==Ge.ext.search.length&&(n=!0),o=te(e),t.length<=0)e.aiDisplay=d.slice();else for((o||n||c.length>t.length||0!==t.indexOf(c)||e.bSorted)&&(e.aiDisplay=d.slice()),s=e.aiDisplay,l=s.length-1;l>=0;l--)u.test(e.aoData[s[l]]._sFilterRow)||s.splice(l,1)}function Z(t,n,i,a){if(t=n?t:ee(t),i){var r=e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")});t="^(?=.*?"+r.join(")(?=.*?")+").*$"}return new RegExp(t,a?"i":"")}function ee(e){return e.replace(at,"\\$1")}function te(e){var t,n,i,a,r,s,o,l,u=e.aoColumns,c=Ge.ext.type.search,d=!1;for(n=0,a=e.aoData.length;n<a;n++)if(l=e.aoData[n],!l._aFilterData){for(s=[],i=0,r=u.length;i<r;i++)t=u[i],t.bSearchable?(o=x(e,n,i,"filter"),c[t.sType]&&(o=c[t.sType](o)),null===o&&(o=""),"string"!=typeof o&&o.toString&&(o=o.toString())):o="",o.indexOf&&o.indexOf("&")!==-1&&(wt.innerHTML=o,o=Dt?wt.textContent:wt.innerText),o.replace&&(o=o.replace(/[\r\n]/g,"")),s.push(o);l._aFilterData=s,l._sFilterRow=s.join("  "),d=!0}return d}function ne(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ie(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function ae(t){var n=t.sTableId,i=t.aanFeatures.i,a=e("<div/>",{"class":t.oClasses.sInfo,id:i?null:n+"_info"});return i||(t.aoDrawCallback.push({fn:re,sName:"information"}),a.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),a[0]}function re(t){var n=t.aanFeatures.i;if(0!==n.length){var i=t.oLanguage,a=t._iDisplayStart+1,r=t.fnDisplayEnd(),s=t.fnRecordsTotal(),o=t.fnRecordsDisplay(),l=o?i.sInfo:i.sInfoEmpty;o!==s&&(l+=" "+i.sInfoFiltered),l+=i.sInfoPostFix,l=se(t,l);var u=i.fnInfoCallback;null!==u&&(l=u.call(t.oInstance,t,a,r,s,o,l)),e(n).html(l)}}function se(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,a=e._iDisplayLength,r=e.fnRecordsDisplay(),s=a===-1;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,r)).replace(/_PAGE_/g,n.call(e,s?1:Math.ceil(i/a))).replace(/_PAGES_/g,n.call(e,s?1:Math.ceil(r/a)))}function oe(e){var t,n,i,a=e.iInitDisplayStart,r=e.aoColumns,s=e.oFeatures;if(!e.bInitialised)return void setTimeout(function(){oe(e)},200);for(U(e),$(e),L(e,e.aoHeader),L(e,e.aoFooter),pe(e,!0),s.bAutoWidth&&be(e),t=0,n=r.length;t<n;t++)i=r[t],i.sWidth&&(i.nTh.style.width=xe(i.sWidth));H(e);var o=ze(e);"ssp"!=o&&("ajax"==o?W(e,[],function(n){var i=V(e,n);for(t=0;t<i.length;t++)_(e,i[t]);e.iInitDisplayStart=a,H(e),pe(e,!1),le(e,n)},e):(pe(e,!1),le(e)))}function le(e,t){e._bInitComplete=!0,t&&f(e),Ne(e,"aoInitComplete","init",[e,t])}function ue(e,t){var n=parseInt(t,10);e._iDisplayLength=n,Be(e),Ne(e,null,"length",[e,n])}function ce(t){for(var n=t.oClasses,i=t.sTableId,a=t.aLengthMenu,r=e.isArray(a[0]),s=r?a[0]:a,o=r?a[1]:a,l=e("<select/>",{name:i+"_length","aria-controls":i,"class":n.sLengthSelect}),u=0,c=s.length;u<c;u++)l[0][u]=new Option(o[u],s[u]);var d=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(d[0].id=i+"_length"),d.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",l[0].outerHTML)),e("select",d).val(t._iDisplayLength).bind("change.DT",function(n){ue(t,e(this).val()),j(t)}),e(t.nTable).bind("length.dt.DT",function(n,i,a){t===i&&e("select",d).val(a)}),d[0]}function de(t){var n=t.sPaginationType,i=Ge.ext.pager[n],a="function"==typeof i,r=function(e){j(e)},s=e("<div/>").addClass(t.oClasses.sPaging+n)[0],o=t.aanFeatures;return a||i.fnInit(t,s,r),o.p||(s.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(a){var t,n,s=e._iDisplayStart,l=e._iDisplayLength,u=e.fnRecordsDisplay(),c=l===-1,d=c?0:Math.ceil(s/l),h=c?1:Math.ceil(u/l),f=i(d,h);for(t=0,n=o.p.length;t<n;t++)We(e,"pageButton")(e,o.p[t],t,f,d,h)}else i.fnUpdate(e,r)},sName:"pagination"})),s}function he(e,t,n){var i=e._iDisplayStart,a=e._iDisplayLength,r=e.fnRecordsDisplay();0===r||a===-1?i=0:"number"==typeof t?(i=t*a,i>r&&(i=0)):"first"==t?i=0:"previous"==t?(i=a>=0?i-a:0,i<0&&(i=0)):"next"==t?i+a<r&&(i+=a):"last"==t?i=Math.floor((r-1)/a)*a:$e(e,0,"Unknown paging action: "+t,5);var s=e._iDisplayStart!==i;return e._iDisplayStart=i,s&&(Ne(e,null,"page",[e]),n&&j(e)),s}function fe(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing","class":t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function pe(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),Ne(t,null,"processing",[t,n])}function me(t){var n=e(t.nTable);n.attr("role","grid");var i=t.oScroll;if(""===i.sX&&""===i.sY)return t.nTable;var a=i.sX,r=i.sY,s=t.oClasses,o=n.children("caption"),l=o.length?o[0]._captionSide:null,u=e(n[0].cloneNode(!1)),c=e(n[0].cloneNode(!1)),d=n.children("tfoot"),h="<div/>",f=function(e){return e?xe(e):null};i.sX&&"100%"===n.attr("width")&&n.removeAttr("width"),d.length||(d=null);var p=e(h,{"class":s.sScrollWrapper}).append(e(h,{"class":s.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:a?f(a):"100%"}).append(e(h,{"class":s.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append("top"===l?o:null).append(n.children("thead"))))).append(e(h,{"class":s.sScrollBody}).css({overflow:"auto",height:f(r),width:f(a)}).append(n));d&&p.append(e(h,{"class":s.sScrollFoot}).css({overflow:"hidden",border:0,width:a?f(a):"100%"}).append(e(h,{"class":s.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===l?o:null).append(n.children("tfoot")))));var m=p.children(),g=m[0],v=m[1],b=d?m[2]:null;return a&&e(v).on("scroll.DT",function(e){var t=this.scrollLeft;g.scrollLeft=t,d&&(b.scrollLeft=t)}),t.nScrollHead=g,t.nScrollBody=v,t.nScrollFoot=b,t.aoDrawCallback.push({fn:ge,sName:"scrolling"}),p[0]}function ge(t){var n,i,a,r,s,o,l,u,c,d=t.oScroll,h=d.sX,f=d.sXInner,m=d.sY,g=d.iBarWidth,v=e(t.nScrollHead),b=v[0].style,y=v.children("div"),_=y[0].style,w=y.children("table"),D=t.nScrollBody,S=e(D),x=D.style,C=e(t.nScrollFoot),T=C.children("div"),I=T.children("table"),k=e(t.nTHead),F=e(t.nTable),P=F[0],A=P.style,E=t.nTFoot?e(t.nTFoot):null,M=t.oBrowser,R=M.bScrollOversize,O=[],$=[],L=[],j=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};if(F.children("thead, tfoot").remove(),s=k.clone().prependTo(F),n=k.find("tr"),a=s.find("tr"),s.find("th, td").removeAttr("tabindex"),E&&(o=E.clone().prependTo(F),i=E.find("tr"),r=o.find("tr")),
h||(x.width="100%",v[0].style.width="100%"),e.each(B(t,s),function(e,n){l=p(t,e),n.style.width=t.aoColumns[l].sWidth}),E&&ve(function(e){e.style.width=""},r),d.bCollapse&&""!==m&&(x.height=S[0].offsetHeight+k[0].offsetHeight+"px"),c=F.outerWidth(),""===h?(A.width="100%",R&&(F.find("tbody").height()>D.offsetHeight||"scroll"==S.css("overflow-y"))&&(A.width=xe(F.outerWidth()-g))):""!==f?A.width=xe(f):c==S.width()&&S.height()<F.height()?(A.width=xe(c-g),F.outerWidth()>c-g&&(A.width=xe(c))):A.width=xe(c),c=F.outerWidth(),ve(j,a),ve(function(t){L.push(t.innerHTML),O.push(xe(e(t).css("width")))},a),ve(function(e,t){e.style.width=O[t]},n),e(a).height(0),E&&(ve(j,r),ve(function(t){$.push(xe(e(t).css("width")))},r),ve(function(e,t){e.style.width=$[t]},i),e(r).height(0)),ve(function(e,t){e.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+L[t]+"</div>",e.style.width=O[t]},a),E&&ve(function(e,t){e.innerHTML="",e.style.width=$[t]},r),F.outerWidth()<c?(u=D.scrollHeight>D.offsetHeight||"scroll"==S.css("overflow-y")?c+g:c,R&&(D.scrollHeight>D.offsetHeight||"scroll"==S.css("overflow-y"))&&(A.width=xe(u-g)),""!==h&&""===f||$e(t,1,"Possible column misalignment",6)):u="100%",x.width=xe(u),b.width=xe(u),E&&(t.nScrollFoot.style.width=xe(u)),m||R&&(x.height=xe(P.offsetHeight+g)),m&&d.bCollapse){x.height=xe(m);var H=h&&P.offsetWidth>D.offsetWidth?g:0;P.offsetHeight<D.offsetHeight&&(x.height=xe(P.offsetHeight+H))}var U=F.outerWidth();w[0].style.width=xe(U),_.width=xe(U);var N=F.height()>D.clientHeight||"scroll"==S.css("overflow-y"),W="padding"+(M.bScrollbarLeft?"Left":"Right");_[W]=N?g+"px":"0px",E&&(I[0].style.width=xe(U),T[0].style.width=xe(U),T[0].style[W]=N?g+"px":"0px"),S.scroll(),!t.bSorted&&!t.bFiltered||t._drawHold||(D.scrollTop=0)}function ve(e,t,n){for(var i,a,r=0,s=0,o=t.length;s<o;){for(i=t[s].firstChild,a=n?n[s].firstChild:null;i;)1===i.nodeType&&(n?e(i,a,r):e(i,r),r++),i=i.nextSibling,a=n?a.nextSibling:null;s++}}function be(t){var n,a,r,s,o,l=t.nTable,u=t.aoColumns,c=t.oScroll,d=c.sY,h=c.sX,p=c.sXInner,m=u.length,b=v(t,"bVisible"),y=e("th",t.nTHead),_=l.getAttribute("width"),w=l.parentNode,D=!1,S=l.style.width;for(S&&S.indexOf("%")!==-1&&(_=S),n=0;n<b.length;n++)a=u[b[n]],null!==a.sWidth&&(a.sWidth=_e(a.sWidthOrig,w),D=!0);if(D||h||d||m!=g(t)||m!=y.length){var x=e(l).clone().css("visibility","hidden").removeAttr("id");x.find("tbody tr").remove();var C=e("<tr/>").appendTo(x.find("tbody"));for(x.find("tfoot th, tfoot td").css("width",""),y=B(t,x.find("thead")[0]),n=0;n<b.length;n++)a=u[b[n]],y[n].style.width=null!==a.sWidthOrig&&""!==a.sWidthOrig?xe(a.sWidthOrig):"";if(t.aoData.length)for(n=0;n<b.length;n++)r=b[n],a=u[r],e(De(t,r)).clone(!1).append(a.sContentPadding).appendTo(C);if(x.appendTo(w),h&&p?x.width(p):h?(x.css("width","auto"),x.width()<w.offsetWidth&&x.width(w.offsetWidth)):d?x.width(w.offsetWidth):_&&x.width(_),we(t,x[0]),h){var T=0;for(n=0;n<b.length;n++)a=u[b[n]],o=e(y[n]).outerWidth(),T+=null===a.sWidthOrig?o:parseInt(a.sWidth,10)+o-e(y[n]).width();x.width(xe(T)),l.style.width=xe(T)}for(n=0;n<b.length;n++)a=u[b[n]],s=e(y[n]).width(),s&&(a.sWidth=xe(s));l.style.width=xe(x.css("width")),x.remove()}else for(n=0;n<m;n++)u[n].sWidth=xe(y.eq(n).width());if(_&&(l.style.width=xe(_)),(_||h)&&!t._reszEvt){var I=function(){e(i).bind("resize.DT-"+t.sInstance,ye(function(){f(t)}))};t.oBrowser.bScrollOversize?setTimeout(I,1e3):I(),t._reszEvt=!0}}function ye(e,t){var n,i,a=t!==r?t:200;return function(){var t=this,s=+new Date,o=arguments;n&&s<n+a?(clearTimeout(i),i=setTimeout(function(){n=r,e.apply(t,o)},a)):(n=s,e.apply(t,o))}}function _e(t,n){if(!t)return 0;var i=e("<div/>").css("width",xe(t)).appendTo(n||a.body),r=i[0].offsetWidth;return i.remove(),r}function we(t,n){var i=t.oScroll;if(i.sX||i.sY){var a=i.sX?0:i.iBarWidth;n.style.width=xe(e(n).outerWidth()-a)}}function De(t,n){var i=Se(t,n);if(i<0)return null;var a=t.aoData[i];return a.nTr?a.anCells[n]:e("<td/>").html(x(t,i,n,"display"))[0]}function Se(e,t){for(var n,i=-1,a=-1,r=0,s=e.aoData.length;r<s;r++)n=x(e,r,t,"display")+"",n=n.replace(St,""),n.length>i&&(i=n.length,a=r);return a}function xe(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Ce(){var t=Ge.__scrollbarWidth;if(t===r){var n=e("<p/>").css({position:"absolute",top:0,left:0,width:"100%",height:150,padding:0,overflow:"scroll",visibility:"hidden"}).appendTo("body");t=n[0].offsetWidth-n[0].clientWidth,Ge.__scrollbarWidth=t,n.remove()}return t}function Te(t){var n,i,a,s,o,l,u,c=[],d=t.aoColumns,h=t.aaSortingFixed,f=e.isPlainObject(h),p=[],m=function(t){t.length&&!e.isArray(t[0])?p.push(t):p.push.apply(p,t)};for(e.isArray(h)&&m(h),f&&h.pre&&m(h.pre),m(t.aaSorting),f&&h.post&&m(h.post),n=0;n<p.length;n++)for(u=p[n][0],s=d[u].aDataSort,i=0,a=s.length;i<a;i++)o=s[i],l=d[o].sType||"string",p[n]._idx===r&&(p[n]._idx=e.inArray(p[n][1],d[o].asSorting)),c.push({src:u,col:o,dir:p[n][1],index:p[n]._idx,type:l,formatter:Ge.ext.type.order[l+"-pre"]});return c}function Ie(e){var t,n,i,a,r,s=[],o=Ge.ext.type.order,l=e.aoData,u=(e.aoColumns,0),c=e.aiDisplayMaster;for(b(e),r=Te(e),t=0,n=r.length;t<n;t++)a=r[t],a.formatter&&u++,Ee(e,a.col);if("ssp"!=ze(e)&&0!==r.length){for(t=0,i=c.length;t<i;t++)s[c[t]]=t;u===r.length?c.sort(function(e,t){var n,i,a,o,u,c=r.length,d=l[e]._aSortData,h=l[t]._aSortData;for(a=0;a<c;a++)if(u=r[a],n=d[u.col],i=h[u.col],o=n<i?-1:n>i?1:0,0!==o)return"asc"===u.dir?o:-o;return n=s[e],i=s[t],n<i?-1:n>i?1:0}):c.sort(function(e,t){var n,i,a,u,c,d,h=r.length,f=l[e]._aSortData,p=l[t]._aSortData;for(a=0;a<h;a++)if(c=r[a],n=f[c.col],i=p[c.col],d=o[c.type+"-"+c.dir]||o["string-"+c.dir],u=d(n,i),0!==u)return u;return n=s[e],i=s[t],n<i?-1:n>i?1:0})}e.bSorted=!0}function ke(e){for(var t,n,i=e.aoColumns,a=Te(e),r=e.oLanguage.oAria,s=0,o=i.length;s<o;s++){var l=i[s],u=l.asSorting,c=l.sTitle.replace(/<.*?>/g,""),d=l.nTh;d.removeAttribute("aria-sort"),l.bSortable?(a.length>0&&a[0].col==s?(d.setAttribute("aria-sort","asc"==a[0].dir?"ascending":"descending"),n=u[a[0].index+1]||u[0]):n=u[0],t=c+("asc"===n?r.sSortAscending:r.sSortDescending)):t=c,d.setAttribute("aria-label",t)}}function Fe(t,n,i,a){var s,o=t.aoColumns[n],l=t.aaSorting,u=o.asSorting,c=function(t,n){var i=t._idx;return i===r&&(i=e.inArray(t[1],u)),i+1<u.length?i+1:n?null:0};if("number"==typeof l[0]&&(l=t.aaSorting=[l]),i&&t.oFeatures.bSortMulti){var d=e.inArray(n,ht(l,"0"));d!==-1?(s=c(l[d],!0),null===s&&1===l.length&&(s=0),null===s?l.splice(d,1):(l[d][1]=u[s],l[d]._idx=s)):(l.push([n,u[0],0]),l[l.length-1]._idx=0)}else l.length&&l[0][0]==n?(s=c(l[0]),l.length=1,l[0][1]=u[s],l[0]._idx=s):(l.length=0,l.push([n,u[0]]),l[0]._idx=0);H(t),"function"==typeof a&&a(t)}function Pe(e,t,n,i){var a=e.aoColumns[n];He(t,{},function(t){a.bSortable!==!1&&(e.oFeatures.bProcessing?(pe(e,!0),setTimeout(function(){Fe(e,n,t.shiftKey,i),"ssp"!==ze(e)&&pe(e,!1)},0)):Fe(e,n,t.shiftKey,i))})}function Ae(t){var n,i,a,r=t.aLastSort,s=t.oClasses.sSortColumn,o=Te(t),l=t.oFeatures;if(l.bSort&&l.bSortClasses){for(n=0,i=r.length;n<i;n++)a=r[n].src,e(ht(t.aoData,"anCells",a)).removeClass(s+(n<2?n+1:3));for(n=0,i=o.length;n<i;n++)a=o[n].src,e(ht(t.aoData,"anCells",a)).addClass(s+(n<2?n+1:3))}t.aLastSort=o}function Ee(e,t){var n,i=e.aoColumns[t],a=Ge.ext.order[i.sSortDataType];a&&(n=a.call(e.oInstance,e,t,m(e,t)));for(var r,s,o=Ge.ext.type.order[i.sType+"-pre"],l=0,u=e.aoData.length;l<u;l++)r=e.aoData[l],r._aSortData||(r._aSortData=[]),r._aSortData[t]&&!a||(s=a?n[l]:x(e,l,t,"sort"),r._aSortData[t]=o?o(s):s)}function Me(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:ne(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:ne(t.aoPreSearchCols[n])}})};Ne(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oSavedState=n,t.fnStateSaveCallback.call(t.oInstance,t,n)}}function Re(t,n){var i,a,s=t.aoColumns;if(t.oFeatures.bStateSave){var o=t.fnStateLoadCallback.call(t.oInstance,t);if(o&&o.time){var l=Ne(t,"aoStateLoadParams","stateLoadParams",[t,o]);if(e.inArray(!1,l)===-1){var u=t.iStateDuration;if(!(u>0&&o.time<+new Date-1e3*u)&&s.length===o.columns.length){for(t.oLoadedState=e.extend(!0,{},o),o.start!==r&&(t._iDisplayStart=o.start,t.iInitDisplayStart=o.start),o.length!==r&&(t._iDisplayLength=o.length),o.order!==r&&(t.aaSorting=[],e.each(o.order,function(e,n){t.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)})),o.search!==r&&e.extend(t.oPreviousSearch,ie(o.search)),i=0,a=o.columns.length;i<a;i++){var c=o.columns[i];c.visible!==r&&(s[i].bVisible=c.visible),c.search!==r&&e.extend(t.aoPreSearchCols[i],ie(c.search))}Ne(t,"aoStateLoaded","stateLoaded",[t,o])}}}}}function Oe(t){var n=Ge.settings,i=e.inArray(t,ht(n,"nTable"));return i!==-1?n[i]:null}function $e(e,t,n,a){if(n="DataTables warning: "+(null!==e?"table id="+e.sTableId+" - ":"")+n,a&&(n+=". For more information about this error, please see http://datatables.net/tn/"+a),t)i.console&&console.log&&console.log(n);else{var r=Ge.ext,s=r.sErrMode||r.errMode;if(Ne(e,null,"error",[e,a,n]),"alert"==s)alert(n);else{if("throw"==s)throw new Error(n);"function"==typeof s&&s(e,a,n)}}}function Le(t,n,i,a){return e.isArray(i)?void e.each(i,function(i,a){e.isArray(a)?Le(t,n,a[0],a[1]):Le(t,n,a)}):(a===r&&(a=i),void(n[i]!==r&&(t[a]=n[i])))}function je(t,n,i){var a;for(var r in n)n.hasOwnProperty(r)&&(a=n[r],e.isPlainObject(a)?(e.isPlainObject(t[r])||(t[r]={}),e.extend(!0,t[r],a)):i&&"data"!==r&&"aaData"!==r&&e.isArray(a)?t[r]=a.slice():t[r]=a);return t}function He(t,n,i){e(t).bind("click.DT",n,function(e){t.blur(),i(e)}).bind("keypress.DT",n,function(e){13===e.which&&(e.preventDefault(),i(e))}).bind("selectstart.DT",function(){return!1})}function Ue(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function Ne(t,n,i,a){var r=[];if(n&&(r=e.map(t[n].slice().reverse(),function(e,n){return e.fn.apply(t.oInstance,a)})),null!==i){var s=e.Event(i+".dt");e(t.nTable).trigger(s,a),r.push(s.result)}return r}function Be(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;t>=n&&(t=n-i),t-=t%i,(i===-1||t<0)&&(t=0),e._iDisplayStart=t}function We(t,n){var i=t.renderer,a=Ge.ext.renderer[n];return e.isPlainObject(i)&&i[n]?a[i[n]]||a._:"string"==typeof i?a[i]||a._:a._}function ze(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Ye(e,t){var n=[],i=qt.numbers_length,a=Math.floor(i/2);return t<=i?n=pt(0,t):e<=a?(n=pt(0,i-2),n.push("ellipsis"),n.push(t-1)):e>=t-1-a?(n=pt(t-(i-2),t),n.splice(0,0,"ellipsis"),n.splice(0,0,0)):(n=pt(e-a+2,e+a-1),n.push("ellipsis"),n.push(t-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function qe(t){e.each({num:function(e){return Vt(e,t)},"num-fmt":function(e){return Vt(e,t,rt)},"html-num":function(e){return Vt(e,t,tt)},"html-num-fmt":function(e){return Vt(e,t,tt,rt)}},function(e,n){Qe.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(Qe.type.search[e+t]=Qe.type.search.html)})}function Ve(e){return function(){var t=[Oe(this[Ge.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Ge.ext.internal[e].apply(this,t)}}var Ge,Qe,Xe,Ke,Je,Ze={},et=/[\r\n]/g,tt=/<.*?>/g,nt=/^[\w\+\-]/,it=/[\w\+\-]$/,at=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),rt=/[',$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,st=function(e){return!e||e===!0||"-"===e},ot=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},lt=function(e,t){return Ze[t]||(Ze[t]=new RegExp(ee(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Ze[t],"."):e},ut=function(e,t,n){var i="string"==typeof e;return!!st(e)||(t&&i&&(e=lt(e,t)),n&&i&&(e=e.replace(rt,"")),!isNaN(parseFloat(e))&&isFinite(e))},ct=function(e){return st(e)||"string"==typeof e},dt=function(e,t,n){if(st(e))return!0;var i=ct(e);return i?!!ut(gt(e),t,n)||null:null},ht=function(e,t,n){var i=[],a=0,s=e.length;if(n!==r)for(;a<s;a++)e[a]&&e[a][t]&&i.push(e[a][t][n]);else for(;a<s;a++)e[a]&&i.push(e[a][t]);return i},ft=function(e,t,n,i){var a=[],s=0,o=t.length;if(i!==r)for(;s<o;s++)e[t[s]][n]&&a.push(e[t[s]][n][i]);else for(;s<o;s++)a.push(e[t[s]][n]);return a},pt=function(e,t){var n,i=[];t===r?(t=0,n=e):(n=t,t=e);for(var a=t;a<n;a++)i.push(a);return i},mt=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},gt=function(e){return e.replace(tt,"")},vt=function(e){var t,n,i,a=[],r=e.length,s=0;e:for(n=0;n<r;n++){for(t=e[n],i=0;i<s;i++)if(a[i]===t)continue e;a.push(t),s++}return a},bt=function(e,t,n){e[t]!==r&&(e[n]=e[t])},yt=/\[.*?\]$/,_t=/\(\)$/,wt=e("<div>")[0],Dt=wt.textContent!==r,St=/<.*?>/g;Ge=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new Xe(e?Oe(this[Qe.iApiIndex]):this)},this.fnAddData=function(t,n){var i=this.api(!0),a=e.isArray(t)&&(e.isArray(t[0])||e.isPlainObject(t[0]))?i.rows.add(t):i.row.add(t);return(n===r||n)&&i.draw(),a.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],i=n.oScroll;e===r||e?t.draw(!1):""===i.sX&&""===i.sY||ge(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===r||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var i=this.api(!0),a=i.rows(e),s=a.settings()[0],o=s.aoData[a[0][0]];return a.remove(),t&&t.call(this,s,o),(n===r||n)&&i.draw(),o},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,i,a,s){var o=this.api(!0);null===t||t===r?o.search(e,n,i,s):o.column(t).search(e,n,i,s),o.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==r){var i=e.nodeName?e.nodeName.toLowerCase():"";return t!==r||"td"==i||"th"==i?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==r?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if("TR"==n)return t.row(e).index();if("TD"==n||"TH"==n){var i=t.cell(e).index();return[i.row,i.columnVisible,i.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===r||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var i=this.api(!0).column(e).visible(t);(n===r||n)&&i.columns.adjust().draw()},this.fnSettings=function(){return Oe(this[Qe.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,i,a){var s=this.api(!0);return n===r||null===n?s.row(t).data(e):s.cell(t,n).data(e),(a===r||a)&&s.columns.adjust(),(i===r||i)&&s.draw(),0},this.fnVersionCheck=Qe.fnVersionCheck;var i=this,a=t===r,c=this.length;a&&(t={}),this.oApi=this.internal=Qe.internal;for(var f in Ge.ext.internal)f&&(this[f]=Ve(f));return this.each(function(){var f,p={},m=c>1?je(p,t,!0):t,g=0,v=this.getAttribute("id"),b=!1,D=Ge.defaults,S=e(this);if("table"!=this.nodeName.toLowerCase())return void $e(null,0,"Non-table node initialisation ("+this.nodeName+")",2);o(D),l(D.column),n(D,D,!0),n(D.column,D.column,!0),n(D,e.extend(m,S.data()));var x=Ge.settings;for(g=0,f=x.length;g<f;g++){var C=x[g];if(C.nTable==this||C.nTHead.parentNode==this||C.nTFoot&&C.nTFoot.parentNode==this){var T=m.bRetrieve!==r?m.bRetrieve:D.bRetrieve,I=m.bDestroy!==r?m.bDestroy:D.bDestroy;if(a||T)return C.oInstance;if(I){C.oInstance.fnDestroy();break}return void $e(C,0,"Cannot reinitialise DataTable",3)}if(C.sTableId==this.id){x.splice(g,1);break}}null!==v&&""!==v||(v="DataTables_Table_"+Ge.ext._unique++,this.id=v);var k=e.extend(!0,{},Ge.models.oSettings,{sDestroyWidth:S[0].style.width,sInstance:v,sTableId:v});k.nTable=this,k.oApi=i.internal,k.oInit=m,x.push(k),k.oInstance=1===i.length?i:S.dataTable(),o(m),m.oLanguage&&s(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=e.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=je(e.extend(!0,{},D),m),Le(k.oFeatures,m,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),Le(k,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]),Le(k.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Le(k.oLanguage,m,"fnInfoCallback"),Ue(k,"aoDrawCallback",m.fnDrawCallback,"user"),Ue(k,"aoServerParams",m.fnServerParams,"user"),Ue(k,"aoStateSaveParams",m.fnStateSaveParams,"user"),Ue(k,"aoStateLoadParams",m.fnStateLoadParams,"user"),Ue(k,"aoStateLoaded",m.fnStateLoaded,"user"),Ue(k,"aoRowCallback",m.fnRowCallback,"user"),Ue(k,"aoRowCreatedCallback",m.fnCreatedRow,"user"),Ue(k,"aoHeaderCallback",m.fnHeaderCallback,"user"),Ue(k,"aoFooterCallback",m.fnFooterCallback,"user"),Ue(k,"aoInitComplete",m.fnInitComplete,"user"),Ue(k,"aoPreDrawCallback",m.fnPreDrawCallback,"user");var F=k.oClasses;if(m.bJQueryUI?(e.extend(F,Ge.ext.oJUIClasses,m.oClasses),m.sDom===D.sDom&&"lfrtip"===D.sDom&&(k.sDom='<"H"lfr>t<"F"ip>'),k.renderer?e.isPlainObject(k.renderer)&&!k.renderer.header&&(k.renderer.header="jqueryui"):k.renderer="jqueryui"):e.extend(F,Ge.ext.classes,m.oClasses),S.addClass(F.sTable),""===k.oScroll.sX&&""===k.oScroll.sY||(k.oScroll.iBarWidth=Ce()),k.oScroll.sX===!0&&(k.oScroll.sX="100%"),k.iInitDisplayStart===r&&(k.iInitDisplayStart=m.iDisplayStart,k._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading){k.bDeferLoading=!0;var P=e.isArray(m.iDeferLoading);k._iRecordsDisplay=P?m.iDeferLoading[0]:m.iDeferLoading,k._iRecordsTotal=P?m.iDeferLoading[1]:m.iDeferLoading}var A=k.oLanguage;e.extend(!0,A,m.oLanguage),""!==A.sUrl&&(e.ajax({dataType:"json",url:A.sUrl,success:function(t){s(t),n(D.oLanguage,t),e.extend(!0,A,t),oe(k)},error:function(){oe(k)}}),b=!0),null===m.asStripeClasses&&(k.asStripeClasses=[F.sStripeOdd,F.sStripeEven]);var E=k.asStripeClasses,R=S.children("tbody").find("tr").eq(0);e.inArray(!0,e.map(E,function(e,t){return R.hasClass(e)}))!==-1&&(e("tbody tr",this).removeClass(E.join(" ")),k.asDestroyStripes=E.slice());var O,$=[],L=this.getElementsByTagName("thead");if(0!==L.length&&(N(k.aoHeader,L[0]),$=B(k)),null===m.aoColumns)for(O=[],g=0,f=$.length;g<f;g++)O.push(null);else O=m.aoColumns;for(g=0,f=O.length;g<f;g++)d(k,$?$[g]:null);if(y(k,m.aoColumnDefs,O,function(e,t){h(k,e,t)}),R.length){var j=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e.each(M(k,R[0]).cells,function(e,t){var n=k.aoColumns[e];if(n.mData===e){var i=j(t,"sort")||j(t,"order"),a=j(t,"filter")||j(t,"search");null===i&&null===a||(n.mData={_:e+".display",sort:null!==i?e+".@data-"+i:r,type:null!==i?e+".@data-"+i:r,filter:null!==a?e+".@data-"+a:r},h(k,e))}})}var H=k.oFeatures;if(m.bStateSave&&(H.bStateSave=!0,Re(k,m),Ue(k,"aoDrawCallback",Me,"state_save")),m.aaSorting===r){var U=k.aaSorting;for(g=0,f=U.length;g<f;g++)U[g][1]=k.aoColumns[g].asSorting[0]}Ae(k),H.bSort&&Ue(k,"aoDrawCallback",function(){if(k.bSorted){var t=Te(k),n={};e.each(t,function(e,t){n[t.src]=t.dir}),Ne(k,null,"order",[k,t,n]),ke(k)}}),Ue(k,"aoDrawCallback",function(){(k.bSorted||"ssp"===ze(k)||H.bDeferRender)&&Ae(k)},"sc"),u(k);var W=S.children("caption").each(function(){this._captionSide=S.css("caption-side")}),z=S.children("thead");0===z.length&&(z=e("<thead/>").appendTo(this)),k.nTHead=z[0];var Y=S.children("tbody");0===Y.length&&(Y=e("<tbody/>").appendTo(this)),k.nTBody=Y[0];var q=S.children("tfoot");if(0===q.length&&W.length>0&&(""!==k.oScroll.sX||""!==k.oScroll.sY)&&(q=e("<tfoot/>").appendTo(this)),0===q.length||0===q.children().length?S.addClass(F.sNoFooter):q.length>0&&(k.nTFoot=q[0],N(k.aoFooter,k.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)_(k,m.aaData[g]);else(k.bDeferLoading||"dom"==ze(k))&&w(k,e(k.nTBody).children("tr"));k.aiDisplay=k.aiDisplayMaster.slice(),k.bInitialised=!0,b===!1&&oe(k)}),i=null,this};var xt=[],Ct=Array.prototype,Tt=function(t){var n,i,a=Ge.settings,r=e.map(a,function(e,t){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?(n=e.inArray(t,r),n!==-1?[a[n]]:null):t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?i=e(t):t instanceof e&&(i=t),i?i.map(function(t){return n=e.inArray(this,r),n!==-1?a[n]:null}).toArray():void 0):[]};Xe=function(t,n){if(!(this instanceof Xe))return new Xe(t,n);var i=[],a=function(e){var t=Tt(e);t&&i.push.apply(i,t)};if(e.isArray(t))for(var r=0,s=t.length;r<s;r++)a(t[r]);else a(t);this.context=vt(i),n&&this.push.apply(this,n.toArray?n.toArray():n),this.selector={rows:null,cols:null,opts:null},Xe.extend(this,this,xt)},Ge.Api=Xe,Xe.prototype={any:function(){return 0!==this.flatten().length},concat:Ct.concat,context:[],each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new Xe(t[e],this[e]):null},filter:function(e){var t=[];if(Ct.filter)t=Ct.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new Xe(this.context,t)},flatten:function(){var e=[];return new Xe(this.context,e.concat.apply(e,this.toArray()))},join:Ct.join,indexOf:Ct.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,i){var a,s,o,l,u,c,d,h,f=[],p=this.context,m=this.selector;for("string"==typeof e&&(i=n,n=t,t=e,e=!1),s=0,o=p.length;s<o;s++){var g=new Xe(p[s]);if("table"===t)a=n.call(g,p[s],s),a!==r&&f.push(a);else if("columns"===t||"rows"===t)a=n.call(g,p[s],this[s],s),a!==r&&f.push(a);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(d=this[s],"column-rows"===t&&(c=Et(p[s],m.opts)),l=0,u=d.length;l<u;l++)h=d[l],a="cell"===t?n.call(g,p[s],h.row,h.column,s,l):n.call(g,p[s],h,s,l,c),a!==r&&f.push(a)}if(f.length||i){var v=new Xe(p,e?f.concat.apply([],f):f),b=v.selector;return b.rows=m.rows,b.cols=m.cols,b.opts=m.opts,v}return this},lastIndexOf:Ct.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(Ct.map)t=Ct.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new Xe(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:Ct.pop,push:Ct.push,reduce:Ct.reduce||function(e,t){return c(this,e,t,0,this.length,1)},reduceRight:Ct.reduceRight||function(e,t){return c(this,e,t,this.length-1,-1,-1)},reverse:Ct.reverse,selector:null,shift:Ct.shift,sort:Ct.sort,splice:Ct.splice,toArray:function(){return Ct.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new Xe(this.context,vt(this))},unshift:Ct.unshift},Xe.extend=function(t,n,i){if(i.length&&n&&(n instanceof Xe||n.__dt_wrapper)){var a,r,s,o=function(e,t,n){return function(){var i=t.apply(e,arguments);return Xe.extend(i,i,n.methodExt),i}};for(a=0,r=i.length;a<r;a++)s=i[a],n[s.name]="function"==typeof s.val?o(t,s.val,s):e.isPlainObject(s.val)?{}:s.val,n[s.name].__dt_wrapper=!0,Xe.extend(t,n[s.name],s.propExt)}},Xe.register=Ke=function(t,n){if(e.isArray(t))for(var i=0,a=t.length;i<a;i++)Xe.register(t[i],n);else{var r,s,o,l,u=t.split("."),c=xt,d=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n].name===t)return e[n];return null};for(r=0,s=u.length;r<s;r++){l=u[r].indexOf("()")!==-1,o=l?u[r].replace("()",""):u[r];var h=d(c,o);h||(h={name:o,val:{},methodExt:[],propExt:[]},c.push(h)),r===s-1?h.val=n:c=l?h.methodExt:h.propExt}}},Xe.registerPlural=Je=function(t,n,i){Xe.register(t,i),Xe.register(n,function(){var t=i.apply(this,arguments);return t===this?this:t instanceof Xe?t.length?e.isArray(t[0])?new Xe(t.context,t[0]):t[0]:r:t})};var It=function(t,n){if("number"==typeof t)return[n[t]];var i=e.map(n,function(e,t){return e.nTable});return e(i).filter(t).map(function(t){var a=e.inArray(this,i);return n[a]}).toArray()};Ke("tables()",function(e){return e?new Xe(It(e,this.context)):this}),Ke("table()",function(e){var t=this.tables(e),n=t.context;return n.length?new Xe(n[0]):t}),Je("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),Je("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),Je("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),Je("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),Je("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),Ke("draw()",function(e){return this.iterator("table",function(t){H(t,e===!1)})}),Ke("page()",function(e){return e===r?this.page.info().page:this.iterator("table",function(t){he(t,e)})}),Ke("page.info()",function(e){if(0===this.context.length)return r;var t=this.context[0],n=t._iDisplayStart,i=t._iDisplayLength,a=t.fnRecordsDisplay(),s=i===-1;return{page:s?0:Math.floor(n/i),pages:s?1:Math.ceil(a/i),start:n,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:a}}),Ke("page.len()",function(e){return e===r?0!==this.context.length?this.context[0]._iDisplayLength:r:this.iterator("table",function(t){ue(t,e)})});var kt=function(e,t,n){if(n){var i=new Xe(e);i.one("draw",function(){n(i.ajax.json())})}"ssp"==ze(e)?H(e,t):(pe(e,!0),W(e,[],function(n){P(e);for(var i=V(e,n),a=0,r=i.length;a<r;a++)_(e,i[a]);H(e,t),pe(e,!1)}))};Ke("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json}),Ke("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData}),Ke("ajax.reload()",function(e,t){return this.iterator("table",function(n){kt(n,t===!1,e)})}),Ke("ajax.url()",function(t){var n=this.context;return t===r?0===n.length?r:(n=n[0],n.ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource):this.iterator("table",function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})}),Ke("ajax.url().load()",function(e,t){return this.iterator("table",function(n){kt(n,t===!1,e)})});var Ft=function(t,n,i,a,s){var o,l,u,c,d,h,f=[],p=typeof n;for(n&&"string"!==p&&"function"!==p&&n.length!==r||(n=[n]),u=0,c=n.length;u<c;u++)for(l=n[u]&&n[u].split?n[u].split(","):[n[u]],d=0,h=l.length;d<h;d++)o=i("string"==typeof l[d]?e.trim(l[d]):l[d]),o&&o.length&&f.push.apply(f,o);var m=Qe.selector[t];if(m.length)for(u=0,c=m.length;u<c;u++)f=m[u](a,s,f);return f},Pt=function(t){return t||(t={}),t.filter&&t.search===r&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},At=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},Et=function(t,n){var i,a,r,s=[],o=t.aiDisplay,l=t.aiDisplayMaster,u=n.search,c=n.order,d=n.page;if("ssp"==ze(t))return"removed"===u?[]:pt(0,l.length);if("current"==d)for(i=t._iDisplayStart,a=t.fnDisplayEnd();i<a;i++)s.push(o[i]);else if("current"==c||"applied"==c)s="none"==u?l.slice():"applied"==u?o.slice():e.map(l,function(t,n){return e.inArray(t,o)===-1?t:null});else if("index"==c||"original"==c)for(i=0,a=t.aoData.length;i<a;i++)"none"==u?s.push(i):(r=e.inArray(i,o),(r===-1&&"removed"==u||r>=0&&"applied"==u)&&s.push(i));return s},Mt=function(t,n,i){var a=function(n){var a=ot(n);if(null!==a&&!i)return[a];var r=Et(t,i);if(null!==a&&e.inArray(a,r)!==-1)return[a];if(!n)return r;if("function"==typeof n)return e.map(r,function(e){var i=t.aoData[e];return n(e,i._aData,i.nTr)?e:null});var s=mt(ft(t.aoData,r,"nTr"));return n.nodeName&&e.inArray(n,s)!==-1?[n._DT_RowIndex]:e(s).filter(n).map(function(){return this._DT_RowIndex}).toArray()};return Ft("row",n,a,t,i)};Ke("rows()",function(t,n){t===r?t="":e.isPlainObject(t)&&(n=t,t=""),n=Pt(n);var i=this.iterator("table",function(e){return Mt(e,t,n)},1);return i.selector.rows=t,i.selector.opts=n,i}),Ke("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||r},1)}),Ke("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return ft(e.aoData,t,"_aData")},1)}),Je("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var i=t.aoData[n];return"search"===e?i._aFilterData:i._aSortData},1)}),Je("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){E(t,n,e)})}),Je("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),Je("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(n,i,a){var r=n.aoData;r.splice(i,1);for(var s=0,o=r.length;s<o;s++)null!==r[s].nTr&&(r[s].nTr._DT_RowIndex=s);e.inArray(i,n.aiDisplay);A(n.aiDisplayMaster,i),A(n.aiDisplay,i),A(t[a],i,!1),Be(n)})}),Ke("rows.add()",function(e){var t=this.iterator("table",function(t){var n,i,a,r=[];for(i=0,a=e.length;i<a;i++)n=e[i],n.nodeName&&"TR"===n.nodeName.toUpperCase()?r.push(w(t,n)[0]):r.push(_(t,n));return r},1),n=this.rows(-1);return n.pop(),n.push.apply(n,t.toArray()),n}),Ke("row()",function(e,t){return At(this.rows(e,t))}),Ke("row().data()",function(e){var t=this.context;return e===r?t.length&&this.length?t[0].aoData[this[0]]._aData:r:(t[0].aoData[this[0]]._aData=e,E(t[0],this[0],"data"),this)}),Ke("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),Ke("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?w(e,t)[0]:_(e,t)});return this.row(n[0])});var Rt=function(t,n,i,a){var r=[],s=function(n,i){if(e.isArray(n)||n instanceof e)for(var a=0,o=n.length;a<o;a++)s(n[a],i);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())r.push(n);else{var l=e("<tr><td/></tr>").addClass(i);e("td",l).addClass(i).html(n)[0].colSpan=g(t),r.push(l[0])}};s(i,a),n._details&&n._details.remove(),n._details=e(r),n._detailsShow&&n._details.insertAfter(n.nTr)},Ot=function(e,t){var n=e.context;if(n.length){var i=n[0].aoData[t!==r?t:e[0]];i._details&&(i._details.remove(),i._detailsShow=r,i._details=r)}},$t=function(e,t){var n=e.context;if(n.length&&e.length){var i=n[0].aoData[e[0]];i._details&&(i._detailsShow=t,t?i._details.insertAfter(i.nTr):i._details.detach(),Lt(n[0]))}},Lt=function(e){var t=new Xe(e),n=".dt.DT_details",i="draw"+n,a="column-visibility"+n,r="destroy"+n,s=e.aoData;t.off(i+" "+a+" "+r),ht(s,"_details").length>0&&(t.on(i,function(n,i){e===i&&t.rows({page:"current"}).eq(0).each(function(e){var t=s[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on(a,function(t,n,i,a){if(e===n)for(var r,o=g(n),l=0,u=s.length;l<u;l++)r=s[l],r._details&&r._details.children("td[colspan]").attr("colspan",o)}),t.on(r,function(n,i){if(e===i)for(var a=0,r=s.length;a<r;a++)s[a]._details&&Ot(t,a)}))},jt="",Ht=jt+"row().child",Ut=Ht+"()";Ke(Ut,function(e,t){var n=this.context;return e===r?n.length&&this.length?n[0].aoData[this[0]]._details:r:(e===!0?this.child.show():e===!1?Ot(this):n.length&&this.length&&Rt(n[0],n[0].aoData[this[0]],e,t),this)}),Ke([Ht+".show()",Ut+".show()"],function(e){return $t(this,!0),this}),Ke([Ht+".hide()",Ut+".hide()"],function(){return $t(this,!1),this}),Ke([Ht+".remove()",Ut+".remove()"],function(){return Ot(this),this}),Ke(Ht+".isShown()",function(){var e=this.context;return!(!e.length||!this.length)&&(e[0].aoData[this[0]]._detailsShow||!1);
});var Nt=/^(.+):(name|visIdx|visible)$/,Bt=function(e,t,n,i,a){for(var r=[],s=0,o=a.length;s<o;s++)r.push(x(e,a[s],t));return r},Wt=function(t,n,i){var a=t.aoColumns,r=ht(a,"sName"),s=ht(a,"nTh"),o=function(n){var o=ot(n);if(""===n)return pt(a.length);if(null!==o)return[o>=0?o:a.length+o];if("function"==typeof n){var l=Et(t,i);return e.map(a,function(e,i){return n(i,Bt(t,i,0,0,l),s[i])?i:null})}var u="string"==typeof n?n.match(Nt):"";if(!u)return e(s).filter(n).map(function(){return e.inArray(this,s)}).toArray();switch(u[2]){case"visIdx":case"visible":var c=parseInt(u[1],10);if(c<0){var d=e.map(a,function(e,t){return e.bVisible?t:null});return[d[d.length+c]]}return[p(t,c)];case"name":return e.map(r,function(e,t){return e===u[1]?t:null})}};return Ft("column",n,o,t,i)},zt=function(t,n,i,a){var s,o,l,u,c=t.aoColumns,d=c[n],h=t.aoData;if(i===r)return d.bVisible;if(d.bVisible!==i){if(i){var p=e.inArray(!0,ht(c,"bVisible"),n+1);for(o=0,l=h.length;o<l;o++)u=h[o].nTr,s=h[o].anCells,u&&u.insertBefore(s[n],s[p]||null)}else e(ht(t.aoData,"anCells",n)).detach();d.bVisible=i,L(t,t.aoHeader),L(t,t.aoFooter),(a===r||a)&&(f(t),(t.oScroll.sX||t.oScroll.sY)&&ge(t)),Ne(t,null,"column-visibility",[t,n,i]),Me(t)}};Ke("columns()",function(t,n){t===r?t="":e.isPlainObject(t)&&(n=t,t=""),n=Pt(n);var i=this.iterator("table",function(e){return Wt(e,t,n)},1);return i.selector.cols=t,i.selector.opts=n,i}),Je("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),Je("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),Je("columns().data()","column().data()",function(){return this.iterator("column-rows",Bt,1)}),Je("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),Je("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,i,a,r){return ft(t.aoData,r,"search"===e?"_aFilterData":"_aSortData",n)},1)}),Je("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,a){return ft(e.aoData,a,"anCells",t)},1)}),Je("columns().visible()","column().visible()",function(e,t){return this.iterator("column",function(n,i){return e===r?n.aoColumns[i].bVisible:void zt(n,i,e,t)})}),Je("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?m(t,n):n},1)}),Ke("columns.adjust()",function(){return this.iterator("table",function(e){f(e)},1)}),Ke("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return p(n,t);if("fromData"===e||"toVisible"===e)return m(n,t)}}),Ke("column()",function(e,t){return At(this.columns(e,t))});var Yt=function(t,n,i){var a,s,o,l,u,c,d,h=t.aoData,f=Et(t,i),p=mt(ft(h,f,"anCells")),m=e([].concat.apply([],p)),g=t.aoColumns.length,v=function(n){var i="function"==typeof n;if(null===n||n===r||i){for(s=[],o=0,l=f.length;o<l;o++)for(a=f[o],u=0;u<g;u++)c={row:a,column:u},i?(d=t.aoData[a],n(c,x(t,a,u),d.anCells?d.anCells[u]:null)&&s.push(c)):s.push(c);return s}return e.isPlainObject(n)?[n]:m.filter(n).map(function(t,n){return a=n.parentNode._DT_RowIndex,{row:a,column:e.inArray(n,h[a].anCells)}}).toArray()};return Ft("cell",n,v,t,i)};Ke("cells()",function(t,n,i){if(e.isPlainObject(t)&&(t.row===r?(i=t,t=null):(i=n,n=null)),e.isPlainObject(n)&&(i=n,n=null),null===n||n===r)return this.iterator("table",function(e){return Yt(e,t,Pt(i))});var a,s,o,l,u,c=this.columns(n,i),d=this.rows(t,i),h=this.iterator("table",function(e,t){for(a=[],s=0,o=d[t].length;s<o;s++)for(l=0,u=c[t].length;l<u;l++)a.push({row:d[t][s],column:c[t][l]});return a},1);return e.extend(h.selector,{cols:n,rows:t,opts:i}),h}),Je("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){var i=e.aoData[t].anCells;return i?i[n]:r},1)}),Ke("cells().data()",function(){return this.iterator("cell",function(e,t,n){return x(e,t,n)},1)}),Je("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,i){return t.aoData[n][e][i]},1)}),Je("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,i){return x(t,n,i,e)},1)}),Je("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:m(e,n)}},1)}),Je("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,i){E(t,n,e,i)})}),Ke("cell()",function(e,t,n){return At(this.cells(e,t,n))}),Ke("cell().data()",function(e){var t=this.context,n=this[0];return e===r?t.length&&n.length?x(t[0],n[0].row,n[0].column):r:(C(t[0],n[0].row,n[0].column,e),E(t[0],n[0].row,"data",n[0].column),this)}),Ke("order()",function(t,n){var i=this.context;return t===r?0!==i.length?i[0].aaSorting:r:("number"==typeof t?t=[[t,n]]:e.isArray(t[0])||(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),Ke("order.listener()",function(e,t,n){return this.iterator("table",function(i){Pe(i,e,t,n)})}),Ke(["columns().order()","column().order()"],function(t){var n=this;return this.iterator("table",function(i,a){var r=[];e.each(n[a],function(e,n){r.push([n,t])}),i.aaSorting=r})}),Ke("search()",function(t,n,i,a){var s=this.context;return t===r?0!==s.length?s[0].oPreviousSearch.sSearch:r:this.iterator("table",function(r){r.oFeatures.bFilter&&Q(r,e.extend({},r.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===a||a}),1)})}),Je("columns().search()","column().search()",function(t,n,i,a){return this.iterator("column",function(s,o){var l=s.aoPreSearchCols;return t===r?l[o].sSearch:void(s.oFeatures.bFilter&&(e.extend(l[o],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===a||a}),Q(s,s.oPreviousSearch,1)))})}),Ke("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Ke("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Ke("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Ke("state.save()",function(){return this.iterator("table",function(e){Me(e)})}),Ge.versionCheck=Ge.fnVersionCheck=function(e){for(var t,n,i=Ge.version.split("."),a=e.split("."),r=0,s=a.length;r<s;r++)if(t=parseInt(i[r],10)||0,n=parseInt(a[r],10)||0,t!==n)return t>n;return!0},Ge.isDataTable=Ge.fnIsDataTable=function(t){var n=e(t).get(0),i=!1;return e.each(Ge.settings,function(t,a){var r=a.nScrollHead?e("table",a.nScrollHead)[0]:null,s=a.nScrollFoot?e("table",a.nScrollFoot)[0]:null;a.nTable!==n&&r!==n&&s!==n||(i=!0)}),i},Ge.tables=Ge.fnTables=function(t){return e.map(Ge.settings,function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable})},Ge.util={throttle:ye,escapeRegex:ee},Ge.camelToHungarian=n,Ke("$()",function(t,n){var i=this.rows(n).nodes(),a=e(i);return e([].concat(a.filter(t).toArray(),a.find(t).toArray()))}),e.each(["on","one","off"],function(t,n){Ke(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0].match(/\.dt\b/)||(t[0]+=".dt");var i=e(this.tables().nodes());return i[n].apply(i,t),this})}),Ke("clear()",function(){return this.iterator("table",function(e){P(e)})}),Ke("settings()",function(){return new Xe(this.context,this.context)}),Ke("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),Ke("data()",function(){return this.iterator("table",function(e){return ht(e.aoData,"_aData")}).flatten()}),Ke("destroy()",function(t){return t=t||!1,this.iterator("table",function(n){var a,r=n.nTableWrapper.parentNode,s=n.oClasses,o=n.nTable,l=n.nTBody,u=n.nTHead,c=n.nTFoot,d=e(o),h=e(l),f=e(n.nTableWrapper),p=e.map(n.aoData,function(e){return e.nTr});n.bDestroying=!0,Ne(n,"aoDestroyCallback","destroy",[n]),t||new Xe(n).columns().visible(!0),f.unbind(".DT").find(":not(tbody *)").unbind(".DT"),e(i).unbind(".DT-"+n.sInstance),o!=u.parentNode&&(d.children("thead").detach(),d.append(u)),c&&o!=c.parentNode&&(d.children("tfoot").detach(),d.append(c)),d.detach(),f.detach(),n.aaSorting=[],n.aaSortingFixed=[],Ae(n),e(p).removeClass(n.asStripeClasses.join(" ")),e("th, td",u).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),n.bJUI&&(e("th span."+s.sSortIcon+", td span."+s.sSortIcon,u).detach(),e("th, td",u).each(function(){var t=e("div."+s.sSortJUIWrapper,this);e(this).append(t.contents()),t.detach()})),!t&&r&&r.insertBefore(o,n.nTableReinsertBefore),h.children().detach(),h.append(p),d.css("width",n.sDestroyWidth).removeClass(s.sTable),a=n.asDestroyStripes.length,a&&h.children().each(function(t){e(this).addClass(n.asDestroyStripes[t%a])});var m=e.inArray(n,Ge.settings);m!==-1&&Ge.settings.splice(m,1)})}),e.each(["column","row","cell"],function(e,t){Ke(t+"s().every()",function(e){return this.iterator(t,function(n,i,a){e.call(new Xe(n)[t](i,a))})})}),Ke("i18n()",function(t,n,i){var a=this.context[0],s=I(t)(a.oLanguage);return s===r&&(s=n),i!==r&&e.isPlainObject(s)&&(s=s[i]!==r?s[i]:s._),s.replace("%d",i)}),Ge.version="1.10.7",Ge.settings=[],Ge.models={},Ge.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Ge.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null},Ge.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Ge.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((e.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(e.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},Ge.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null},t(Ge.defaults),Ge.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},t(Ge.defaults.column),Ge.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:r,oAjaxData:r,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ze(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ze(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,a=this.oFeatures,r=a.bPaginate;return a.bServerSide?r===!1||e===-1?t+i:Math.min(t+e,this._iRecordsDisplay):!r||n>i||e===-1?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{}},Ge.ext=Qe={buttons:{},classes:{},errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Ge.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Ge.version},e.extend(Qe,{afnFiltering:Qe.search,aTypes:Qe.type.detect,ofnSearch:Qe.type.search,oSort:Qe.type.order,afnSortData:Qe.order,aoFeatures:Qe.feature,oApi:Qe.internal,oStdClasses:Qe.classes,oPagination:Qe.pager}),e.extend(Ge.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),function(){var t="";t="";var n=t+"ui-state-default",i=t+"css_right ui-icon ui-icon-",a=t+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";e.extend(Ge.ext.oJUIClasses,Ge.ext.classes,{sPageButton:"fg-button ui-button "+n,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:n+" sorting_asc",sSortDesc:n+" sorting_desc",sSortable:n+" sorting",sSortableAsc:n+" sorting_asc_disabled",sSortableDesc:n+" sorting_desc_disabled",sSortableNone:n+" sorting_disabled",sSortJUIAsc:i+"triangle-1-n",sSortJUIDesc:i+"triangle-1-s",sSortJUI:i+"carat-2-n-s",sSortJUIAscAllowed:i+"carat-1-n",sSortJUIDescAllowed:i+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+n,sScrollFoot:"dataTables_scrollFoot "+n,sHeaderTH:n,sFooterTH:n,sJUIHeader:a+" ui-corner-tl ui-corner-tr",sJUIFooter:a+" ui-corner-bl ui-corner-br"})}();var qt=Ge.ext.pager;e.extend(qt,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},simple_numbers:function(e,t){return["previous",Ye(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Ye(e,t),"next","last"]},_numbers:Ye,numbers_length:7}),e.extend(!0,Ge.ext.renderer,{pageButton:{_:function(t,n,i,r,s,o){var l,u,c,d=t.oClasses,h=t.oLanguage.oPaginate,f=0,p=function(n,a){var r,c,m,g,v=function(e){he(t,e.data.action,!0)};for(r=0,c=a.length;r<c;r++)if(g=a[r],e.isArray(g)){var b=e("<"+(g.DT_el||"div")+"/>").appendTo(n);p(b,g)}else{switch(l="",u="",g){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=h.sFirst,u=g+(s>0?"":" "+d.sPageButtonDisabled);break;case"previous":l=h.sPrevious,u=g+(s>0?"":" "+d.sPageButtonDisabled);break;case"next":l=h.sNext,u=g+(s<o-1?"":" "+d.sPageButtonDisabled);break;case"last":l=h.sLast,u=g+(s<o-1?"":" "+d.sPageButtonDisabled);break;default:l=g+1,u=s===g?d.sPageButtonActive:""}l&&(m=e("<a>",{"class":d.sPageButton+" "+u,"aria-controls":t.sTableId,"data-dt-idx":f,tabindex:t.iTabIndex,id:0===i&&"string"==typeof g?t.sTableId+"_"+g:null}).html(l).appendTo(n),He(m,{action:g},v),f++)}};try{c=e(a.activeElement).data("dt-idx")}catch(m){}p(e(n).empty(),r),c&&e(n).find("[data-dt-idx="+c+"]").focus()}}}),e.extend(Ge.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return ut(e,n)?"num"+n:null},function(e,t){if(e&&!(e instanceof Date)&&(!nt.test(e)||!it.test(e)))return null;var n=Date.parse(e);return null!==n&&!isNaN(n)||st(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return ut(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return dt(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return dt(e,n,!0)?"html-num-fmt"+n:null},function(e,t){return st(e)||"string"==typeof e&&e.indexOf("<")!==-1?"html":null}]),e.extend(Ge.ext.type.search,{html:function(e){return st(e)?e:"string"==typeof e?e.replace(et," ").replace(tt,""):""},string:function(e){return st(e)?e:"string"==typeof e?e.replace(et," "):e}});var Vt=function(e,t,n,i){return 0===e||e&&"-"!==e?(t&&(e=lt(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-(1/0)};return e.extend(Qe.type.order,{"date-pre":function(e){return Date.parse(e)||0},"html-pre":function(e){return st(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return st(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),qe(""),e.extend(!0,Ge.ext.renderer,{header:{_:function(t,n,i,a){e(t.nTable).on("order.dt.DT",function(e,r,s,o){if(t===r){var l=i.idx;n.removeClass(i.sSortingClass+" "+a.sSortAsc+" "+a.sSortDesc).addClass("asc"==o[l]?a.sSortAsc:"desc"==o[l]?a.sSortDesc:i.sSortingClass)}})},jqueryui:function(t,n,i,a){e("<div/>").addClass(a.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(a.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",function(e,r,s,o){if(t===r){var l=i.idx;n.removeClass(a.sSortAsc+" "+a.sSortDesc).addClass("asc"==o[l]?a.sSortAsc:"desc"==o[l]?a.sSortDesc:i.sSortingClass),n.find("span."+a.sSortIcon).removeClass(a.sSortJUIAsc+" "+a.sSortJUIDesc+" "+a.sSortJUI+" "+a.sSortJUIAscAllowed+" "+a.sSortJUIDescAllowed).addClass("asc"==o[l]?a.sSortJUIAsc:"desc"==o[l]?a.sSortJUIDesc:i.sSortingClassJUI)}})}}}),Ge.render={number:function(e,t,n,i){return{display:function(a){if("number"!=typeof a&&"string"!=typeof a)return a;var r=a<0?"-":"";a=Math.abs(parseFloat(a));var s=parseInt(a,10),o=n?t+(a-s).toFixed(n).substring(2):"";return r+(i||"")+s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+o}}}},e.extend(Ge.ext.internal,{_fnExternApiFunc:Ve,_fnBuildAjax:W,_fnAjaxUpdate:z,_fnAjaxParameters:Y,_fnAjaxUpdateDraw:q,_fnAjaxDataSrc:V,_fnAddColumn:d,_fnColumnOptions:h,_fnAdjustColumnSizing:f,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:b,_fnApplyColumnDefs:y,_fnHungarianMap:t,_fnCamelToHungarian:n,_fnLanguageCompat:s,_fnBrowserDetect:u,_fnAddData:_,_fnAddTr:w,_fnNodeToDataIndex:D,_fnNodeToColumnIndex:S,_fnGetCellData:x,_fnSetCellData:C,_fnSplitObjNotation:T,_fnGetObjectDataFn:I,_fnSetObjectDataFn:k,_fnGetDataMaster:F,_fnClearTable:P,_fnDeleteIndex:A,_fnInvalidate:E,_fnGetRowElements:M,_fnCreateTr:R,_fnBuildHead:$,_fnDrawHead:L,_fnDraw:j,_fnReDraw:H,_fnAddOptionsHtml:U,_fnDetectHeader:N,_fnGetUniqueThs:B,_fnFeatureHtmlFilter:G,_fnFilterComplete:Q,_fnFilterCustom:X,_fnFilterColumn:K,_fnFilter:J,_fnFilterCreateSearch:Z,_fnEscapeRegex:ee,_fnFilterData:te,_fnFeatureHtmlInfo:ae,_fnUpdateInfo:re,_fnInfoMacros:se,_fnInitialise:oe,_fnInitComplete:le,_fnLengthChange:ue,_fnFeatureHtmlLength:ce,_fnFeatureHtmlPaginate:de,_fnPageChange:he,_fnFeatureHtmlProcessing:fe,_fnProcessingDisplay:pe,_fnFeatureHtmlTable:me,_fnScrollDraw:ge,_fnApplyToChildren:ve,_fnCalculateColumnWidths:be,_fnThrottle:ye,_fnConvertToWidth:_e,_fnScrollingWidthAdjust:we,_fnGetWidestNode:De,_fnGetMaxLenString:Se,_fnStringToCss:xe,_fnScrollBarWidth:Ce,_fnSortFlatten:Te,_fnSort:Ie,_fnSortAria:ke,_fnSortListener:Fe,_fnSortAttachListener:Pe,_fnSortingClasses:Ae,_fnSortData:Ee,_fnSaveState:Me,_fnLoadState:Re,_fnSettingsFromNode:Oe,_fnLog:$e,_fnMap:Le,_fnBindAction:He,_fnCallbackReg:Ue,_fnCallbackFire:Ne,_fnLengthOverflow:Be,_fnRenderer:We,_fnDataSource:ze,_fnRowAttributes:O,_fnCalculateEnd:function(){}}),e.fn.dataTable=Ge,e.fn.dataTableSettings=Ge.settings,e.fn.dataTableExt=Ge.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(Ge,function(t,n){e.fn.DataTable[t]=n}),e.fn.dataTable})}(window,document)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]),function(e,t){if("function"==typeof define&&define.amd)define(["moment","jquery","exports"],function(n,i,a){e.daterangepicker=t(e,a,n,i)});else if("undefined"!=typeof exports){var n=require("moment"),i="undefined"!=typeof window?window.jQuery:void 0;if(!i)try{i=require("jquery"),i.fn||(i.fn={})}catch(a){if(!i)throw new Error("jQuery dependency not found")}t(e,exports,n,i)}else e.daterangepicker=t(e,{},e.moment||moment,e.jQuery||e.Zepto||e.ender||e.$)}(this||{},function(e,t,n,i){var a=function(e,t,a){if(this.parentEl="body",this.element=i(e),this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyClass="btn-success",this.cancelClass="btn-default",this.locale={format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof t&&null!==t||(t={}),t=i.extend(this.element.data(),t),"string"==typeof t.template||t.template instanceof i||(t.template='<div class="daterangepicker am-datepicker am-datepicker-dropdown"><div class="calendar left"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_start" value="" /><i class="am-icon-calendar"></i><div class="calendar-time"><div></div><i class="am-icon-clock-o"></i></div></div><div class="calendar-table"></div></div><div class="calendar right"><div class="daterangepicker_input"><input class="input-mini" type="text" name="daterangepicker_end" value="" /><i class="am-icon-calendar"></i><div class="calendar-time"><div></div><i class="am-icon-clock-o"></i></div></div><div class="calendar-table"></div></div><div class="ranges"><div class="range_inputs"><button class="applyBtn am-btn am-btn-secondary am-btn-sm" disabled="disabled" type="button"></button> <button class="cancelBtn am-btn am-btn-sm" type="button"></button></div></div></div>'),this.parentEl=i(t.parentEl&&i(t.parentEl).length?t.parentEl:this.parentEl),this.container=i(t.template).appendTo(this.parentEl),"object"==typeof t.locale&&("string"==typeof t.locale.format&&(this.locale.format=t.locale.format),"string"==typeof t.locale.separator&&(this.locale.separator=t.locale.separator),"object"==typeof t.locale.daysOfWeek&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),"object"==typeof t.locale.monthNames&&(this.locale.monthNames=t.locale.monthNames.slice()),"number"==typeof t.locale.firstDay&&(this.locale.firstDay=t.locale.firstDay),"string"==typeof t.locale.applyLabel&&(this.locale.applyLabel=t.locale.applyLabel),"string"==typeof t.locale.cancelLabel&&(this.locale.cancelLabel=t.locale.cancelLabel),"string"==typeof t.locale.weekLabel&&(this.locale.weekLabel=t.locale.weekLabel),"string"==typeof t.locale.customRangeLabel&&(this.locale.customRangeLabel=t.locale.customRangeLabel)),"string"==typeof t.startDate&&(this.startDate=n(t.startDate,this.locale.format)),"string"==typeof t.endDate&&(this.endDate=n(t.endDate,this.locale.format)),"string"==typeof t.minDate&&(this.minDate=n(t.minDate,this.locale.format)),"string"==typeof t.maxDate&&(this.maxDate=n(t.maxDate,this.locale.format)),"object"==typeof t.startDate&&(this.startDate=n(t.startDate)),"object"==typeof t.endDate&&(this.endDate=n(t.endDate)),"object"==typeof t.minDate&&(this.minDate=n(t.minDate)),"object"==typeof t.maxDate&&(this.maxDate=n(t.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof t.applyClass&&(this.applyClass=t.applyClass),"string"==typeof t.cancelClass&&(this.cancelClass=t.cancelClass),"object"==typeof t.dateLimit&&(this.dateLimit=t.dateLimit),"string"==typeof t.opens&&(this.opens=t.opens),"string"==typeof t.drops&&(this.drops=t.drops),"boolean"==typeof t.showWeekNumbers&&(this.showWeekNumbers=t.showWeekNumbers),"boolean"==typeof t.showISOWeekNumbers&&(this.showISOWeekNumbers=t.showISOWeekNumbers),"string"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses),"object"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses.join(" ")),"boolean"==typeof t.showDropdowns&&(this.showDropdowns=t.showDropdowns),"boolean"==typeof t.singleDatePicker&&(this.singleDatePicker=t.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof t.timePicker&&(this.timePicker=t.timePicker),"boolean"==typeof t.timePickerSeconds&&(this.timePickerSeconds=t.timePickerSeconds),"number"==typeof t.timePickerIncrement&&(this.timePickerIncrement=t.timePickerIncrement),"boolean"==typeof t.timePicker24Hour&&(this.timePicker24Hour=t.timePicker24Hour),"boolean"==typeof t.autoApply&&(this.autoApply=t.autoApply),"boolean"==typeof t.autoUpdateInput&&(this.autoUpdateInput=t.autoUpdateInput),"boolean"==typeof t.linkedCalendars&&(this.linkedCalendars=t.linkedCalendars),"function"==typeof t.isInvalidDate&&(this.isInvalidDate=t.isInvalidDate),"boolean"==typeof t.alwaysShowCalendars&&(this.alwaysShowCalendars=t.alwaysShowCalendars),0!=this.locale.firstDay)for(var r=this.locale.firstDay;r>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),r--;var s,o,l;if("undefined"==typeof t.startDate&&"undefined"==typeof t.endDate&&i(this.element).is("input[type=text]")){var u=i(this.element).val(),c=u.split(this.locale.separator);s=o=null,2==c.length?(s=n(c[0],this.locale.format),o=n(c[1],this.locale.format)):this.singleDatePicker&&""!==u&&(s=n(u,this.locale.format),o=n(u,this.locale.format)),null!==s&&null!==o&&(this.setStartDate(s),this.setEndDate(o))}if("object"==typeof t.ranges){for(l in t.ranges){s="string"==typeof t.ranges[l][0]?n(t.ranges[l][0],this.locale.format):n(t.ranges[l][0]),o="string"==typeof t.ranges[l][1]?n(t.ranges[l][1],this.locale.format):n(t.ranges[l][1]),this.minDate&&s.isBefore(this.minDate)&&(s=this.minDate.clone());var d=this.maxDate;if(this.dateLimit&&s.clone().add(this.dateLimit).isAfter(d)&&(d=s.clone().add(this.dateLimit)),d&&o.isAfter(d)&&(o=d.clone()),!(this.minDate&&o.isBefore(this.minDate)||d&&s.isAfter(d))){var h=document.createElement("textarea");h.innerHTML=l;var f=h.value;this.ranges[f]=[s,o]}}var p="<ul>";for(l in this.ranges)p+="<li>"+l+"</li>";p+="<li>"+this.locale.customRangeLabel+"</li>",p+="</ul>",this.container.find(".ranges").prepend(p)}if("function"==typeof a&&(this.callback=a),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&"object"!=typeof t.ranges?this.container.find(".ranges").hide():this.autoApply&&this.container.find(".applyBtn, .cancelBtn").addClass("am-hide"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".calendar.left").addClass("single"),this.container.find(".calendar.left").show(),this.container.find(".calendar.right").hide(),this.container.find(".daterangepicker_input input, .daterangepicker_input i").hide(),this.timePicker||this.container.find(".ranges").hide()),("undefined"==typeof t.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),"undefined"!=typeof t.ranges&&"right"==this.opens){var m=this.container.find(".ranges"),g=m.clone();m.remove(),this.container.find(".calendar.left").parent().prepend(g)}this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",i.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",i.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",i.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",i.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",i.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",i.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",i.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",i.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",i.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",i.proxy(this.formInputsChanged,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",i.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",i.proxy(this.clickCancel,this)).on("click.daterangepicker","li",i.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",i.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",i.proxy(this.updateFormInputs,this)),
this.element.is("input")?this.element.on({"click.daterangepicker":i.proxy(this.show,this),"focus.daterangepicker":i.proxy(this.show,this),"keyup.daterangepicker":i.proxy(this.elementChanged,this),"keydown.daterangepicker":i.proxy(this.keydown,this)}):this.element.on("click.daterangepicker",i.proxy(this.toggle,this)),this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput&&t.startDate?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&t.startDate&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))};return a.prototype={constructor:a,setStartDate:function(e){"string"==typeof e&&(this.startDate=n(e,this.locale.format)),"object"==typeof e&&(this.startDate=n(e)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(e){"string"==typeof e&&(this.endDate=n(e,this.locale.format)),"object"==typeof e&&(this.endDate=n(e)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate),this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.dateLimit)),this.previousRightTime=this.endDate.clone(),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled"):this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")),this.endDate?(this.container.find('input[name="daterangepicker_end"]').removeClass("active"),this.container.find('input[name="daterangepicker_start"]').addClass("active")):(this.container.find('input[name="daterangepicker_end"]').addClass("active"),this.container.find('input[name="daterangepicker_start"]').removeClass("active")),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"))},updateCalendars:function(){if(this.timePicker){var e,t,n;if(this.endDate){if(e=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0)}}else if(e=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0)}this.leftCalendar.month.hour(e).minute(t).second(n),this.rightCalendar.month.hour(e).minute(t).second(n)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(e){var t="left"==e?this.leftCalendar:this.rightCalendar,a=t.month.month(),r=t.month.year(),s=t.month.hour(),o=t.month.minute(),l=t.month.second(),u=n([r,a]).daysInMonth(),c=n([r,a,1]),d=n([r,a,u]),h=n(c).subtract(1,"month").month(),f=n(c).subtract(1,"month").year(),p=n([f,h]).daysInMonth(),m=c.day(),t=[];t.firstDay=c,t.lastDay=d;for(var g=0;g<6;g++)t[g]=[];var v=p-m+this.locale.firstDay+1;v>p&&(v-=7),m==this.locale.firstDay&&(v=p-6);for(var b,y,_=n([f,h,v,12,o,l]),g=0,b=0,y=0;g<42;g++,b++,_=n(_).add(24,"hour"))g>0&&b%7===0&&(b=0,y++),t[y][b]=_.clone().hour(s).minute(o).second(l),_.hour(12),this.minDate&&t[y][b].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&t[y][b].isBefore(this.minDate)&&"left"==e&&(t[y][b]=this.minDate.clone()),this.maxDate&&t[y][b].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&t[y][b].isAfter(this.maxDate)&&"right"==e&&(t[y][b]=this.maxDate.clone());"left"==e?this.leftCalendar.calendar=t:this.rightCalendar.calendar=t;var w="left"==e?this.minDate:this.startDate,D=this.maxDate,S=("left"==e?this.startDate:this.endDate,'<table class="am-datepicker-table">');S+="<thead>",S+='<tr class="am-datepicker-header">',(this.showWeekNumbers||this.showISOWeekNumbers)&&(S+="<th></th>"),S+=w&&!w.isBefore(t.firstDay)||this.linkedCalendars&&"left"!=e?"<th></th>":'<th class="prev available"><i class="am-datepicker-prev-icon"></i></th>';var x=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");if(this.showDropdowns){for(var C=t[1][1].month(),T=t[1][1].year(),I=D&&D.year()||T+5,k=w&&w.year()||T-50,F=T==k,P=T==I,A='<select class="monthselect">',E=0;E<12;E++)A+=(!F||E>=w.month())&&(!P||E<=D.month())?"<option value='"+E+"'"+(E===C?" selected='selected'":"")+">"+this.locale.monthNames[E]+"</option>":"<option value='"+E+"'"+(E===C?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[E]+"</option>";A+="</select>";for(var M='<select class="yearselect">',R=k;R<=I;R++)M+='<option value="'+R+'"'+(R===T?' selected="selected"':"")+">"+R+"</option>";M+="</select>",x=A+M}if(S+='<th colspan="5" class="month">'+x+"</th>",S+=D&&!D.isAfter(t.lastDay)||this.linkedCalendars&&"right"!=e&&!this.singleDatePicker?"<th></th>":'<th class="next available"><i class="am-datepicker-next-icon"></i></th>',S+="</tr>",S+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(S+='<th class="week">'+this.locale.weekLabel+"</th>"),i.each(this.locale.daysOfWeek,function(e,t){S+='<th class="am-datepicker-dow">'+t+"</th>"}),S+="</tr>",S+="</thead>",S+="<tbody>",null==this.endDate&&this.dateLimit){var O=this.startDate.clone().add(this.dateLimit).endOf("day");D&&!O.isBefore(D)||(D=O)}for(var y=0;y<6;y++){S+="<tr>",this.showWeekNumbers?S+='<td class="week">'+t[y][0].week()+"</td>":this.showISOWeekNumbers&&(S+='<td class="week">'+t[y][0].isoWeek()+"</td>");for(var b=0;b<7;b++){var $=[];t[y][b].isSame(new Date,"day")&&$.push("today"),t[y][b].isoWeekday()>5&&$.push("weekend"),t[y][b].month()!=t[1][1].month()&&$.push("off"),this.minDate&&t[y][b].isBefore(this.minDate,"day")&&$.push("off","disabled"),D&&t[y][b].isAfter(D,"day")&&$.push("off","disabled"),this.isInvalidDate(t[y][b])&&$.push("off","disabled"),t[y][b].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&$.push("active","start-date"),null!=this.endDate&&t[y][b].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&$.push("active","end-date"),null!=this.endDate&&t[y][b]>this.startDate&&t[y][b]<this.endDate&&$.push("in-range");for(var L="",j=!1,g=0;g<$.length;g++)L+=$[g]+" ","disabled"==$[g]&&(j=!0);j||(L+="available"),S+='<td class="'+L.replace(/^\s+|\s+$/g,"")+'" data-title="r'+y+"c"+b+'">'+t[y][b].date()+"</td>"}S+="</tr>"}S+="</tbody>",S+="</table>",this.container.find(".calendar."+e+" .calendar-table").html(S)},renderTimePicker:function(e){var t,n,i,a=this.maxDate;if(!this.dateLimit||this.maxDate&&!this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)||(a=this.startDate.clone().add(this.dateLimit)),"left"==e)n=this.startDate.clone(),i=this.minDate;else if("right"==e){n=this.endDate?this.endDate.clone():this.previousRightTime.clone(),i=this.startDate;var r=this.container.find(".calendar.right .calendar-time div");if(""!=r.html()){if(n.hour(r.find(".hourselect option:selected").val()||n.hour()),n.minute(r.find(".minuteselect option:selected").val()||n.minute()),n.second(r.find(".secondselect option:selected").val()||n.second()),!this.timePicker24Hour){var s=r.find(".ampmselect option:selected").val();"PM"===s&&n.hour()<12&&n.hour(n.hour()+12),"AM"===s&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),a&&n.isAfter(a)&&(n=a.clone())}}t='<select class="hourselect">';for(var o=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,u=o;u<=l;u++){var c=u;this.timePicker24Hour||(c=n.hour()>=12?12==u?12:u+12:12==u?0:u);var d=n.clone().hour(c),h=!1;i&&d.minute(59).isBefore(i)&&(h=!0),a&&d.minute(0).isAfter(a)&&(h=!0),t+=c!=n.hour()||h?h?'<option value="'+u+'" disabled="disabled" class="disabled">'+u+"</option>":'<option value="'+u+'">'+u+"</option>":'<option value="'+u+'" selected="selected">'+u+"</option>"}t+="</select> ",t+=': <select class="minuteselect">';for(var u=0;u<60;u+=this.timePickerIncrement){var f=u<10?"0"+u:u,d=n.clone().minute(u),h=!1;i&&d.second(59).isBefore(i)&&(h=!0),a&&d.second(0).isAfter(a)&&(h=!0),t+=n.minute()!=u||h?h?'<option value="'+u+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+u+'">'+f+"</option>":'<option value="'+u+'" selected="selected">'+f+"</option>"}if(t+="</select> ",this.timePickerSeconds){t+=': <select class="secondselect">';for(var u=0;u<60;u++){var f=u<10?"0"+u:u,d=n.clone().second(u),h=!1;i&&d.isBefore(i)&&(h=!0),a&&d.isAfter(a)&&(h=!0),t+=n.second()!=u||h?h?'<option value="'+u+'" disabled="disabled" class="disabled">'+f+"</option>":'<option value="'+u+'">'+f+"</option>":'<option value="'+u+'" selected="selected">'+f+"</option>"}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var p="",m="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(p=' disabled="disabled" class="disabled"'),a&&n.clone().hour(0).minute(0).second(0).isAfter(a)&&(m=' disabled="disabled" class="disabled"'),t+=n.hour()>=12?'<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+m+">PM</option>":'<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+m+">PM</option>",t+="</select>"}this.container.find(".calendar."+e+" .calendar-time div").html(t)},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus")||(this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format)),this.endDate&&this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format)),this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled"))},move:function(){var e,t={top:0,left:0},n=i(window).width();this.parentEl.is("body")||(t={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},n=this.parentEl[0].clientWidth+this.parentEl.offset().left),e="up"==this.drops?this.element.offset().top-this.container.outerHeight()-t.top:this.element.offset().top+this.element.outerHeight()-t.top,this.container["up"==this.drops?"addClass":"removeClass"]("dropup"),"left"==this.opens?(this.container.css({top:e,right:n-this.element.offset().left-this.element.outerWidth(),left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):"center"==this.opens?(this.container.css({top:e,left:this.element.offset().left-t.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:e,left:this.element.offset().left-t.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>i(window).width()&&this.container.css({left:"auto",right:0}))},show:function(e){this.isShowing||(this._outsideClickProxy=i.proxy(function(e){this.outsideClick(e)},this),i(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),i(window).on("resize.daterangepicker",i.proxy(function(e){this.move(e)},this)),this.startDate&&(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone()),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate,this.endDate,this.chosenLabel),this.updateElement(),i(document).off(".daterangepicker"),i(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var t=i(e.target);"focusin"==e.type||t.closest(this.element).length||t.closest(this.container).length||t.closest(".calendar-table").length||this.hide()},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(e){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")){var t=e.target.innerHTML;if(t==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}}},clickRange:function(e){var t=e.target.innerHTML;if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(e){var t=i(e.target).parents(".calendar");t.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){var t=i(e.target).parents(".calendar");t.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){if(!this.container.find("input[name=daterangepicker_start]").is(":focus")&&!this.container.find("input[name=daterangepicker_end]").is(":focus")&&i(e.target).hasClass("available")){var t=i(e.target).attr("data-title"),n=t.substr(1,1),a=t.substr(3,1),r=i(e.target).parents(".calendar"),s=r.hasClass("left")?this.leftCalendar.calendar[n][a]:this.rightCalendar.calendar[n][a];this.endDate?this.container.find("input[name=daterangepicker_start]").val(s.format(this.locale.format)):this.container.find("input[name=daterangepicker_end]").val(s.format(this.locale.format));var o=this.leftCalendar,l=this.rightCalendar,u=this.startDate;this.endDate||this.container.find(".calendar td").each(function(e,t){if(!i(t).hasClass("week")){var n=i(t).attr("data-title"),a=n.substr(1,1),r=n.substr(3,1),c=i(t).parents(".calendar"),d=c.hasClass("left")?o.calendar[a][r]:l.calendar[a][r];d.isAfter(u)&&d.isBefore(s)?i(t).addClass("in-range"):i(t).removeClass("in-range")}})}},clickDate:function(e){if(i(e.target).hasClass("available")){var t=i(e.target).attr("data-title"),n=t.substr(1,1),a=t.substr(3,1),r=i(e.target).parents(".calendar"),s=r.hasClass("left")?this.leftCalendar.calendar[n][a]:this.rightCalendar.calendar[n][a];if(this.endDate||s.isBefore(this.startDate,"day")){if(this.timePicker){var o=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".left .ampmselect").val();"PM"===l&&o<12&&(o+=12),"AM"===l&&12===o&&(o=0)}var u=parseInt(this.container.find(".left .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;s=s.clone().hour(o).minute(u).second(c)}this.endDate=null,this.setStartDate(s.clone())}else if(!this.endDate&&s.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var o=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&o<12&&(o+=12),"AM"===l&&12===o&&(o=0)}var u=parseInt(this.container.find(".right .minuteselect").val(),10),c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;s=s.clone().hour(o).minute(u).second(c)}this.setEndDate(s.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),this.timePicker||this.clickApply()),this.updateView()}},calculateChosenLabel:function(){var e=!0,t=0;for(var n in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}t++}e&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html(),this.showCalendars())},clickApply:function(e){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var t=i(e.target).closest(".calendar").hasClass("left"),n=t?"left":"right",a=this.container.find(".calendar."+n),r=parseInt(a.find(".monthselect").val(),10),s=a.find(".yearselect").val();t||(s<this.startDate.year()||s==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),s=this.startDate.year()),this.minDate&&(s<this.minDate.year()||s==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),s=this.minDate.year()),this.maxDate&&(s>this.maxDate.year()||s==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),s=this.maxDate.year()),t?(this.leftCalendar.month.month(r).year(s),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(s),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var t=i(e.target).closest(".calendar"),n=t.hasClass("left"),a=parseInt(t.find(".hourselect").val(),10),r=parseInt(t.find(".minuteselect").val(),10),s=this.timePickerSeconds?parseInt(t.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var o=t.find(".ampmselect").val();"PM"===o&&a<12&&(a+=12),"AM"===o&&12===a&&(a=0)}if(n){var l=this.startDate.clone();l.hour(a),l.minute(r),l.second(s),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var u=this.endDate.clone();u.hour(a),u.minute(r),u.second(s),this.setEndDate(u)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},formInputsChanged:function(e){var t=i(e.target).closest(".calendar").hasClass("right"),a=n(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format),r=n(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);a.isValid()&&r.isValid()&&(t&&r.isBefore(a)&&(a=r.clone()),this.setStartDate(a),this.setEndDate(r),t?this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format)):this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))),this.updateCalendars(),this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"))},elementChanged:function(){if(this.element.is("input")&&this.element.val().length&&!(this.element.val().length<this.locale.format.length)){var e=this.element.val().split(this.locale.separator),t=null,i=null;2===e.length&&(t=n(e[0],this.locale.format),i=n(e[1],this.locale.format)),(this.singleDatePicker||null===t||null===i)&&(t=n(this.element.val(),this.locale.format),i=t),t.isValid()&&i.isValid()&&(this.setStartDate(t),this.setEndDate(i),this.updateView())}},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide()},updateElement:function(){this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput?(this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.element.trigger("change")):this.element.is("input")&&this.autoUpdateInput&&(this.element.val(this.startDate.format(this.locale.format)),this.element.trigger("change"))},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},i.fn.daterangepicker=function(e,t){return this.each(function(){var n=i(this);n.data("daterangepicker")&&n.data("daterangepicker").remove(),n.data("daterangepicker",new a(n,e,t))}),this},a}),!function(e){"use strict";var t=function(e,n,i){var a,r,s=document.createElement("img");if(s.onerror=n,s.onload=function(){!r||i&&i.noRevoke||t.revokeObjectURL(r),n&&n(t.scale(s,i))},t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e))a=r=t.createObjectURL(e),s._type=e.type;else{if("string"!=typeof e)return!1;a=e,i&&i.crossOrigin&&(s.crossOrigin=i.crossOrigin)}return a?(s.src=a,s):t.readFile(e,function(e){var t=e.target;t&&t.result?s.src=t.result:n&&n(e)})},n=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transformCoordinates=function(){},t.getTransformedOptions=function(e,t){var n,i,a,r,s=t.aspectRatio;if(!s)return t;n={};for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n.crop=!0,a=e.naturalWidth||e.width,r=e.naturalHeight||e.height,a/r>s?(n.maxWidth=r*s,n.maxHeight=r):(n.maxWidth=a,n.maxHeight=a/s),n},t.renderImageToCanvas=function(e,t,n,i,a,r,s,o,l,u){return e.getContext("2d").drawImage(t,n,i,a,r,s,o,l,u),e},t.hasCanvasOption=function(e){return e.canvas||e.crop||e.aspectRatio},t.scale=function(e,n){n=n||{};var i,a,r,s,o,l,u,c,d,h=document.createElement("canvas"),f=e.getContext||t.hasCanvasOption(n)&&h.getContext,p=e.naturalWidth||e.width,m=e.naturalHeight||e.height,g=p,v=m,b=function(){var e=Math.max((r||g)/g,(s||v)/v);e>1&&(g*=e,v*=e)},y=function(){var e=Math.min((i||g)/g,(a||v)/v);1>e&&(g*=e,v*=e)};return f&&(n=t.getTransformedOptions(e,n),u=n.left||0,c=n.top||0,n.sourceWidth?(o=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(u=p-o-n.right)):o=p-u-(n.right||0),n.sourceHeight?(l=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(c=m-l-n.bottom)):l=m-c-(n.bottom||0),g=o,v=l),i=n.maxWidth,a=n.maxHeight,r=n.minWidth,s=n.minHeight,f&&i&&a&&n.crop?(g=i,v=a,d=o/l-i/a,0>d?(l=a*o/i,void 0===n.top&&void 0===n.bottom&&(c=(m-l)/2)):d>0&&(o=i*l/a,void 0===n.left&&void 0===n.right&&(u=(p-o)/2))):((n.contain||n.cover)&&(r=i=i||r,s=a=a||s),n.cover?(y(),b()):(b(),y())),f?(h.width=g,h.height=v,t.transformCoordinates(h,n),t.renderImageToCanvas(h,e,u,c,o,l,0,0,g,v)):(e.width=g,e.height=v,e)},t.createObjectURL=function(e){return!!n&&n.createObjectURL(e)},t.revokeObjectURL=function(e){return!!n&&n.revokeObjectURL(e)},t.readFile=function(e,t,n){if(window.FileReader){var i=new FileReader;if(i.onload=i.onerror=t,n=n||"readAsDataURL",i[n])return i[n](e),i}return!1},"function"==typeof define&&define.amd?define(function(){return t}):e.loadImage=t}(window),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image"],e):e(window.loadImage)}(function(e){"use strict";if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var t=e.renderImageToCanvas;e.detectSubsampling=function(e){var t,n;return e.width*e.height>1048576&&(t=document.createElement("canvas"),t.width=t.height=1,n=t.getContext("2d"),n.drawImage(e,-e.width+1,0),0===n.getImageData(0,0,1,1).data[3])},e.detectVerticalSquash=function(e,t){var n,i,a,r,s,o=e.naturalHeight||e.height,l=document.createElement("canvas"),u=l.getContext("2d");for(t&&(o/=2),l.width=1,l.height=o,u.drawImage(e,0,0),n=u.getImageData(0,0,1,o).data,i=0,a=o,r=o;r>i;)s=n[4*(r-1)+3],0===s?a=r:i=r,r=a+i>>1;return r/o||1},e.renderImageToCanvas=function(n,i,a,r,s,o,l,u,c,d){if("image/jpeg"===i._type){var h,f,p,m,g=n.getContext("2d"),v=document.createElement("canvas"),b=1024,y=v.getContext("2d");if(v.width=b,v.height=b,g.save(),h=e.detectSubsampling(i),h&&(a/=2,r/=2,s/=2,o/=2),f=e.detectVerticalSquash(i,h),h||1!==f){for(r*=f,c=Math.ceil(b*c/s),d=Math.ceil(b*d/o/f),u=0,m=0;o>m;){for(l=0,p=0;s>p;)y.clearRect(0,0,b,b),y.drawImage(i,a,r,s,o,-p,-m,s,o),g.drawImage(v,0,0,b,b,l,u,c,d),p+=b,l+=c;m+=b,u+=d}return g.restore(),n}}return t(n,i,a,r,s,o,l,u,c,d)}}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image"],e):e(window.loadImage)}(function(e){"use strict";var t=e.hasCanvasOption,n=e.transformCoordinates,i=e.getTransformedOptions;e.hasCanvasOption=function(n){return t.call(e,n)||n.orientation},e.transformCoordinates=function(t,i){n.call(e,t,i);var a=t.getContext("2d"),r=t.width,s=t.height,o=i.orientation;if(o&&!(o>8))switch(o>4&&(t.width=s,t.height=r),o){case 2:a.translate(r,0),a.scale(-1,1);break;case 3:a.translate(r,s),a.rotate(Math.PI);break;case 4:a.translate(0,s),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-s);break;case 7:a.rotate(.5*Math.PI),a.translate(r,-s),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-r,0)}},e.getTransformedOptions=function(t,n){var a,r,s=i.call(e,t,n),o=s.orientation;if(!o||o>8||1===o)return s;a={};for(r in s)s.hasOwnProperty(r)&&(a[r]=s[r]);switch(s.orientation){case 2:a.left=s.right,a.right=s.left;break;case 3:a.left=s.right,a.top=s.bottom,a.right=s.left,a.bottom=s.top;break;case 4:a.top=s.bottom,a.bottom=s.top;break;case 5:a.left=s.top,a.top=s.left,a.right=s.bottom,a.bottom=s.right;break;case 6:a.left=s.top,a.top=s.right,a.right=s.bottom,a.bottom=s.left;break;case 7:a.left=s.bottom,a.top=s.right,a.right=s.top,a.bottom=s.left;break;case 8:a.left=s.bottom,a.top=s.left,a.right=s.top,a.bottom=s.right}return s.orientation>4&&(a.maxWidth=s.maxHeight,a.maxHeight=s.maxWidth,a.minWidth=s.minHeight,a.minHeight=s.minWidth,a.sourceWidth=s.sourceHeight,a.sourceHeight=s.sourceWidth),a}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image"],e):e(window.loadImage)}(function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,n,i){i=i||{};var a=this,r=i.maxMetaDataSize||262144,s={},o=!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice);(o||!e.readFile(e.blobSlice.call(t,0,r),function(t){if(t.target.error)return console.log(t.target.error),void n(s);var r,o,l,u,c=t.target.result,d=new DataView(c),h=2,f=d.byteLength-4,p=h;if(65496===d.getUint16(0)){for(;f>h&&(r=d.getUint16(h),r>=65504&&65519>=r||65534===r);){if(o=d.getUint16(h+2)+2,h+o>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(l=e.metaDataParsers.jpeg[r])for(u=0;u<l.length;u+=1)l[u].call(a,d,h,o,s,i);h+=o,p=h}!i.disableImageHead&&p>6&&(s.imageHead=c.slice?c.slice(0,p):new Uint8Array(c).subarray(0,p))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(s)},"readAsArrayBuffer"))&&n(s)}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image","load-image-meta"],e):e(window.loadImage)}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,n){var i,a,r;if(!n||t+n>e.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(i=[],a=0;n>a;a+=1)r=e.getUint8(t+a),i.push((16>r?"0":"")+r.toString(16));return"data:image/jpeg,%"+i.join("%")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,n,i,a,r,s){var o,l,u,c,d,h,f=e.exifTagTypes[a];if(!f)return void console.log("Invalid Exif data: Invalid tag type.");if(o=f.size*r,l=o>4?n+t.getUint32(i+8,s):i+8,l+o>t.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===r)return f.getValue(t,l,s);for(u=[],c=0;r>c;c+=1)u[c]=f.getValue(t,l+c*f.size,s);if(f.ascii){for(d="",c=0;c<u.length&&(h=u[c],"\0"!==h);c+=1)d+=h;return d}return u},e.parseExifTag=function(t,n,i,a,r){var s=t.getUint16(i,a);r.exif[s]=e.getExifValue(t,n,i,t.getUint16(i+2,a),t.getUint32(i+4,a),a)},e.parseExifTags=function(e,t,n,i,a){var r,s,o;if(n+6>e.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(r=e.getUint16(n,i),s=n+2+12*r,s+4>e.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(o=0;r>o;o+=1)this.parseExifTag(e,t,n+2+12*o,i,a);return e.getUint32(s,i)},e.parseExifData=function(t,n,i,a,r){if(!r.disableExif){var s,o,l,u=n+10;if(1165519206===t.getUint32(n+4)){if(u+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(n+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(u)){case 18761:s=!0;break;
case 19789:s=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(u+2,s))return void console.log("Invalid Exif data: Missing TIFF marker.");o=t.getUint32(u+4,s),a.exif=new e.ExifMap,o=e.parseExifTags(t,u,u+o,s,a),o&&!r.disableExifThumbnail&&(l={exif:{}},o=e.parseExifTags(t,u,u+o,s,l),l.exif[513]&&(a.exif.Thumbnail=e.getExifThumbnail(t,u+l.exif[513],l.exif[514]))),a.exif[34665]&&!r.disableExifSub&&e.parseExifTags(t,u,u+a.exif[34665],s,a),a.exif[34853]&&!r.disableExifGps&&e.parseExifTags(t,u,u+a.exif[34853],s,a)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)}),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image","load-image-exif"],e):e(window.loadImage)}(function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,n=e.tags,i=e.map;for(t in n)n.hasOwnProperty(t)&&(i[n[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,n={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e],t&&(n[t]=this.getText(t)));return n}}),!function(e){"use strict";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),i=n&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,r=(n||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,r,s,o,l,u;for(t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),r=new ArrayBuffer(t.length),s=new Uint8Array(r),o=0;o<t.length;o+=1)s[o]=t.charCodeAt(o);return l=e.split(",")[0].split(":")[1].split(";")[0],n?new Blob([i?s:r],{type:l}):(u=new a,u.append(r),u.getBlob(l))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(e,n,i){e(i&&t.toDataURL&&r?r(this.toDataURL(n,i)):this.mozGetAsFile("blob",n))}:t.toDataURL&&r&&(t.toBlob=function(e,t,n){e(r(this.toDataURL(t,n)))})),"function"==typeof define&&define.amd?define(function(){return r}):e.dataURLtoBlob=r}(window),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=0,n=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,a,r;for(r=0;null!=(a=n[r]);r++)try{i=e._data(a,"events"),i&&i.remove&&e(a).triggerHandler("remove")}catch(s){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var a,r,s,o,l={},u=t.split(".")[0];return t=t.split(".")[1],a=u+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[u]=e[u]||{},r=e[u][t],s=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(i,function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},a=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,r=this._superApply;return this._super=e,this._superApply=a,t=i.apply(this,arguments),this._super=n,this._superApply=r,t}}()):void(l[t]=i)}),s.prototype=e.widget.extend(o,{widgetEventPrefix:r?o.widgetEventPrefix||t:t},l,{constructor:s,namespace:u,widgetName:t,widgetFullName:a}),r?(e.each(r._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete r._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var i,a,r=n.call(arguments,1),s=0,o=r.length;s<o;s++)for(i in r[s])a=r[s][i],r[s].hasOwnProperty(i)&&void 0!==a&&(e.isPlainObject(a)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],a):e.widget.extend({},a):t[i]=a);return t},e.widget.bridge=function(t,i){var a=i.prototype.widgetFullName||t;e.fn[t]=function(r){var s="string"==typeof r,o=n.call(arguments,1),l=this;return s?this.each(function(){var n,i=e.data(this,a);return"instance"===r?(l=i,!1):i?e.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,o),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):(o.length&&(r=e.widget.extend.apply(null,[r].concat(o))),this.each(function(){var t=e.data(this,a);t?(t.option(r||{}),t._init&&t._init()):e.data(this,a,new i(r,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,a,r,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},i=t.split("."),t=i.shift(),i.length){for(a=s[t]=e.widget.extend({},this.options[t]),r=0;r<i.length-1;r++)a[i[r]]=a[i[r]]||{},a=a[i[r]];if(t=i.pop(),1===arguments.length)return void 0===a[t]?null:a[t];a[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var a,r=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=a=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,a=this.widget()),e.each(i,function(i,s){function o(){if(t||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?r[s]:s).apply(r,arguments)}"string"!=typeof s&&(o.guid=s.guid=s.guid||o.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?a.delegate(c,u,o):n.bind(u,o)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var a,r,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(a in r)a in n||(n[a]=r[a]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,a,r){"string"==typeof a&&(a={effect:a});var s,o=a?a===!0||"number"==typeof a?n:a.effect||n:t;a=a||{},"number"==typeof a&&(a={duration:a}),s=!e.isEmptyObject(a),a.complete=r,a.delay&&i.delay(a.delay),s&&e.effects&&e.effects.effect[o]?i[t](a):o!==t&&i[o]?i[o](a.duration,a.easing,r):i.queue(function(n){e(this)[t](),r&&r.call(i[0]),n()})}});e.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";function t(t){var n="dragover"===t;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var a=i.dataTransfer;a&&e.inArray("Files",a.types)!==-1&&this._trigger(t,e.Event(t,{delegatedEvent:i}))!==!1&&(i.preventDefault(),n&&(a.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"\u4e0a\u4f20\u7684\u5b57\u8282\u8d85\u51fa\u6700\u5927\u8303\u56f4"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){return!t.isDefaultPrevented()&&void((n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var i,a=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&a-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=a,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(a,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(a,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)}),t.xhr=function(){return i})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,i=this,a=t.files[0],r=t.multipart||!e.support.xhrFileUpload,s="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),r&&!t.blob&&this._isInstanceOf("File",a)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(a.name)+'"'),r?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:s,value:t.blob}):e.each(t.files,function(i,a){n.push({name:"array"===e.type(t.paramName)&&t.paramName[i]||s,value:a})})):(i._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?n.append(s,t.blob,a.name):e.each(t.files,function(a,r){(i._isInstanceOf("File",r)||i._isInstanceOf("Blob",r))&&n.append("array"===e.type(t.paramName)&&t.paramName[a]||s,r,r.uploadName||r.name)})),t.data=n):(t.contentType=a.type||"application/octet-stream",t.data=t.blob||a),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",a=(t.prop("files")||[1]).length;a;)i.push(n),a-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var a=e.Deferred(),r=a.promise();return n=n||this.options.context||r,t===!0?a.resolveWith(n,i):t===!1&&a.rejectWith(n,i),r.abort=a.promise,this._enhancePromise(r)},_addConvenienceMethods:function(t,n){var i=this,a=function(t){return e.Deferred().resolveWith(i,t).promise()};n.process=function(t,r){return(t||r)&&(n._processQueue=this._processQueue=(this._processQueue||a([this])).pipe(function(){return n.errorThrown?e.Deferred().rejectWith(i,[n]).promise():a(arguments)}).pipe(t,r)),this._processQueue||a([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var i,a,r=this,s=t.files[0],o=s.size,l=t.uploadedBytes,u=t.maxChunkSize||o,c=this._blobSlice,d=e.Deferred(),h=d.promise();return!(!(this._isXHRUpload(t)&&c&&(l||u<o))||t.data)&&(!!n||(l>=o?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(a=function(){var n=e.extend({},t),h=n._progress.loaded;n.blob=c.call(s,l,l+u,s.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+o,r._initXHRData(n),r._initProgressListener(n),i=(r._trigger("chunksend",null,n)!==!1&&e.ajax(n)||r._getXHRPromise(!1,n.context)).done(function(i,s,u){l=r._getUploadedBytes(u)||l+n.chunkSize,h+n.chunkSize-n._progress.loaded&&r._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=s,n.jqXHR=u,r._trigger("chunkdone",null,n),r._trigger("chunkalways",null,n),l<o?a():d.resolveWith(n.context,[i,s,u])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,r._trigger("chunkfail",null,n),r._trigger("chunkalways",null,n),d.rejectWith(n.context,[e,t,i])})},this._enhancePromise(h),h.abort=function(){return i.abort()},a(),h)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,i,a){var r=a._progress.total,s=a._response;a._progress.loaded<r&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:r,total:r}),a),s.result=a.result=t,s.textStatus=a.textStatus=n,s.jqXHR=a.jqXHR=i,this._trigger("done",null,a)},_onFail:function(e,t,n,i){var a=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),a.jqXHR=i.jqXHR=e,a.textStatus=i.textStatus=t,a.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var i,a,r,s,o=this,l=o._getAJAXSettings(n),u=function(){return o._sending+=1,l._bitrateTimer=new o._BitrateTimer,i=i||((a||o._trigger("send",e.Event("send",{delegatedEvent:t}),l)===!1)&&o._getXHRPromise(!1,l.context,a)||o._chunkedUpload(l)||e.ajax(l)).done(function(e,t,n){o._onDone(e,t,n,l)}).fail(function(e,t,n){o._onFail(e,t,n,l)}).always(function(e,t,n){if(o._onAlways(e,t,n,l),o._sending-=1,o._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>o._sending)for(var i=o._slots.shift();i;){if("pending"===o._getDeferredState(i)){i.resolve();break}i=o._slots.shift()}0===o._active&&o._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=e.Deferred(),this._slots.push(r),s=r.pipe(u)):(this._sequence=this._sequence.pipe(u,u),s=this._sequence),s.abort=function(){return a=[void 0,"abort","abort"],i?i.abort():(r&&r.rejectWith(l.context,a),u())},this._enhancePromise(s)):u()},_onAdd:function(t,n){var i,a,r,s,o=this,l=!0,u=e.extend({},this.options,n),c=n.files,d=c.length,h=u.limitMultiFileUploads,f=u.limitMultiFileUploadSize,p=u.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(u),v=0;if(!f||d&&void 0!==c[0].size||(f=void 0),(u.singleFileUploads||h||f)&&this._isXHRUpload(u))if(u.singleFileUploads||f||!h)if(!u.singleFileUploads&&f)for(r=[],i=[],s=0;s<d;s+=1)m+=c[s].size+p,(s+1===d||m+c[s+1].size+p>f||h&&s+1-v>=h)&&(r.push(c.slice(v,s+1)),a=g.slice(v,s+1),a.length||(a=g),i.push(a),v=s+1,m=0);else i=g;else for(r=[],i=[],s=0;s<d;s+=h)r.push(c.slice(s,s+h)),a=g.slice(s,s+h),a.length||(a=g),i.push(a);else r=[c],i=[g];return n.originalFiles=c,e.each(r||c,function(a,s){var u=e.extend({},n);return u.files=r?s:[s],u.paramName=i[a],o._initResponseObject(u),o._initProgressObject(u),o._addConvenienceMethods(t,u),l=o._trigger("add",e.Event("add",{delegatedEvent:t}),u)}),l},_replaceFileInput:function(t){var n=t.fileInput,i=n.clone(!0);t.fileInputClone=i,e("<form></form>").append(i)[0].reset(),n.after(i).detach(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?i[0]:t}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,n){var i,a=this,r=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),r.resolve([e])},o=function(e){a._handleFileTreeEntries(e,n+t.name+"/").done(function(e){r.resolve(e)}).fail(s)},l=function(){i.readEntries(function(e){e.length?(u=u.concat(e),l()):o(u)},s)},u=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,r.resolve(t._file)):t.file(function(e){e.relativePath=n,r.resolve(e)},s):t.isDirectory?(i=t.createReader(),l()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,function(e){return i._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,i,a=t.prop("webkitEntries")||t.prop("entries");if(a&&a.length)return this._handleFileTreeEntries(a);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(i=t.prop("value"),!i)return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(a){i.files=a,n.options.replaceFileInput&&n._replaceFileInput(i),n._trigger("change",e.Event("change",{delegatedEvent:t}),i)!==!1&&n._onAdd(t,i)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),i)!==!1&&this._onAdd(t,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,i=t.dataTransfer,a={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always(function(i){a.files=i,n._trigger("drop",e.Event("drop",{delegatedEvent:t}),a)!==!1&&n._onAdd(t,a)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var i=e.inArray(t,this._specialOptions)!==-1;i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,i=e(this.element[0].cloneNode(!1));e.each(i.data(),function(e,a){
var r="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();i.attr(r)&&(t._isRegExpOption(e,a)&&(a=t._getRegExp(a)),n[e]=a)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,a=this,r=e.Deferred(),s=r.promise();return s.abort=function(){return i=!0,n?n.abort():(r.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always(function(e){if(!i){if(!e.length)return void r.reject();t.files=e,n=a._onSend(null,t),n.then(function(e,t,n){r.resolve(e,t,n)},function(e,t,n){r.reject(e,t,n)})}}),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=e.blueimp.fileupload.prototype.options.add;e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{processQueue:[],add:function(n,i){var a=e(this);i.process(function(){return a.fileupload("process",i)}),t.call(this,n,i)}},processActions:{},_processFile:function(t,n){var i=this,a=e.Deferred().resolveWith(i,[t]),r=a.promise();return this._trigger("process",null,t),e.each(t.processQueue,function(t,a){var s=function(t){return n.errorThrown?e.Deferred().rejectWith(i,[n]).promise():i.processActions[a.action].call(i,t,a)};r=r.pipe(s,a.always&&s)}),r.done(function(){i._trigger("processdone",null,t),i._trigger("processalways",null,t)}).fail(function(){i._trigger("processfail",null,t),i._trigger("processalways",null,t)}),r},_transformProcessQueue:function(t){var n=[];e.each(t.processQueue,function(){var i={},a=this.action,r=this.prefix===!0?a:this.prefix;e.each(this,function(n,a){"string"===e.type(a)&&"@"===a.charAt(0)?i[n]=t[a.slice(1)||(r?r+n.charAt(0).toUpperCase()+n.slice(1):n)]:i[n]=a}),n.push(i)}),t.processQueue=n},processing:function(){return this._processing},process:function(t){var n=this,i=e.extend({},this.options,t);return i.processQueue&&i.processQueue.length&&(this._transformProcessQueue(i),0===this._processing&&this._trigger("processstart"),e.each(t.files,function(a){var r=a?e.extend({},i):i,s=function(){return t.errorThrown?e.Deferred().rejectWith(n,[t]).promise():n._processFile(r,t)};r.index=a,n._processing+=1,n._processingQueue=n._processingQueue.pipe(s,s).always(function(){n._processing-=1,0===n._processing&&n._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=e.Deferred().resolveWith(this).promise()}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","load-image-meta","load-image-exif","load-image-ios","canvas-to-blob","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("load-image")):e(window.jQuery,window.loadImage)}(function(e,t){"use strict";e.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1e7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!1,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(n,i){if(i.disabled)return n;var a=this,r=n.files[n.index],s=e.Deferred();return"number"===e.type(i.maxFileSize)&&r.size>i.maxFileSize||i.fileTypes&&!i.fileTypes.test(r.type)||!t(r,function(e){e.src&&(n.img=e),s.resolveWith(a,[n])},i)?n:s.promise()},resizeImage:function(n,i){if(i.disabled||!n.canvas&&!n.img)return n;i=e.extend({canvas:!0},i);var a,r=this,s=e.Deferred(),o=i.canvas&&n.canvas||n.img,l=function(e){e&&(e.width!==o.width||e.height!==o.height||i.forceResize)&&(n[e.getContext?"canvas":"img"]=e),n.preview=e,s.resolveWith(r,[n])};if(n.exif){if(i.orientation===!0&&(i.orientation=n.exif.get("Orientation")),i.thumbnail&&(a=n.exif.get("Thumbnail")))return t(a,l,i),s.promise();n.orientation?delete i.orientation:n.orientation=i.orientation}return o?(l(t.scale(o,i)),s.promise()):n},saveImage:function(t,n){if(!t.canvas||n.disabled)return t;var i=this,a=t.files[t.index],r=e.Deferred();return t.canvas.toBlob?(t.canvas.toBlob(function(e){e.name||(a.type===e.type?e.name=a.name:a.name&&(e.name=a.name.replace(/\.\w+$/,"."+e.type.substr(6)))),a.type!==e.type&&delete t.imageHead,t.files[t.index]=e,r.resolveWith(i,[t])},n.type||a.type,n.quality),r.promise()):t},loadImageMetaData:function(n,i){if(i.disabled)return n;var a=this,r=e.Deferred();return t.parseMetaData(n.files[n.index],function(t){e.extend(n,t),r.resolveWith(a,[n])},i),r.promise()},saveImageMetaData:function(e,t){if(!(e.imageHead&&e.canvas&&e.canvas.toBlob)||t.disabled)return e;var n=e.files[e.index],i=new Blob([e.imageHead,this._blobSlice.call(n,20)],{type:n.type});return i.name=n.name,e.files[e.index]=i,e},setImage:function(e,t){return e.preview&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.preview),e},deleteImageReferences:function(e,t){return t.disabled||(delete e.img,delete e.canvas,delete e.preview,delete e.imageHead),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";e.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{getNumberOfFiles:e.noop,messages:{maxNumberOfFiles:"\u8d85\u51fa\u6700\u5927\u6587\u4ef6\u6570\u91cf",acceptFileTypes:"\u6587\u4ef6\u7c7b\u578b\u4e0d\u5141\u8bb8",maxFileSize:"\u6587\u4ef6\u592a\u5927",minFileSize:"\u6587\u4ef6\u592a\u5c0f"}},processActions:{validate:function(t,n){if(n.disabled)return t;var i,a=e.Deferred(),r=this.options,s=t.files[t.index];return(n.minFileSize||n.maxFileSize)&&(i=s.size),"number"===e.type(n.maxNumberOfFiles)&&(r.getNumberOfFiles()||0)+t.files.length>n.maxNumberOfFiles?s.error=r.i18n("maxNumberOfFiles"):!n.acceptFileTypes||n.acceptFileTypes.test(s.type)||n.acceptFileTypes.test(s.name)?i>n.maxFileSize?s.error=r.i18n("maxFileSize"):"number"===e.type(i)&&i<n.minFileSize?s.error=r.i18n("minFileSize"):delete s.error:s.error=r.i18n("acceptFileTypes"),s.error||t.files.error?(t.files.error=!0,a.rejectWith(this,[t])):a.resolveWith(this,[t]),a.promise()}}})}),function(e){"use strict";e(window.jQuery)}(function(e){"use strict";e.blueimp.fileupload.prototype._specialOptions.push("filesContainer");var t=function(){var t='<tr class="template-upload am-animation-fade"> <td> <span class="am-preview-multiple preview"></span></td><td><div class="name">{name}</div><strong class="error text-danger"></strong></td><td><div class="size">{size}</div><div class="am-progress am-progress-striped"><div class="am-progress-bar am-progress-bar-success" style="width:0%;"></div></div></td><td>{btngroups}</td></tr>',n='<tr class="template-download am-animation-fade"> <td> <span class="am-preview-multiple preview">{previewimg}</span></td><td><div class="name"><a href="{url}" download="{name}">{name}</a></div><strong class="error am-text-danger">{error}</strong></td><td><div class="size">{size}</div></td><td>{btngroups}</td></tr>',i='<button class="am-btn am-btn-primary am-margin-right-sm start" disabled><i class="am-icon-upload"></i><span> \u5f00\u59cb</span></button>',a='<button class="am-btn am-btn-warning am-margin-right-sm cancel"><i class="am-icon-ban"></i><span> \u53d6\u6d88</span></button>',r='<div class="template-upload"><div class="am-preview-single preview"></div><div class="am-progress am-progress-striped am-progress-xs"><div class="am-progress-bar am-progress-bar-success" style="width:0%;"></div></div>',s='<div class="template-download am-margin-bottom-sm"><span class="am-preview-single preview"><img src="{url}"/></span></div>',o=function(e,t){if(arguments.length>1)if(2==arguments.length&&"object"==typeof t){for(var n in t)if(void 0!=t[n]){var i=new RegExp("({"+n+"})","g");e=e.replace(i,t[n])}}else for(var a=0;a<arguments.length-1;a++)if(void 0!=arguments[a+1]){var i=new RegExp("({)"+a+"(})","g");e=e.replace(i,arguments[a+1])}return e};return{uploadTemplate:function(n,s){var l=n.options,u=[],c=[];if(1==l.maxNumberOfFiles)c.push(r);else{l.autoUpload||1!=l.singleFileUploads||u.push(i),u.push(a);var d=t.replace("{btngroups}",u.join(""));e.each(s,function(e,t){c.push(o(d,t))})}return c.join("")},downloadTemplate:function(t,i){var r=n.replace("{btngroups}",a),l=t.options,u=[];return 1==l.maxNumberOfFiles?e.each(i,function(e,t){u.push(o(s,{url:t.url}))}):e.each(i,function(n,i){var a=e.extend({previewimg:""},i);i.url&&(a.previewimg='<img src="'+i.url+'"/>'),i.size&&(a.size=t._formatFileSize(i.size)),u.push(o(r,a))}),u.join("")}}}();e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{autoUpload:!1,filesContainer:void 0,uploadTemplate:t.uploadTemplate,downloadTemplate:t.downloadTemplate,prependFiles:!1,dataType:"json",messages:{unknownError:"\u672a\u77e5\u5f02\u5e38"},getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(t){return t.result&&e.isArray(t.result)?t.result:[]},add:function(t,n){if(t.isDefaultPrevented())return!1;var i=e(this),a=i.data("blueimp-fileupload")||i.data("fileupload"),r=a.options;if(!("number"===e.type(r.maxNumberOfFiles)&&1!=r.maxNumberOfFiles&&(r.getNumberOfFiles()||0)+n.files.length>r.maxNumberOfFiles)){if(1==r.maxNumberOfFiles){var s=e(".template-upload,.template-download",r.filesContainer);a._calcelProcess(t,s)}n.context=a._renderUpload(n.files).data("data",n).addClass("processing"),r.filesContainer[r.prependFiles?"prepend":"append"](n.context),a._forceReflow(n.context),a._transition(n.context),n.process(function(){return i.fileupload("process",n)}).always(function(){n.context.each(function(t){e(this).find(".size").text(a._formatFileSize(n.files[t].size))}).removeClass("processing"),a._renderPreviews(n)}).done(function(){n.context.find(".start").prop("disabled",!1),a._trigger("added",t,n)!==!1&&(r.autoUpload||n.autoUpload)&&n.autoUpload!==!1&&n.submit()}).fail(function(){n.files.error&&n.context.each(function(t){var i=n.files[t].error;i&&e(this).find(".error").text(i)})})}},send:function(t,n){if(t.isDefaultPrevented())return!1;var i=e(this).data("blueimp-fileupload")||e(this).data("fileupload");return n.context&&n.dataType&&"iframe"===n.dataType.substr(0,6)&&n.context.find(".am-progress").addClass(!e.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%"),i._trigger("sent",t,n)},done:function(t,n){if(t.isDefaultPrevented())return!1;var i,a,r=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),s=n.getFilesFromResponse||r.options.getFilesFromResponse,o=s(n);n.context?n.context.each(function(s){var l=o[s]||{error:"Empty file upload result"};a=r._addFinishedDeferreds(),r._transition(e(this)).done(function(){var s=e(this);i=r._renderDownload([l]).replaceAll(s),r._forceReflow(i),r._transition(i).done(function(){n.context=e(this),r._trigger("completed",t,n),r._trigger("finished",t,n),a.resolve()})})}):(i=r._renderDownload(o)[r.options.prependFiles?"prependTo":"appendTo"](r.options.filesContainer),r._forceReflow(i),a=r._addFinishedDeferreds(),r._transition(i).done(function(){n.context=e(this),r._trigger("completed",t,n),r._trigger("finished",t,n),a.resolve()}))},fail:function(t,n){if(t.isDefaultPrevented())return!1;var i,a,r=e(this).data("blueimp-fileupload")||e(this).data("fileupload");n.context?n.context.each(function(s){if("abort"!==n.errorThrown){var o=n.files[s];o.error=o.error||n.errorThrown||n.i18n("unknownError"),a=r._addFinishedDeferreds(),r._transition(e(this)).done(function(){var s=e(this);i=r._renderDownload([o]).replaceAll(s),r._forceReflow(i),r._transition(i).done(function(){n.context=e(this),r._trigger("failed",t,n),r._trigger("finished",t,n),a.resolve()})})}else a=r._addFinishedDeferreds(),r._transition(e(this)).done(function(){e(this).remove(),r._trigger("failed",t,n),r._trigger("finished",t,n),a.resolve()})}):"abort"!==n.errorThrown?(n.context=r._renderUpload(n.files)[r.options.prependFiles?"prependTo":"appendTo"](r.options.filesContainer).data("data",n),r._forceReflow(n.context),a=r._addFinishedDeferreds(),r._transition(n.context).done(function(){n.context=e(this),r._trigger("failed",t,n),r._trigger("finished",t,n),a.resolve()})):(r._trigger("failed",t,n),r._trigger("finished",t,n),r._addFinishedDeferreds().resolve())},processdone:function(e,t){t.context.find(".start").button("enable")},progress:function(t,n){if(t.isDefaultPrevented())return!1;var i=Math.floor(n.loaded/n.total*100);n.context&&n.context.each(function(){e(this).find(".am-progress").attr("aria-valuenow",i).children().first().css("width",i+"%")})},progressall:function(t,n){if(t.isDefaultPrevented())return!1;var i=e(this),a=Math.floor(n.loaded/n.total*100),r=i.find(".fileupload-progress"),s=r.find(".am-progress-extended");s.length&&s.html((i.data("blueimp-fileupload")||i.data("fileupload"))._renderExtendedProgress(n)),r.find(".am-progress").attr("aria-valuenow",a).children().first().css("width",a+"%")},start:function(t){if(t.isDefaultPrevented())return!1;var n=e(this).data("blueimp-fileupload")||e(this).data("fileupload");n._resetFinishedDeferreds(),n._transition(e(this).find(".fileupload-progress")).done(function(){n._trigger("started",t)})},stop:function(t){if(t.isDefaultPrevented())return!1;var n=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),i=n._addFinishedDeferreds();e.when.apply(e,n._getFinishedDeferreds()).done(function(){n._trigger("stopped",t)}),n._transition(e(this).find(".fileupload-progress")).done(function(){e(this).find(".am-progress").attr("aria-valuenow","0").children().first().css("width","0%"),e(this).find(".am-progress-extended").html("&nbsp;"),i.resolve()})},processstart:function(t){return!t.isDefaultPrevented()&&void e(this).addClass("fileupload-processing")},processstop:function(t){return!t.isDefaultPrevented()&&void e(this).removeClass("fileupload-processing")},destroy:function(t,n){if(t.isDefaultPrevented())return!1;var i=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),a=function(){i._transition(n.context).done(function(){e(this).remove(),i._trigger("destroyed",t,n)})};n.url?(n.dataType=n.dataType||i.options.dataType,e.ajax(n).done(a).fail(function(){i._trigger("destroyfailed",t,n)})):a()}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(t){return t||(t=e.Deferred()),this._finishedUploads.push(t),t},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var t=e(this),n=t.prop("href"),i=t.prop("download"),a="application/octet-stream";t.bind("dragstart",function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",[a,i,n].join(":"))}catch(t){}})},_formatFileSize:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" GB":e>=1e6?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},_formatBitrate:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" Gbit/s":e>=1e6?(e/1e6).toFixed(2)+" Mbit/s":e>=1e3?(e/1e3).toFixed(2)+" kbit/s":e.toFixed(2)+" bit/s"},_formatTime:function(e){var t=new Date(1e3*e),n=Math.floor(e/86400);return n=n?n+"d ":"",n+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)},_formatPercentage:function(e){return(100*e).toFixed(2)+" %"},_renderExtendedProgress:function(e){return this._formatBitrate(e.bitrate)+" | "+this._formatTime(8*(e.total-e.loaded)/e.bitrate)+" | "+this._formatPercentage(e.loaded/e.total)+" | "+this._formatFileSize(e.loaded)+" / "+this._formatFileSize(e.total)},_renderTemplate:function(t,n){if(t){var i=t(this,n);return e(this.options.templatesContainer).html(i).children()}},_renderPreviews:function(t){t.context.find(".preview").each(function(n,i){e(i).append(t.files[n].preview)})},_renderUpload:function(e){return this._renderTemplate(this.options.uploadTemplate,e)},_renderDownload:function(e){return this._renderTemplate(this.options.downloadTemplate,e).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(t){t.preventDefault();var n=e(t.currentTarget),i=n.closest(".template-upload"),a=i.data("data");n.prop("disabled",!0),a&&a.submit&&a.submit()},_calcelProcess:function(e,t){var n=t.data("data")||{};n.context=n.context||t,n.abort?n.abort():(n.errorThrown="abort",this._trigger("fail",e,n))},_cancelHandler:function(t){t.preventDefault();var n=e(t.currentTarget).closest(".template-upload,.template-download");this._calcelProcess(t,n)},_deleteHandler:function(t){t.preventDefault();var n=e(t.currentTarget);this._trigger("destroy",t,e.extend({context:n.closest(".template-download"),type:"DELETE"},n.data()))},_forceReflow:function(t){return e.support.transition&&t.length&&t[0].offsetWidth},_transition:function(t){var n=e.Deferred();return e.support.transition&&t.hasClass("fade")&&t.is(":visible")?t.bind(e.support.transition.end,function(i){i.target===t[0]&&(t.unbind(e.support.transition.end),n.resolveWith(t))}).toggleClass("in"):(t.toggleClass("in"),n.resolveWith(t)),n},_initButtonBarEventHandlers:function(){var t=this.element.find(".fileupload-buttonbar"),n=this.options.filesContainer;this._on(t.find(".start"),{click:function(e){e.preventDefault(),n.find(".start").click()}}),this._on(t.find(".cancel"),{click:function(e){e.preventDefault(),n.find(".cancel").click()}}),this._on(t.find(".delete"),{click:function(e){e.preventDefault(),n.find(".toggle:checked").closest(".template-download").find(".delete").click(),t.find(".toggle").prop("checked",!1)}}),this._on(t.find(".toggle"),{change:function(t){n.find(".toggle").prop("checked",e(t.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click"),this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super(),this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler}),this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers(),this._off(this.options.filesContainer,"click"),this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var e=this.options;e.templatesContainer=this.document[0].createElement(e.filesContainer.prop("nodeName"))},_initFilesContainer:function(){var t=this.options;void 0===t.filesContainer?t.filesContainer=this.element.find(".files"):t.filesContainer instanceof e||(t.filesContainer=e(t.filesContainer))},_initSpecialOptions:function(){this._super(),this._initFilesContainer(),this._initTemplates()},_create:function(){this._super(),this._resetFinishedDeferreds(),e.support.fileInput||this._disableFileInputButton()},enable:function(){var e=!1;this.options.disabled&&(e=!0),this._super(),e&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton()),this._super()}})}),!function(e){"use strict";var t=function(e,n,i){var a,r,s=document.createElement("img");if(s.onerror=n,s.onload=function(){!r||i&&i.noRevoke||t.revokeObjectURL(r),n&&n(t.scale(s,i))},t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e))a=r=t.createObjectURL(e),s._type=e.type;else{if("string"!=typeof e)return!1;a=e,i&&i.crossOrigin&&(s.crossOrigin=i.crossOrigin)}return a?(s.src=a,s):t.readFile(e,function(e){var t=e.target;t&&t.result?s.src=t.result:n&&n(e)})},n=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transformCoordinates=function(){},t.getTransformedOptions=function(e,t){var n,i,a,r,s=t.aspectRatio;if(!s)return t;n={};for(i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n.crop=!0,a=e.naturalWidth||e.width,r=e.naturalHeight||e.height,a/r>s?(n.maxWidth=r*s,n.maxHeight=r):(n.maxWidth=a,n.maxHeight=a/s),n},t.renderImageToCanvas=function(e,t,n,i,a,r,s,o,l,u){return e.getContext("2d").drawImage(t,n,i,a,r,s,o,l,u),e},t.hasCanvasOption=function(e){return e.canvas||e.crop||e.aspectRatio},t.scale=function(e,n){n=n||{};var i,a,r,s,o,l,u,c,d,h=document.createElement("canvas"),f=e.getContext||t.hasCanvasOption(n)&&h.getContext,p=e.naturalWidth||e.width,m=e.naturalHeight||e.height,g=p,v=m,b=function(){var e=Math.max((r||g)/g,(s||v)/v);e>1&&(g*=e,v*=e)},y=function(){var e=Math.min((i||g)/g,(a||v)/v);1>e&&(g*=e,v*=e)};return f&&(n=t.getTransformedOptions(e,n),u=n.left||0,c=n.top||0,n.sourceWidth?(o=n.sourceWidth,void 0!==n.right&&void 0===n.left&&(u=p-o-n.right)):o=p-u-(n.right||0),n.sourceHeight?(l=n.sourceHeight,void 0!==n.bottom&&void 0===n.top&&(c=m-l-n.bottom)):l=m-c-(n.bottom||0),g=o,v=l),i=n.maxWidth,a=n.maxHeight,r=n.minWidth,s=n.minHeight,f&&i&&a&&n.crop?(g=i,v=a,d=o/l-i/a,0>d?(l=a*o/i,void 0===n.top&&void 0===n.bottom&&(c=(m-l)/2)):d>0&&(o=i*l/a,void 0===n.left&&void 0===n.right&&(u=(p-o)/2))):((n.contain||n.cover)&&(r=i=i||r,s=a=a||s),n.cover?(y(),b()):(b(),y())),f?(h.width=g,h.height=v,t.transformCoordinates(h,n),t.renderImageToCanvas(h,e,u,c,o,l,0,0,g,v)):(e.width=g,e.height=v,e)},t.createObjectURL=function(e){return!!n&&n.createObjectURL(e)},t.revokeObjectURL=function(e){return!!n&&n.revokeObjectURL(e)},t.readFile=function(e,t,n){if(window.FileReader){var i=new FileReader;if(i.onload=i.onerror=t,n=n||"readAsDataURL",i[n])return i[n](e),i}return!1},"function"==typeof define&&define.amd?define(function(){return t}):e.loadImage=t}(window),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image"],e):e(window.loadImage)}(function(e){"use strict";if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var t=e.renderImageToCanvas;e.detectSubsampling=function(e){var t,n;return e.width*e.height>1048576&&(t=document.createElement("canvas"),t.width=t.height=1,n=t.getContext("2d"),n.drawImage(e,-e.width+1,0),0===n.getImageData(0,0,1,1).data[3])},e.detectVerticalSquash=function(e,t){var n,i,a,r,s,o=e.naturalHeight||e.height,l=document.createElement("canvas"),u=l.getContext("2d");for(t&&(o/=2),l.width=1,l.height=o,u.drawImage(e,0,0),n=u.getImageData(0,0,1,o).data,i=0,a=o,r=o;r>i;)s=n[4*(r-1)+3],0===s?a=r:i=r,r=a+i>>1;return r/o||1},e.renderImageToCanvas=function(n,i,a,r,s,o,l,u,c,d){if("image/jpeg"===i._type){var h,f,p,m,g=n.getContext("2d"),v=document.createElement("canvas"),b=1024,y=v.getContext("2d");if(v.width=b,v.height=b,g.save(),h=e.detectSubsampling(i),h&&(a/=2,r/=2,s/=2,o/=2),f=e.detectVerticalSquash(i,h),h||1!==f){for(r*=f,c=Math.ceil(b*c/s),d=Math.ceil(b*d/o/f),u=0,m=0;o>m;){for(l=0,p=0;s>p;)y.clearRect(0,0,b,b),y.drawImage(i,a,r,s,o,-p,-m,s,o),g.drawImage(v,0,0,b,b,l,u,c,d),p+=b,l+=c;m+=b,u+=d}return g.restore(),n}}return t(n,i,a,r,s,o,l,u,c,d)}}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image"],e):e(window.loadImage)}(function(e){"use strict";var t=e.hasCanvasOption,n=e.transformCoordinates,i=e.getTransformedOptions;e.hasCanvasOption=function(n){return t.call(e,n)||n.orientation},e.transformCoordinates=function(t,i){n.call(e,t,i);var a=t.getContext("2d"),r=t.width,s=t.height,o=i.orientation;if(o&&!(o>8))switch(o>4&&(t.width=s,t.height=r),o){case 2:a.translate(r,0),a.scale(-1,1);break;case 3:a.translate(r,s),a.rotate(Math.PI);break;case 4:a.translate(0,s),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-s);break;case 7:a.rotate(.5*Math.PI),a.translate(r,-s),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-r,0)}},e.getTransformedOptions=function(t,n){var a,r,s=i.call(e,t,n),o=s.orientation;if(!o||o>8||1===o)return s;a={};for(r in s)s.hasOwnProperty(r)&&(a[r]=s[r]);switch(s.orientation){case 2:a.left=s.right,a.right=s.left;break;case 3:a.left=s.right,a.top=s.bottom,a.right=s.left,a.bottom=s.top;break;case 4:a.top=s.bottom,a.bottom=s.top;break;case 5:a.left=s.top,a.top=s.left,a.right=s.bottom,a.bottom=s.right;break;case 6:a.left=s.top,a.top=s.right,a.right=s.bottom,a.bottom=s.left;break;case 7:a.left=s.bottom,a.top=s.right,a.right=s.top,a.bottom=s.left;break;case 8:a.left=s.bottom,a.top=s.left,a.right=s.top,a.bottom=s.right}return s.orientation>4&&(a.maxWidth=s.maxHeight,a.maxHeight=s.maxWidth,a.minWidth=s.minHeight,a.minHeight=s.minWidth,a.sourceWidth=s.sourceHeight,a.sourceHeight=s.sourceWidth),a}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image"],e):e(window.loadImage)}(function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,n,i){i=i||{};var a=this,r=i.maxMetaDataSize||262144,s={},o=!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice);(o||!e.readFile(e.blobSlice.call(t,0,r),function(t){if(t.target.error)return console.log(t.target.error),void n(s);var r,o,l,u,c=t.target.result,d=new DataView(c),h=2,f=d.byteLength-4,p=h;if(65496===d.getUint16(0)){for(;f>h&&(r=d.getUint16(h),r>=65504&&65519>=r||65534===r);){if(o=d.getUint16(h+2)+2,h+o>d.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(l=e.metaDataParsers.jpeg[r])for(u=0;u<l.length;u+=1)l[u].call(a,d,h,o,s,i);h+=o,p=h}!i.disableImageHead&&p>6&&(s.imageHead=c.slice?c.slice(0,p):new Uint8Array(c).subarray(0,p))}else console.log("Invalid JPEG file: Missing JPEG marker.");n(s)},"readAsArrayBuffer"))&&n(s)}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image","load-image-meta"],e):e(window.loadImage)}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,n){var i,a,r;if(!n||t+n>e.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(i=[],a=0;n>a;a+=1)r=e.getUint8(t+a),i.push((16>r?"0":"")+r.toString(16));return"data:image/jpeg,%"+i.join("%")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,n){return e.getUint16(t,n)},size:2},4:{getValue:function(e,t,n){return e.getUint32(t,n)},size:4},5:{getValue:function(e,t,n){return e.getUint32(t,n)/e.getUint32(t+4,n)},size:8},9:{getValue:function(e,t,n){return e.getInt32(t,n)},size:4},10:{getValue:function(e,t,n){return e.getInt32(t,n)/e.getInt32(t+4,n)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,n,i,a,r,s){var o,l,u,c,d,h,f=e.exifTagTypes[a];if(!f)return void console.log("Invalid Exif data: Invalid tag type.");if(o=f.size*r,l=o>4?n+t.getUint32(i+8,s):i+8,l+o>t.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===r)return f.getValue(t,l,s);for(u=[],c=0;r>c;c+=1)u[c]=f.getValue(t,l+c*f.size,s);if(f.ascii){for(d="",c=0;c<u.length&&(h=u[c],"\0"!==h);c+=1)d+=h;return d}return u},e.parseExifTag=function(t,n,i,a,r){var s=t.getUint16(i,a);r.exif[s]=e.getExifValue(t,n,i,t.getUint16(i+2,a),t.getUint32(i+4,a),a)},e.parseExifTags=function(e,t,n,i,a){var r,s,o;if(n+6>e.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(r=e.getUint16(n,i),s=n+2+12*r,s+4>e.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(o=0;r>o;o+=1)this.parseExifTag(e,t,n+2+12*o,i,a);return e.getUint32(s,i)},e.parseExifData=function(t,n,i,a,r){if(!r.disableExif){var s,o,l,u=n+10;if(1165519206===t.getUint32(n+4)){if(u+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(n+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(u)){case 18761:s=!0;break;case 19789:s=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(u+2,s))return void console.log("Invalid Exif data: Missing TIFF marker.");o=t.getUint32(u+4,s),a.exif=new e.ExifMap,o=e.parseExifTags(t,u,u+o,s,a),o&&!r.disableExifThumbnail&&(l={exif:{}},o=e.parseExifTags(t,u,u+o,s,l),l.exif[513]&&(a.exif.Thumbnail=e.getExifThumbnail(t,u+l.exif[513],l.exif[514]))),a.exif[34665]&&!r.disableExifSub&&e.parseExifTags(t,u,u+a.exif[34665],s,a),a.exif[34853]&&!r.disableExifGps&&e.parseExifTags(t,u,u+a.exif[34853],s,a)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)}),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image","load-image-exif"],e):e(window.loadImage)}(function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",
34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,n=e.tags,i=e.map;for(t in n)n.hasOwnProperty(t)&&(i[n[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,n={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e],t&&(n[t]=this.getText(t)));return n}}),!function(e){"use strict";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,n=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),i=n&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),a=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,r=(n||a)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,r,s,o,l,u;for(t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),r=new ArrayBuffer(t.length),s=new Uint8Array(r),o=0;o<t.length;o+=1)s[o]=t.charCodeAt(o);return l=e.split(",")[0].split(":")[1].split(";")[0],n?new Blob([i?s:r],{type:l}):(u=new a,u.append(r),u.getBlob(l))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(e,n,i){e(i&&t.toDataURL&&r?r(this.toDataURL(n,i)):this.mozGetAsFile("blob",n))}:t.toDataURL&&r&&(t.toBlob=function(e,t,n){e(r(this.toDataURL(t,n)))})),"function"==typeof define&&define.amd?define(function(){return r}):e.dataURLtoBlob=r}(window),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=0,n=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,a,r;for(r=0;null!=(a=n[r]);r++)try{i=e._data(a,"events"),i&&i.remove&&e(a).triggerHandler("remove")}catch(s){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var a,r,s,o,l={},u=t.split(".")[0];return t=t.split(".")[1],a=u+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][a.toLowerCase()]=function(t){return!!e.data(t,a)},e[u]=e[u]||{},r=e[u][t],s=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),o=new n,o.options=e.widget.extend({},o.options),e.each(i,function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},a=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,r=this._superApply;return this._super=e,this._superApply=a,t=i.apply(this,arguments),this._super=n,this._superApply=r,t}}()):void(l[t]=i)}),s.prototype=e.widget.extend(o,{widgetEventPrefix:r?o.widgetEventPrefix||t:t},l,{constructor:s,namespace:u,widgetName:t,widgetFullName:a}),r?(e.each(r._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete r._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s),s},e.widget.extend=function(t){for(var i,a,r=n.call(arguments,1),s=0,o=r.length;s<o;s++)for(i in r[s])a=r[s][i],r[s].hasOwnProperty(i)&&void 0!==a&&(e.isPlainObject(a)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],a):e.widget.extend({},a):t[i]=a);return t},e.widget.bridge=function(t,i){var a=i.prototype.widgetFullName||t;e.fn[t]=function(r){var s="string"==typeof r,o=n.call(arguments,1),l=this;return s?this.each(function(){var n,i=e.data(this,a);return"instance"===r?(l=i,!1):i?e.isFunction(i[r])&&"_"!==r.charAt(0)?(n=i[r].apply(i,o),n!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):(o.length&&(r=e.widget.extend.apply(null,[r].concat(o))),this.each(function(){var t=e.data(this,a);t?(t.option(r||{}),t._init&&t._init()):e.data(this,a,new i(r,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(n,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),n),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,a,r,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},i=t.split("."),t=i.shift(),i.length){for(a=s[t]=e.widget.extend({},this.options[t]),r=0;r<i.length-1;r++)a[i[r]]=a[i[r]]||{},a=a[i[r]];if(t=i.pop(),1===arguments.length)return void 0===a[t]?null:a[t];a[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var a,r=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=a=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,a=this.widget()),e.each(i,function(i,s){function o(){if(t||r.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?r[s]:s).apply(r,arguments)}"string"!=typeof s&&(o.guid=s.guid=s.guid||o.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?a.delegate(c,u,o):n.bind(u,o)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var a,r,s=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],r=n.originalEvent)for(a in r)a in n||(n[a]=r[a]);return this.element.trigger(n,i),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,a,r){"string"==typeof a&&(a={effect:a});var s,o=a?a===!0||"number"==typeof a?n:a.effect||n:t;a=a||{},"number"==typeof a&&(a={duration:a}),s=!e.isEmptyObject(a),a.complete=r,a.delay&&i.delay(a.delay),s&&e.effects&&e.effects.effect[o]?i[t](a):o!==t&&i[o]?i[o](a.duration,a.easing,r):i.queue(function(n){e(this)[t](),r&&r.call(i[0]),n()})}});e.widget}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){"use strict";function t(t){var n="dragover"===t;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var a=i.dataTransfer;a&&e.inArray("Files",a.types)!==-1&&this._trigger(t,e.Event(t,{delegatedEvent:i}))!==!1&&(i.preventDefault(),n&&(a.dropEffect="copy"))}}e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||e('<input type="file">').prop("disabled")),e.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"\u4e0a\u4f20\u7684\u5b57\u8282\u8d85\u51fa\u6700\u5927\u8303\u56f4"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){return!t.isDefaultPrevented()&&void((n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()}))},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var i=e-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(t-this.loaded)*(1e3/i)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return"function"===e.type(t.formData)?t.formData(t.form):e.isArray(t.formData)?t.formData:"object"===e.type(t.formData)?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var i,a=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&a-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=a,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(a,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(a,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,i=t.xhr?t.xhr():e.ajaxSettings.xhr();i.upload&&(e(i.upload).bind("progress",function(e){var i=e.originalEvent;e.lengthComputable=i.lengthComputable,e.loaded=i.loaded,e.total=i.total,n._onProgress(e,t)}),t.xhr=function(){return i})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n,i=this,a=t.files[0],r=t.multipart||!e.support.xhrFileUpload,s="array"===e.type(t.paramName)?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange),r&&!t.blob&&this._isInstanceOf("File",a)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(a.name)+'"'),r?e.support.xhrFormDataFileUpload&&(t.postMessage?(n=this._getFormData(t),t.blob?n.push({name:s,value:t.blob}):e.each(t.files,function(i,a){n.push({name:"array"===e.type(t.paramName)&&t.paramName[i]||s,value:a})})):(i._isInstanceOf("FormData",t.formData)?n=t.formData:(n=new FormData,e.each(this._getFormData(t),function(e,t){n.append(t.name,t.value)})),t.blob?n.append(s,t.blob,a.name):e.each(t.files,function(a,r){(i._isInstanceOf("File",r)||i._isInstanceOf("Blob",r))&&n.append("array"===e.type(t.paramName)&&t.paramName[a]||s,r,r.uploadName||r.name)})),t.data=n):(t.contentType=a.type||"application/octet-stream",t.data=t.blob||a),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),i=t.paramName;return i?e.isArray(i)||(i=[i]):(i=[],n.each(function(){for(var t=e(this),n=t.prop("name")||"files[]",a=(t.prop("files")||[1]).length;a;)i.push(n),a-=1}),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")))),t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||"string"===e.type(t.form.prop("method"))&&t.form.prop("method")||"").toUpperCase(),"POST"!==t.type&&"PUT"!==t.type&&"PATCH"!==t.type&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,i){var a=e.Deferred(),r=a.promise();return n=n||this.options.context||r,t===!0?a.resolveWith(n,i):t===!1&&a.rejectWith(n,i),r.abort=a.promise,this._enhancePromise(r)},_addConvenienceMethods:function(t,n){var i=this,a=function(t){return e.Deferred().resolveWith(i,t).promise()};n.process=function(t,r){return(t||r)&&(n._processQueue=this._processQueue=(this._processQueue||a([this])).pipe(function(){return n.errorThrown?e.Deferred().rejectWith(i,[n]).promise():a(arguments)}).pipe(t,r)),this._processQueue||a([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=i._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&i._onSend(t,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var i,a,r=this,s=t.files[0],o=s.size,l=t.uploadedBytes,u=t.maxChunkSize||o,c=this._blobSlice,d=e.Deferred(),h=d.promise();return!(!(this._isXHRUpload(t)&&c&&(l||u<o))||t.data)&&(!!n||(l>=o?(s.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",s.error])):(a=function(){var n=e.extend({},t),h=n._progress.loaded;n.blob=c.call(s,l,l+u,s.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+o,r._initXHRData(n),r._initProgressListener(n),i=(r._trigger("chunksend",null,n)!==!1&&e.ajax(n)||r._getXHRPromise(!1,n.context)).done(function(i,s,u){l=r._getUploadedBytes(u)||l+n.chunkSize,h+n.chunkSize-n._progress.loaded&&r._onProgress(e.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=s,n.jqXHR=u,r._trigger("chunkdone",null,n),r._trigger("chunkalways",null,n),l<o?a():d.resolveWith(n.context,[i,s,u])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,r._trigger("chunkfail",null,n),r._trigger("chunkalways",null,n),d.rejectWith(n.context,[e,t,i])})},this._enhancePromise(h),h.abort=function(){return i.abort()},a(),h)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,i,a){var r=a._progress.total,s=a._response;a._progress.loaded<r&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:r,total:r}),a),s.result=a.result=t,s.textStatus=a.textStatus=n,s.jqXHR=a.jqXHR=i,this._trigger("done",null,a)},_onFail:function(e,t,n,i){var a=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),a.jqXHR=i.jqXHR=e,a.textStatus=i.textStatus=t,a.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(e,t,n,i){this._trigger("always",null,i)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var i,a,r,s,o=this,l=o._getAJAXSettings(n),u=function(){return o._sending+=1,l._bitrateTimer=new o._BitrateTimer,i=i||((a||o._trigger("send",e.Event("send",{delegatedEvent:t}),l)===!1)&&o._getXHRPromise(!1,l.context,a)||o._chunkedUpload(l)||e.ajax(l)).done(function(e,t,n){o._onDone(e,t,n,l)}).fail(function(e,t,n){o._onFail(e,t,n,l)}).always(function(e,t,n){if(o._onAlways(e,t,n,l),o._sending-=1,o._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>o._sending)for(var i=o._slots.shift();i;){if("pending"===o._getDeferredState(i)){i.resolve();break}i=o._slots.shift()}0===o._active&&o._trigger("stop")})};return this._beforeSend(t,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(r=e.Deferred(),this._slots.push(r),s=r.pipe(u)):(this._sequence=this._sequence.pipe(u,u),s=this._sequence),s.abort=function(){return a=[void 0,"abort","abort"],i?i.abort():(r&&r.rejectWith(l.context,a),u())},this._enhancePromise(s)):u()},_onAdd:function(t,n){var i,a,r,s,o=this,l=!0,u=e.extend({},this.options,n),c=n.files,d=c.length,h=u.limitMultiFileUploads,f=u.limitMultiFileUploadSize,p=u.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(u),v=0;if(!f||d&&void 0!==c[0].size||(f=void 0),(u.singleFileUploads||h||f)&&this._isXHRUpload(u))if(u.singleFileUploads||f||!h)if(!u.singleFileUploads&&f)for(r=[],i=[],s=0;s<d;s+=1)m+=c[s].size+p,(s+1===d||m+c[s+1].size+p>f||h&&s+1-v>=h)&&(r.push(c.slice(v,s+1)),a=g.slice(v,s+1),a.length||(a=g),i.push(a),v=s+1,m=0);else i=g;else for(r=[],i=[],s=0;s<d;s+=h)r.push(c.slice(s,s+h)),a=g.slice(s,s+h),a.length||(a=g),i.push(a);else r=[c],i=[g];return n.originalFiles=c,e.each(r||c,function(a,s){var u=e.extend({},n);return u.files=r?s:[s],u.paramName=i[a],o._initResponseObject(u),o._initProgressObject(u),o._addConvenienceMethods(t,u),l=o._trigger("add",e.Event("add",{delegatedEvent:t}),u)}),l},_replaceFileInput:function(t){var n=t.fileInput,i=n.clone(!0);t.fileInputClone=i,e("<form></form>").append(i)[0].reset(),n.after(i).detach(),e.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===n[0]?i[0]:t}),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(t,n){var i,a=this,r=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),r.resolve([e])},o=function(e){a._handleFileTreeEntries(e,n+t.name+"/").done(function(e){r.resolve(e)}).fail(s)},l=function(){i.readEntries(function(e){e.length?(u=u.concat(e),l()):o(u)},s)},u=[];return n=n||"",t.isFile?t._file?(t._file.relativePath=n,r.resolve(t._file)):t.file(function(e){e.relativePath=n,r.resolve(e)},s):t.isDirectory?(i=t.createReader(),l()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(t,n){var i=this;return e.when.apply(e,e.map(t,function(e){return i._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n,i,a=t.prop("webkitEntries")||t.prop("entries");if(a&&a.length)return this._handleFileTreeEntries(a);if(n=e.makeArray(t.prop("files")),n.length)void 0===n[0].name&&n[0].fileName&&e.each(n,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(i=t.prop("value"),!i)return e.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return e.Deferred().resolve(n).promise()},_getFileInputFiles:function(t){return t instanceof e&&1!==t.length?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,i={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(a){i.files=a,n.options.replaceFileInput&&n._replaceFileInput(i),n._trigger("change",e.Event("change",{delegatedEvent:t}),i)!==!1&&n._onAdd(t,i)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&i.files.push(n)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),i)!==!1&&this._onAdd(t,i))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,i=t.dataTransfer,a={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always(function(i){a.files=i,n._trigger("drop",e.Event("drop",{delegatedEvent:t}),a)!==!1&&n._onAdd(t,a)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var i=e.inArray(t,this._specialOptions)!==-1;i&&this._destroyEventHandlers(),this._super(t,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;void 0===t.fileInput?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return"url"!==t&&"string"===e.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options,i=e(this.element[0].cloneNode(!1));e.each(i.data(),function(e,a){var r="data-"+e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();i.attr(r)&&(t._isRegExpOption(e,a)&&(a=t._getRegExp(a)),n[e]=a)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n,i,a=this,r=e.Deferred(),s=r.promise();return s.abort=function(){return i=!0,n?n.abort():(r.reject(null,"abort","abort"),s)},this._getFileInputFiles(t.fileInput).always(function(e){if(!i){if(!e.length)return void r.reject();t.files=e,n=a._onSend(null,t),n.then(function(e,t,n){r.resolve(e,t,n)},function(e,t,n){r.reject(e,t,n)})}}),this._enhancePromise(s)}if(t.files=e.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";var t=e.blueimp.fileupload.prototype.options.add;e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{processQueue:[],add:function(n,i){var a=e(this);i.process(function(){return a.fileupload("process",i)}),t.call(this,n,i)}},processActions:{},_processFile:function(t,n){var i=this,a=e.Deferred().resolveWith(i,[t]),r=a.promise();return this._trigger("process",null,t),e.each(t.processQueue,function(t,a){var s=function(t){return n.errorThrown?e.Deferred().rejectWith(i,[n]).promise():i.processActions[a.action].call(i,t,a)};r=r.pipe(s,a.always&&s)}),r.done(function(){
i._trigger("processdone",null,t),i._trigger("processalways",null,t)}).fail(function(){i._trigger("processfail",null,t),i._trigger("processalways",null,t)}),r},_transformProcessQueue:function(t){var n=[];e.each(t.processQueue,function(){var i={},a=this.action,r=this.prefix===!0?a:this.prefix;e.each(this,function(n,a){"string"===e.type(a)&&"@"===a.charAt(0)?i[n]=t[a.slice(1)||(r?r+n.charAt(0).toUpperCase()+n.slice(1):n)]:i[n]=a}),n.push(i)}),t.processQueue=n},processing:function(){return this._processing},process:function(t){var n=this,i=e.extend({},this.options,t);return i.processQueue&&i.processQueue.length&&(this._transformProcessQueue(i),0===this._processing&&this._trigger("processstart"),e.each(t.files,function(a){var r=a?e.extend({},i):i,s=function(){return t.errorThrown?e.Deferred().rejectWith(n,[t]).promise():n._processFile(r,t)};r.index=a,n._processing+=1,n._processingQueue=n._processingQueue.pipe(s,s).always(function(){n._processing-=1,0===n._processing&&n._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=e.Deferred().resolveWith(this).promise()}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","load-image-meta","load-image-exif","load-image-ios","canvas-to-blob","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("load-image")):e(window.jQuery,window.loadImage)}(function(e,t){"use strict";e.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1e7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!1,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(n,i){if(i.disabled)return n;var a=this,r=n.files[n.index],s=e.Deferred();return"number"===e.type(i.maxFileSize)&&r.size>i.maxFileSize||i.fileTypes&&!i.fileTypes.test(r.type)||!t(r,function(e){e.src&&(n.img=e),s.resolveWith(a,[n])},i)?n:s.promise()},resizeImage:function(n,i){if(i.disabled||!n.canvas&&!n.img)return n;i=e.extend({canvas:!0},i);var a,r=this,s=e.Deferred(),o=i.canvas&&n.canvas||n.img,l=function(e){e&&(e.width!==o.width||e.height!==o.height||i.forceResize)&&(n[e.getContext?"canvas":"img"]=e),n.preview=e,s.resolveWith(r,[n])};if(n.exif){if(i.orientation===!0&&(i.orientation=n.exif.get("Orientation")),i.thumbnail&&(a=n.exif.get("Thumbnail")))return t(a,l,i),s.promise();n.orientation?delete i.orientation:n.orientation=i.orientation}return o?(l(t.scale(o,i)),s.promise()):n},saveImage:function(t,n){if(!t.canvas||n.disabled)return t;var i=this,a=t.files[t.index],r=e.Deferred();return t.canvas.toBlob?(t.canvas.toBlob(function(e){e.name||(a.type===e.type?e.name=a.name:a.name&&(e.name=a.name.replace(/\.\w+$/,"."+e.type.substr(6)))),a.type!==e.type&&delete t.imageHead,t.files[t.index]=e,r.resolveWith(i,[t])},n.type||a.type,n.quality),r.promise()):t},loadImageMetaData:function(n,i){if(i.disabled)return n;var a=this,r=e.Deferred();return t.parseMetaData(n.files[n.index],function(t){e.extend(n,t),r.resolveWith(a,[n])},i),r.promise()},saveImageMetaData:function(e,t){if(!(e.imageHead&&e.canvas&&e.canvas.toBlob)||t.disabled)return e;var n=e.files[e.index],i=new Blob([e.imageHead,this._blobSlice.call(n,20)],{type:n.type});return i.name=n.name,e.files[e.index]=i,e},setImage:function(e,t){return e.preview&&!t.disabled&&(e.files[e.index][t.name||"preview"]=e.preview),e},deleteImageReferences:function(e,t){return t.disabled||(delete e.img,delete e.canvas,delete e.preview,delete e.imageHead),e}}})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],e):e("object"==typeof exports?require("jquery"):window.jQuery)}(function(e){"use strict";e.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{getNumberOfFiles:e.noop,messages:{maxNumberOfFiles:"\u8d85\u51fa\u6700\u5927\u6587\u4ef6\u6570\u91cf",acceptFileTypes:"\u6587\u4ef6\u7c7b\u578b\u4e0d\u5141\u8bb8",maxFileSize:"\u6587\u4ef6\u592a\u5927",minFileSize:"\u6587\u4ef6\u592a\u5c0f"}},processActions:{validate:function(t,n){if(n.disabled)return t;var i,a=e.Deferred(),r=this.options,s=t.files[t.index];return(n.minFileSize||n.maxFileSize)&&(i=s.size),"number"===e.type(n.maxNumberOfFiles)&&(r.getNumberOfFiles()||0)+t.files.length>n.maxNumberOfFiles?s.error=r.i18n("maxNumberOfFiles"):!n.acceptFileTypes||n.acceptFileTypes.test(s.type)||n.acceptFileTypes.test(s.name)?i>n.maxFileSize?s.error=r.i18n("maxFileSize"):"number"===e.type(i)&&i<n.minFileSize?s.error=r.i18n("minFileSize"):delete s.error:s.error=r.i18n("acceptFileTypes"),s.error||t.files.error?(t.files.error=!0,a.rejectWith(this,[t])):a.resolveWith(this,[t]),a.promise()}}})}),function(e){"use strict";e(window.jQuery)}(function(e){"use strict";e.blueimp.fileupload.prototype._specialOptions.push("filesContainer");var t=function(){var t='<tr class="template-upload am-animation-fade"> <td> <span class="am-preview-multiple preview"></span></td><td><div class="name">{name}</div><strong class="error text-danger"></strong></td><td><div class="size">{size}</div><div class="am-progress am-progress-striped"><div class="am-progress-bar am-progress-bar-success" style="width:0%;"></div></div></td><td>{btngroups}</td></tr>',n='<tr class="template-download am-animation-fade"> <td> <span class="am-preview-multiple preview">{previewimg}</span></td><td><div class="name"><a href="{url}" download="{name}">{name}</a></div><strong class="error am-text-danger">{error}</strong></td><td><div class="size">{size}</div></td><td>{btngroups}</td></tr>',i='<button class="am-btn am-btn-primary am-margin-right-sm start" disabled><i class="am-icon-upload"></i><span> \u5f00\u59cb</span></button>',a='<button class="am-btn am-btn-warning am-margin-right-sm cancel"><i class="am-icon-ban"></i><span> \u53d6\u6d88</span></button>',r='<div class="template-upload"><div class="am-preview-single preview"></div><div class="am-progress am-progress-striped am-progress-xs"><div class="am-progress-bar am-progress-bar-success" style="width:0%;"></div></div>',s='<div class="template-download am-margin-bottom-sm"><span class="am-preview-single preview"><img src="{url}"/></span></div>',o=function(e,t){if(arguments.length>1)if(2==arguments.length&&"object"==typeof t){for(var n in t)if(void 0!=t[n]){var i=new RegExp("({"+n+"})","g");e=e.replace(i,t[n])}}else for(var a=0;a<arguments.length-1;a++)if(void 0!=arguments[a+1]){var i=new RegExp("({)"+a+"(})","g");e=e.replace(i,arguments[a+1])}return e};return{uploadTemplate:function(n,s){var l=n.options,u=[],c=[];if(1==l.maxNumberOfFiles)c.push(r);else{l.autoUpload||1!=l.singleFileUploads||u.push(i),u.push(a);var d=t.replace("{btngroups}",u.join(""));e.each(s,function(e,t){c.push(o(d,t))})}return c.join("")},downloadTemplate:function(t,i){var r=n.replace("{btngroups}",a),l=t.options,u=[];return 1==l.maxNumberOfFiles?e.each(i,function(e,t){u.push(o(s,{url:t.url}))}):e.each(i,function(n,i){var a=e.extend({previewimg:""},i);i.url&&(a.previewimg='<img src="'+i.url+'"/>'),i.size&&(a.size=t._formatFileSize(i.size)),u.push(o(r,a))}),u.join("")}}}();e.widget("blueimp.fileupload",e.blueimp.fileupload,{options:{autoUpload:!1,filesContainer:void 0,uploadTemplate:t.uploadTemplate,downloadTemplate:t.downloadTemplate,prependFiles:!1,dataType:"json",messages:{unknownError:"\u672a\u77e5\u5f02\u5e38"},getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(t){return t.result&&e.isArray(t.result)?t.result:[]},add:function(t,n){if(t.isDefaultPrevented())return!1;var i=e(this),a=i.data("blueimp-fileupload")||i.data("fileupload"),r=a.options;if(!("number"===e.type(r.maxNumberOfFiles)&&1!=r.maxNumberOfFiles&&(r.getNumberOfFiles()||0)+n.files.length>r.maxNumberOfFiles)){if(1==r.maxNumberOfFiles){var s=e(".template-upload,.template-download",r.filesContainer);a._calcelProcess(t,s)}n.context=a._renderUpload(n.files).data("data",n).addClass("processing"),r.filesContainer[r.prependFiles?"prepend":"append"](n.context),a._forceReflow(n.context),a._transition(n.context),n.process(function(){return i.fileupload("process",n)}).always(function(){n.context.each(function(t){e(this).find(".size").text(a._formatFileSize(n.files[t].size))}).removeClass("processing"),a._renderPreviews(n)}).done(function(){n.context.find(".start").prop("disabled",!1),a._trigger("added",t,n)!==!1&&(r.autoUpload||n.autoUpload)&&n.autoUpload!==!1&&n.submit()}).fail(function(){n.files.error&&n.context.each(function(t){var i=n.files[t].error;i&&e(this).find(".error").text(i)})})}},send:function(t,n){if(t.isDefaultPrevented())return!1;var i=e(this).data("blueimp-fileupload")||e(this).data("fileupload");return n.context&&n.dataType&&"iframe"===n.dataType.substr(0,6)&&n.context.find(".am-progress").addClass(!e.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%"),i._trigger("sent",t,n)},done:function(t,n){if(t.isDefaultPrevented())return!1;var i,a,r=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),s=n.getFilesFromResponse||r.options.getFilesFromResponse,o=s(n);n.context?n.context.each(function(s){var l=o[s]||{error:"Empty file upload result"};a=r._addFinishedDeferreds(),r._transition(e(this)).done(function(){var s=e(this);i=r._renderDownload([l]).replaceAll(s),r._forceReflow(i),r._transition(i).done(function(){n.context=e(this),r._trigger("completed",t,n),r._trigger("finished",t,n),a.resolve()})})}):(i=r._renderDownload(o)[r.options.prependFiles?"prependTo":"appendTo"](r.options.filesContainer),r._forceReflow(i),a=r._addFinishedDeferreds(),r._transition(i).done(function(){n.context=e(this),r._trigger("completed",t,n),r._trigger("finished",t,n),a.resolve()}))},fail:function(t,n){if(t.isDefaultPrevented())return!1;var i,a,r=e(this).data("blueimp-fileupload")||e(this).data("fileupload");n.context?n.context.each(function(s){if("abort"!==n.errorThrown){var o=n.files[s];o.error=o.error||n.errorThrown||n.i18n("unknownError"),a=r._addFinishedDeferreds(),r._transition(e(this)).done(function(){var s=e(this);i=r._renderDownload([o]).replaceAll(s),r._forceReflow(i),r._transition(i).done(function(){n.context=e(this),r._trigger("failed",t,n),r._trigger("finished",t,n),a.resolve()})})}else a=r._addFinishedDeferreds(),r._transition(e(this)).done(function(){e(this).remove(),r._trigger("failed",t,n),r._trigger("finished",t,n),a.resolve()})}):"abort"!==n.errorThrown?(n.context=r._renderUpload(n.files)[r.options.prependFiles?"prependTo":"appendTo"](r.options.filesContainer).data("data",n),r._forceReflow(n.context),a=r._addFinishedDeferreds(),r._transition(n.context).done(function(){n.context=e(this),r._trigger("failed",t,n),r._trigger("finished",t,n),a.resolve()})):(r._trigger("failed",t,n),r._trigger("finished",t,n),r._addFinishedDeferreds().resolve())},processdone:function(e,t){t.context.find(".start").button("enable")},progress:function(t,n){if(t.isDefaultPrevented())return!1;var i=Math.floor(n.loaded/n.total*100);n.context&&n.context.each(function(){e(this).find(".am-progress").attr("aria-valuenow",i).children().first().css("width",i+"%")})},progressall:function(t,n){if(t.isDefaultPrevented())return!1;var i=e(this),a=Math.floor(n.loaded/n.total*100),r=i.find(".fileupload-progress"),s=r.find(".am-progress-extended");s.length&&s.html((i.data("blueimp-fileupload")||i.data("fileupload"))._renderExtendedProgress(n)),r.find(".am-progress").attr("aria-valuenow",a).children().first().css("width",a+"%")},start:function(t){if(t.isDefaultPrevented())return!1;var n=e(this).data("blueimp-fileupload")||e(this).data("fileupload");n._resetFinishedDeferreds(),n._transition(e(this).find(".fileupload-progress")).done(function(){n._trigger("started",t)})},stop:function(t){if(t.isDefaultPrevented())return!1;var n=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),i=n._addFinishedDeferreds();e.when.apply(e,n._getFinishedDeferreds()).done(function(){n._trigger("stopped",t)}),n._transition(e(this).find(".fileupload-progress")).done(function(){e(this).find(".am-progress").attr("aria-valuenow","0").children().first().css("width","0%"),e(this).find(".am-progress-extended").html("&nbsp;"),i.resolve()})},processstart:function(t){return!t.isDefaultPrevented()&&void e(this).addClass("fileupload-processing")},processstop:function(t){return!t.isDefaultPrevented()&&void e(this).removeClass("fileupload-processing")},destroy:function(t,n){if(t.isDefaultPrevented())return!1;var i=e(this).data("blueimp-fileupload")||e(this).data("fileupload"),a=function(){i._transition(n.context).done(function(){e(this).remove(),i._trigger("destroyed",t,n)})};n.url?(n.dataType=n.dataType||i.options.dataType,e.ajax(n).done(a).fail(function(){i._trigger("destroyfailed",t,n)})):a()}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(t){return t||(t=e.Deferred()),this._finishedUploads.push(t),t},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var t=e(this),n=t.prop("href"),i=t.prop("download"),a="application/octet-stream";t.bind("dragstart",function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",[a,i,n].join(":"))}catch(t){}})},_formatFileSize:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" GB":e>=1e6?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},_formatBitrate:function(e){return"number"!=typeof e?"":e>=1e9?(e/1e9).toFixed(2)+" Gbit/s":e>=1e6?(e/1e6).toFixed(2)+" Mbit/s":e>=1e3?(e/1e3).toFixed(2)+" kbit/s":e.toFixed(2)+" bit/s"},_formatTime:function(e){var t=new Date(1e3*e),n=Math.floor(e/86400);return n=n?n+"d ":"",n+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)},_formatPercentage:function(e){return(100*e).toFixed(2)+" %"},_renderExtendedProgress:function(e){return this._formatBitrate(e.bitrate)+" | "+this._formatTime(8*(e.total-e.loaded)/e.bitrate)+" | "+this._formatPercentage(e.loaded/e.total)+" | "+this._formatFileSize(e.loaded)+" / "+this._formatFileSize(e.total)},_renderTemplate:function(t,n){if(t){var i=t(this,n);return e(this.options.templatesContainer).html(i).children()}},_renderPreviews:function(t){t.context.find(".preview").each(function(n,i){e(i).append(t.files[n].preview)})},_renderUpload:function(e){return this._renderTemplate(this.options.uploadTemplate,e)},_renderDownload:function(e){return this._renderTemplate(this.options.downloadTemplate,e).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(t){t.preventDefault();var n=e(t.currentTarget),i=n.closest(".template-upload"),a=i.data("data");n.prop("disabled",!0),a&&a.submit&&a.submit()},_calcelProcess:function(e,t){var n=t.data("data")||{};n.context=n.context||t,n.abort?n.abort():(n.errorThrown="abort",this._trigger("fail",e,n))},_cancelHandler:function(t){t.preventDefault();var n=e(t.currentTarget).closest(".template-upload,.template-download");this._calcelProcess(t,n)},_deleteHandler:function(t){t.preventDefault();var n=e(t.currentTarget);this._trigger("destroy",t,e.extend({context:n.closest(".template-download"),type:"DELETE"},n.data()))},_forceReflow:function(t){return e.support.transition&&t.length&&t[0].offsetWidth},_transition:function(t){var n=e.Deferred();return e.support.transition&&t.hasClass("fade")&&t.is(":visible")?t.bind(e.support.transition.end,function(i){i.target===t[0]&&(t.unbind(e.support.transition.end),n.resolveWith(t))}).toggleClass("in"):(t.toggleClass("in"),n.resolveWith(t)),n},_initButtonBarEventHandlers:function(){var t=this.element.find(".fileupload-buttonbar"),n=this.options.filesContainer;this._on(t.find(".start"),{click:function(e){e.preventDefault(),n.find(".start").click()}}),this._on(t.find(".cancel"),{click:function(e){e.preventDefault(),n.find(".cancel").click()}}),this._on(t.find(".delete"),{click:function(e){e.preventDefault(),n.find(".toggle:checked").closest(".template-download").find(".delete").click(),t.find(".toggle").prop("checked",!1)}}),this._on(t.find(".toggle"),{change:function(t){n.find(".toggle").prop("checked",e(t.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click"),this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super(),this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler}),this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers(),this._off(this.options.filesContainer,"click"),this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var e=this.options;e.templatesContainer=this.document[0].createElement(e.filesContainer.prop("nodeName"))},_initFilesContainer:function(){var t=this.options;void 0===t.filesContainer?t.filesContainer=this.element.find(".files"):t.filesContainer instanceof e||(t.filesContainer=e(t.filesContainer))},_initSpecialOptions:function(){this._super(),this._initFilesContainer(),this._initTemplates()},_create:function(){this._super(),this._resetFinishedDeferreds(),e.support.fileInput||this._disableFileInputButton()},enable:function(){var e=!1;this.options.disabled&&(e=!0),this._super(),e&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton()),this._super()}})}),function(){var e=[].slice;!function(t,n){"use strict";var i;return i=function(){function e(e,n){null==n&&(n={}),this.$element=t(e),this.options=t.extend({},t.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},n),this.$wrapper=t("<div>",{"class":function(e){return function(){var t;return t=[""+e.options.baseClass].concat(e._getClasses(e.options.wrapperClass)),t.push(e.options.state?""+e.options.baseClass+"-on":""+e.options.baseClass+"-off"),null!=e.options.size&&t.push(""+e.options.baseClass+"-"+e.options.size),e.options.disabled&&t.push(""+e.options.baseClass+"-disabled"),e.options.readonly&&t.push(""+e.options.baseClass+"-readonly"),e.options.indeterminate&&t.push(""+e.options.baseClass+"-indeterminate"),e.options.inverse&&t.push(""+e.options.baseClass+"-inverse"),e.$element.attr("id")&&t.push(""+e.options.baseClass+"-id-"+e.$element.attr("id")),t.join(" ")}}(this)()}),this.$container=t("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=t("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=t("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=t("<span>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(t){return function(){return t.options.onInit.apply(e,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(t){return function(){return t.options.onSwitchChange.apply(e,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch")}return e.prototype._constructor=e,e.prototype.state=function(e,t){return"undefined"==typeof e?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.options.indeterminate&&this.indeterminate(!1),e=!!e,this.$element.prop("checked",e).trigger("change.bootstrapSwitch",t),this.$element)},e.prototype.toggleState=function(e){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)},e.prototype.size=function(e){return"undefined"==typeof e?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),e&&this.$wrapper.addClass(""+this.options.baseClass+"-"+e),this._width(),this._containerPosition(),this.options.size=e,this.$element)},e.prototype.animate=function(e){return"undefined"==typeof e?this.options.animate:(e=!!e,e===this.options.animate?this.$element:this.toggleAnimate())},e.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(""+this.options.baseClass+"-animate"),this.$element},e.prototype.disabled=function(e){return"undefined"==typeof e?this.options.disabled:(e=!!e,e===this.options.disabled?this.$element:this.toggleDisabled())},e.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.$element},e.prototype.readonly=function(e){return"undefined"==typeof e?this.options.readonly:(e=!!e,e===this.options.readonly?this.$element:this.toggleReadonly())},e.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.$element},e.prototype.indeterminate=function(e){return"undefined"==typeof e?this.options.indeterminate:(e=!!e,e===this.options.indeterminate?this.$element:this.toggleIndeterminate())},e.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},e.prototype.inverse=function(e){return"undefined"==typeof e?this.options.inverse:(e=!!e,e===this.options.inverse?this.$element:this.toggleInverse())},e.prototype.toggleInverse=function(){var e,t;return this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse"),t=this.$on.clone(!0),e=this.$off.clone(!0),this.$on.replaceWith(e),this.$off.replaceWith(t),this.$on=e,this.$off=t,this.options.inverse=!this.options.inverse,this.$element},e.prototype.onColor=function(e){var t;return t=this.options.onColor,"undefined"==typeof e?t:(null!=t&&this.$on.removeClass(""+this.options.baseClass+"-"+t),this.$on.addClass(""+this.options.baseClass+"-"+e),this.options.onColor=e,this.$element)},e.prototype.offColor=function(e){var t;return t=this.options.offColor,"undefined"==typeof e?t:(null!=t&&this.$off.removeClass(""+this.options.baseClass+"-"+t),this.$off.addClass(""+this.options.baseClass+"-"+e),this.options.offColor=e,this.$element)},e.prototype.onText=function(e){return"undefined"==typeof e?this.options.onText:(this.$on.html(e),this._width(),this._containerPosition(),this.options.onText=e,this.$element)},e.prototype.offText=function(e){return"undefined"==typeof e?this.options.offText:(this.$off.html(e),this._width(),this._containerPosition(),this.options.offText=e,this.$element)},e.prototype.labelText=function(e){return"undefined"==typeof e?this.options.labelText:(this.$label.html(e),this._width(),this.options.labelText=e,this.$element)},e.prototype.handleWidth=function(e){return"undefined"==typeof e?this.options.handleWidth:(this.options.handleWidth=e,this._width(),this._containerPosition(),this.$element)},e.prototype.labelWidth=function(e){return"undefined"==typeof e?this.options.labelWidth:(this.options.labelWidth=e,this._width(),this._containerPosition(),this.$element)},e.prototype.baseClass=function(e){return this.options.baseClass},e.prototype.wrapperClass=function(e){return"undefined"==typeof e?this.options.wrapperClass:(e||(e=t.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(e).join(" ")),this.options.wrapperClass=e,this.$element)},e.prototype.radioAllOff=function(e){return"undefined"==typeof e?this.options.radioAllOff:(e=!!e,e===this.options.radioAllOff?this.$element:(this.options.radioAllOff=e,this.$element))},e.prototype.onInit=function(e){return"undefined"==typeof e?this.options.onInit:(e||(e=t.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=e,this.$element)},e.prototype.onSwitchChange=function(e){return"undefined"==typeof e?this.options.onSwitchChange:(e||(e=t.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=e,this.$element)},e.prototype.destroy=function(){var e;return e=this.$element.closest("form"),e.length&&e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},e.prototype._width=function(){var e,t;return e=this.$on.add(this.$off),e.add(this.$label).css("width",""),t="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,e.width(t),this.$label.width(function(e){return function(n,i){return"auto"!==e.options.labelWidth?e.options.labelWidth:i<t?t:i}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},e.prototype._containerPosition=function(e,t){if(null==e&&(e=this.options.state),this.$container.css("margin-left",function(t){return function(){var n;return n=[0,"-"+t._handleWidth+"px"],t.options.indeterminate?"-"+t._handleWidth/2+"px":e?t.options.inverse?n[1]:n[0]:t.options.inverse?n[0]:n[1]}}(this)),t)return setTimeout(function(){return t()},50)},e.prototype._init=function(){var e,t;return e=function(e){return function(){return e._width(),e._containerPosition(null,function(){if(e.options.animate)return e.$wrapper.addClass(""+e.options.baseClass+"-animate")})}}(this),this.$wrapper.is(":visible")?e():t=n.setInterval(function(i){return function(){if(i.$wrapper.is(":visible"))return e(),n.clearInterval(t)}}(this),50)},e.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(e){return function(n,i){var a;if(n.preventDefault(),n.stopImmediatePropagation(),a=e.$element.is(":checked"),e._containerPosition(a),a!==e.options.state)return e.options.state=a,e.$wrapper.toggleClass(""+e.options.baseClass+"-off").toggleClass(""+e.options.baseClass+"-on"),i?void 0:(e.$element.is(":radio")&&t("[name='"+e.$element.attr("name")+"']").not(e.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),e.$element.trigger("switchChange.bootstrapSwitch",[a]))}}(this),"focus.bootstrapSwitch":function(e){return function(t){return t.preventDefault(),e.$wrapper.addClass(""+e.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(e){return function(t){return t.preventDefault(),e.$wrapper.removeClass(""+e.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(e){return function(t){if(t.which&&!e.options.disabled&&!e.options.readonly)switch(t.which){case 37:return t.preventDefault(),t.stopImmediatePropagation(),e.state(!1);case 39:return t.preventDefault(),t.stopImmediatePropagation(),e.state(!0)}}}(this)})},e.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(e){return function(t){return t.preventDefault(),t.stopPropagation(),e.state(!1),e.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(e){return function(t){return t.preventDefault(),t.stopPropagation(),e.state(!0),e.$element.trigger("focus.bootstrapSwitch")}}(this))},e.prototype._labelHandlers=function(){return this.$label.on({"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(e){return function(t){if(!(e._dragStart||e.options.disabled||e.options.readonly))return t.preventDefault(),t.stopPropagation(),e._dragStart=(t.pageX||t.originalEvent.touches[0].pageX)-parseInt(e.$container.css("margin-left"),10),e.options.animate&&e.$wrapper.removeClass(""+e.options.baseClass+"-animate"),e.$element.trigger("focus.bootstrapSwitch")}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(e){return function(t){var n;if(null!=e._dragStart&&(t.preventDefault(),n=(t.pageX||t.originalEvent.touches[0].pageX)-e._dragStart,!(n<-e._handleWidth||n>0)))return e._dragEnd=n,e.$container.css("margin-left",""+e._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(e){return function(t){var n;if(e._dragStart)return t.preventDefault(),e.options.animate&&e.$wrapper.addClass(""+e.options.baseClass+"-animate"),e._dragEnd?(n=e._dragEnd>-(e._handleWidth/2),e._dragEnd=!1,e.state(e.options.inverse?!n:n)):e.state(!e.options.state),e._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(e){return function(t){return e.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},e.prototype._externalLabelHandler=function(){var e;return e=this.$element.closest("label"),e.on("click",function(t){return function(n){if(n.preventDefault(),n.stopImmediatePropagation(),n.target===e[0])return t.toggleState()}}(this))},e.prototype._formHandler=function(){var e;if(e=this.$element.closest("form"),!e.data("bootstrap-switch"))return e.on("reset.bootstrapSwitch",function(){return n.setTimeout(function(){return e.find("input").filter(function(){return t(this).data("bootstrap-switch")}).each(function(){
return t(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},e.prototype._getClasses=function(e){var n,i,a,r;if(!t.isArray(e))return[""+this.options.baseClass+"-"+e];for(i=[],a=0,r=e.length;a<r;a++)n=e[a],i.push(""+this.options.baseClass+"-"+n);return i},e}(),t.fn.bootstrapSwitch=function(){var n,a,r;return a=arguments[0],n=2<=arguments.length?e.call(arguments,1):[],r=this,this.each(function(){var e,s;if(e=t(this),s=e.data("bootstrap-switch"),s||e.data("bootstrap-switch",s=new i(this,a)),"string"==typeof a)return r=s[a].apply(s,n)}),r},t.fn.bootstrapSwitch.Constructor=i,t(function(){t("[data-am-switch]").bootstrapSwitch()}),t.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"am-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this),function(e){"use strict";function t(t,n){this.itemsArray=[],this.$element=e(t),this.$element.hide(),this.isSelect="SELECT"===t.tagName,this.multiple=this.isSelect&&t.hasAttribute("multiple"),this.objectItems=n&&n.itemValue,this.placeholderText=t.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=e('<div class="am-tagsinput"></div>'),this.$input=e('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.after(this.$container);var i=(this.inputSize<3?3:this.inputSize)+"em";this.$input.get(0).style.cssText="width: "+i+" !important;",this.build(n)}function n(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(e){return e[n]}}}function i(e,t){if("function"!=typeof e[t]){var n=e[t];e[t]=function(){return n}}}function a(e){return e?l.text(e).html():""}function r(e){var t=0;if(document.selection){e.focus();var n=document.selection.createRange();n.moveStart("character",-e.value.length),t=n.text.length}else(e.selectionStart||"0"==e.selectionStart)&&(t=e.selectionStart);return t}function s(t,n){var i=!1;return e.each(n,function(e,n){if("number"==typeof n&&t.which===n)return i=!0,!1;if(t.which===n.which){var a=!n.hasOwnProperty("altKey")||t.altKey===n.altKey,r=!n.hasOwnProperty("shiftKey")||t.shiftKey===n.shiftKey,s=!n.hasOwnProperty("ctrlKey")||t.ctrlKey===n.ctrlKey;if(a&&r&&s)return i=!0,!1}}),i}var o={sep:",",tagClass:function(e){return"am-badge am-badge-primary"},itemValue:function(e){return e?e.toString():e},itemText:function(e){return this.itemValue(e)},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],onTagExists:function(e,t){t.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};t.prototype={constructor:t,add:function(t,n,i){var r=this;if(!(r.options.maxTags&&r.itemsArray.length>=r.options.maxTags)&&(t===!1||t)){if("string"==typeof t&&r.options.trimValue&&(t=e.trim(t)),"object"==typeof t&&!r.objectItems)throw"Can't add objects when itemValue option is not set";if(!t.toString().match(/^\s*$/)){if(r.isSelect&&!r.multiple&&r.itemsArray.length>0&&r.remove(r.itemsArray[0]),"string"==typeof t&&"INPUT"===this.$element[0].tagName){var s=t.split(r.options.sep);if(s.length>1){for(var o=0;o<s.length;o++)this.add(s[o],!0);return void(n||r.pushVal())}}var l=r.options.itemValue(t),u=r.options.itemText(t),c=r.options.tagClass(t),d=e.grep(r.itemsArray,function(e){return r.options.itemValue(e)===l})[0];if(!d||r.options.allowDuplicates){if(!(r.items().toString().length+t.length+1>r.options.maxInputLength)){var h=e.Event("beforeItemAdd",{item:t,cancel:!1,options:i});if(r.$element.trigger(h),!h.cancel){r.itemsArray.push(t);var f=e('<span class="tag '+a(c)+'">'+a(u)+'<span data-role="remove"></span></span>');if(f.data("item",t),r.findInputWrapper().before(f),f.after(" "),r.isSelect&&!e('option[value="'+encodeURIComponent(l)+'"]',r.$element)[0]){var p=e("<option selected>"+a(u)+"</option>");p.data("item",t),p.attr("value",l),r.$element.append(p)}n||r.pushVal(),r.options.maxTags!==r.itemsArray.length&&r.items().toString().length!==r.options.maxInputLength||r.$container.addClass("am-tagsinput-max"),r.$element.trigger(e.Event("itemAdded",{item:t,options:i}))}}}else if(r.options.onTagExists){var m=e(".tag",r.$container).filter(function(){return e(this).data("item")===d});r.options.onTagExists(t,m)}}}},remove:function(t,n,i){var a=this;if(a.objectItems&&(t="object"==typeof t?e.grep(a.itemsArray,function(e){return a.options.itemValue(e)==a.options.itemValue(t)}):e.grep(a.itemsArray,function(e){return a.options.itemValue(e)==t}),t=t[t.length-1]),t){var r=e.Event("beforeItemRemove",{item:t,cancel:!1,options:i});if(a.$element.trigger(r),r.cancel)return;e(".tag",a.$container).filter(function(){return e(this).data("item")===t}).remove(),e("option",a.$element).filter(function(){return e(this).data("item")===t}).remove(),e.inArray(t,a.itemsArray)!==-1&&a.itemsArray.splice(e.inArray(t,a.itemsArray),1)}n||a.pushVal(),a.options.maxTags>a.itemsArray.length&&a.$container.removeClass("bootstrap-tagsinput-max"),a.$element.trigger(e.Event("itemRemoved",{item:t,options:i}))},removeAll:function(){var t=this;for(e(".tag",t.$container).remove(),e("option",t.$element).remove();t.itemsArray.length>0;)t.itemsArray.pop();t.pushVal()},refresh:function(){var t=this;e(".tag",t.$container).each(function(){var n=e(this),i=n.data("item"),r=t.options.itemValue(i),s=t.options.itemText(i),o=t.options.tagClass(i);if(n.attr("class",null),n.addClass("tag "+a(o)),n.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=a(s),t.isSelect){var l=e("option",t.$element).filter(function(){return e(this).data("item")===i});l.attr("value",r)}})},items:function(){return this.itemsArray},pushVal:function(){var t=this,n=e.map(t.items(),function(e){return t.options.itemValue(e).toString()});t.$element.val(n,!0).trigger("change")},build:function(t){var a=this;if(a.options=e.extend({},o,t),a.objectItems&&(a.options.freeInput=!1),n(a.options,"itemValue"),n(a.options,"itemText"),i(a.options,"tagClass"),a.options.typeahead){var l=a.options.typeahead||{};i(l,"source"),a.$input.typeahead(e.extend({},l,{source:function(t,n){function i(e){for(var t=[],i=0;i<e.length;i++){var s=a.options.itemText(e[i]);r[s]=e[i],t.push(s)}n(t)}this.map={};var r=this.map,s=l.source(t);e.isFunction(s.success)?s.success(i):e.isFunction(s.then)?s.then(i):e.when(s).then(i)},updater:function(e){a.add(this.map[e])},matcher:function(e){return e.toLowerCase().indexOf(this.query.trim().toLowerCase())!==-1},sorter:function(e){return e.sort()},highlighter:function(e){var t=new RegExp("("+this.query+")","gi");return e.replace(t,"<strong>$1</strong>")}}))}if(a.options.typeaheadjs){var u=a.options.typeaheadjs||{};a.$input.typeahead(null,u).on("typeahead:selected",e.proxy(function(e,t){u.valueKey?a.add(t[u.valueKey]):a.add(t),a.$input.typeahead("val","")},a))}a.$container.on("click",e.proxy(function(e){a.$element.attr("disabled")||a.$input.removeAttr("disabled"),a.$input.focus()},a)),a.options.addOnBlur&&a.options.freeInput&&a.$input.on("focusout",e.proxy(function(t){0===e(".typeahead, .twitter-typeahead",a.$container).length&&(a.add(a.$input.val()),a.$input.val(""))},a)),a.$container.on("keydown","input",e.proxy(function(t){var n=e(t.target),i=a.findInputWrapper();if(a.$element.attr("disabled"))return void a.$input.attr("disabled","disabled");switch(t.which){case 8:if(0===r(n[0])){var s=i.prev();s&&a.remove(s.data("item"))}break;case 46:if(0===r(n[0])){var o=i.next();o&&a.remove(o.data("item"))}break;case 37:var l=i.prev();0===n.val().length&&l[0]&&(l.before(i),n.focus());break;case 39:var u=i.next();0===n.val().length&&u[0]&&(u.after(i),n.focus())}var c=n.val().length;Math.ceil(c/5);n.attr("size",Math.max(this.inputSize,n.val().length))},a)),a.$container.on("keypress","input",e.proxy(function(t){var n=e(t.target);if(a.$element.attr("disabled"))return void a.$input.attr("disabled","disabled");var i=n.val(),r=a.options.maxChars&&i.length>=a.options.maxChars;a.options.freeInput&&(s(t,a.options.confirmKeys)||r)&&(a.add(r?i.substr(0,a.options.maxChars):i),n.val(""),t.preventDefault());var o=n.val().length;Math.ceil(o/5);n.attr("size",Math.max(this.inputSize,n.val().length))},a)),a.$container.on("click","[data-role=remove]",e.proxy(function(t){a.$element.attr("disabled")||a.remove(e(t.target).closest(".tag").data("item"))},a)),a.options.itemValue===o.itemValue&&("INPUT"===a.$element[0].tagName?a.add(a.$element.val()):e("option",a.$element).each(function(){a.add(e(this).attr("value"),!0)}))},destroy:function(){var e=this;e.$container.off("keypress","input"),e.$container.off("click","[role=remove]"),e.$container.remove(),e.$element.removeData("tagsinput"),e.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var t=this.$input[0],n=this.$container[0];t&&t.parentNode!==n;)t=t.parentNode;return e(t)}},e.fn.tagsinput=function(n,i,a){var r=[];return this.each(function(){var s=e(this).data("tagsinput");if(s)if(n||i){if(void 0!==s[n]){if(3===s[n].length&&void 0!==a)var o=s[n](i,null,a);else var o=s[n](i);void 0!==o&&r.push(o)}}else r.push(s);else s=new t(this,n),e(this).data("tagsinput",s),r.push(s),"SELECT"===this.tagName&&e("option",e(this)).attr("selected","selected"),e(this).val(e(this).val())}),"string"==typeof n?r.length>1?r:r[0]:r},e.fn.tagsinput.Constructor=t;var l=e("<div />")}(window.jQuery),function(e){"use strict";function t(e,t){return e+".touchspin_"+t}function n(n,i){return e.map(n,function(e){return t(e,i)})}var i=0;e.fn.TouchSpin=function(t){if("destroy"===t)return void this.each(function(){var t=e(this),i=t.data();e(document).off(n(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],i.spinnerid).join(" "))});var a={min:0,max:100,initval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"am-icon-caret-up",verticaldownclass:"am-icon-caret-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"am-btn am-btn-primary",buttonup_class:"am-btn am-btn-primary",buttondown_txt:"-",buttonup_txt:"+"},r={min:"min",max:"max",initval:"init-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){function s(){if(!O.data("alreadyinitialized")){if(O.data("alreadyinitialized",!0),i+=1,O.data("spinnerid",i),!O.is("input"))return void console.log("Must be an input.");u(),o(),_(),h(),m(),g(),v(),b(),F.input.css("display","block")}}function o(){""!==I.initval&&""===O.val()&&O.val(I.initval)}function l(e){d(e),_();var t=F.input.val();""!==t&&(t=Number(F.input.val()),F.input.val(t.toFixed(I.decimals)))}function u(){I=e.extend({},a,$,c(),t)}function c(){var t={};return e.each(r,function(e,n){var i="bts-"+n;O.is("[data-"+i+"]")&&(t[e]=O.data(i))}),t}function d(t){I=e.extend({},I,t)}function h(){var e=O.val(),t=O.parent();""!==e&&(e=Number(e).toFixed(I.decimals)),O.data("initvalue",e).val(e),O.hasClass("am-form-field")||O.addClass("am-form-field"),t.hasClass("am-input-group")?f(t):p()}function f(t){t.addClass("bootstrap-touchspin");var n,i,a=O.prev(),r=O.next(),s='<span class="am-input-group-label bootstrap-touchspin-prefix">'+I.prefix+"</span>",o='<span class="am-input-group-label bootstrap-touchspin-postfix">'+I.postfix+"</span>";a.hasClass("am-input-group-btn")?(n='<button class="'+I.buttondown_class+' bootstrap-touchspin-down" type="button">'+I.buttondown_txt+"</button>",a.append(n)):(n='<span class="am-input-group-btn"><button class="'+I.buttondown_class+' bootstrap-touchspin-down" type="button">'+I.buttondown_txt+"</button></span>",e(n).insertBefore(O)),r.hasClass("am-input-group-btn")?(i='<button class="'+I.buttonup_class+' bootstrap-touchspin-up" type="button">'+I.buttonup_txt+"</button>",r.prepend(i)):(i='<span class="am-input-group-btn"><button class="'+I.buttonup_class+' bootstrap-touchspin-up" type="button">'+I.buttonup_txt+"</button></span>",e(i).insertAfter(O)),e(s).insertBefore(O),e(o).insertAfter(O),k=t}function p(){var t;t=I.verticalbuttons?'<div class="am-input-group bootstrap-touchspin"><span class="am-input-group-label bootstrap-touchspin-prefix">'+I.prefix+'</span><span class="am-input-group-label bootstrap-touchspin-postfix">'+I.postfix+'</span><span class="am-input-group-btn-vertical"><button class="'+I.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+I.verticalupclass+'"></i></button><button class="'+I.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+I.verticaldownclass+'"></i></button></span></div>':'<div class="am-input-group bootstrap-touchspin"><span class="am-input-group-btn"><button class="'+I.buttondown_class+' bootstrap-touchspin-down" type="button">'+I.buttondown_txt+'</button></span><span class="am-input-group-label bootstrap-touchspin-prefix">'+I.prefix+'</span><span class="am-input-group-label bootstrap-touchspin-postfix">'+I.postfix+'</span><span class="am-input-group-btn"><button class="'+I.buttonup_class+' bootstrap-touchspin-up" type="button">'+I.buttonup_txt+"</button></span></div>",k=e(t).insertBefore(O),e(".bootstrap-touchspin-prefix",k).after(O),O.hasClass("am-input-sm")?(k.addClass("am-input-group-sm"),O.removeClass("am-input-sm")):O.hasClass("am-input-lg")&&(k.addClass("am-input-group-lg"),O.removeClass("am-input-lg"))}function m(){F={down:e(".bootstrap-touchspin-down",k),up:e(".bootstrap-touchspin-up",k),input:e("input",k),prefix:e(".bootstrap-touchspin-prefix",k).addClass(I.prefix_extraclass),postfix:e(".bootstrap-touchspin-postfix",k).addClass(I.postfix_extraclass)}}function g(){""===I.prefix&&F.prefix.hide(),""===I.postfix&&F.postfix.hide()}function v(){O.on("keydown",function(e){var t=e.keyCode||e.which;38===t?("up"!==j&&(D(),C()),e.preventDefault()):40===t&&("down"!==j&&(S(),x()),e.preventDefault())}),O.on("keyup",function(e){var t=e.keyCode||e.which;38===t?T():40===t&&T()}),O.on("blur",function(){_()}),F.down.on("keydown",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||("down"!==j&&(S(),x()),e.preventDefault())}),F.down.on("keyup",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||T()}),F.up.on("keydown",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||("up"!==j&&(D(),C()),e.preventDefault())}),F.up.on("keyup",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||T()}),F.down.on("mousedown.touchspin",function(e){F.down.off("touchstart.touchspin"),O.is(":disabled")||(S(),x(),e.preventDefault(),e.stopPropagation())}),F.down.on("touchstart.touchspin",function(e){F.down.off("mousedown.touchspin"),O.is(":disabled")||(S(),x(),e.preventDefault(),e.stopPropagation())}),F.up.on("mousedown.touchspin",function(e){F.up.off("touchstart.touchspin"),O.is(":disabled")||(D(),C(),e.preventDefault(),e.stopPropagation())}),F.up.on("touchstart.touchspin",function(e){F.up.off("mousedown.touchspin"),O.is(":disabled")||(D(),C(),e.preventDefault(),e.stopPropagation())}),F.up.on("mouseout touchleave touchend touchcancel",function(e){j&&(e.stopPropagation(),T())}),F.down.on("mouseout touchleave touchend touchcancel",function(e){j&&(e.stopPropagation(),T())}),F.down.on("mousemove touchmove",function(e){j&&(e.stopPropagation(),e.preventDefault())}),F.up.on("mousemove touchmove",function(e){j&&(e.stopPropagation(),e.preventDefault())}),e(document).on(n(["mouseup","touchend","touchcancel"],i).join(" "),function(e){j&&(e.preventDefault(),T())}),e(document).on(n(["mousemove","touchmove","scroll","scrollstart"],i).join(" "),function(e){j&&(e.preventDefault(),T())}),O.on("mousewheel DOMMouseScroll",function(e){if(I.mousewheel&&O.is(":focus")){var t=e.originalEvent.wheelDelta||-e.originalEvent.deltaY||-e.originalEvent.detail;e.stopPropagation(),e.preventDefault(),t<0?S():D()}})}function b(){O.on("touchspin.uponce",function(){T(),D()}),O.on("touchspin.downonce",function(){T(),S()}),O.on("touchspin.startupspin",function(){C()}),O.on("touchspin.startdownspin",function(){x()}),O.on("touchspin.stopspin",function(){T()}),O.on("touchspin.updatesettings",function(e,t){l(t)})}function y(e){switch(I.forcestepdivisibility){case"round":return(Math.round(e/I.step)*I.step).toFixed(I.decimals);case"floor":return(Math.floor(e/I.step)*I.step).toFixed(I.decimals);case"ceil":return(Math.ceil(e/I.step)*I.step).toFixed(I.decimals);default:return e}}function _(){var e,t,n;e=O.val(),""!==e&&(I.decimals>0&&"."===e||(t=parseFloat(e),isNaN(t)&&(t=0),n=t,t.toString()!==e&&(n=t),t<I.min&&(n=I.min),t>I.max&&(n=I.max),n=y(n),Number(e).toString()!==n.toString()&&(O.val(n),O.trigger("change"))))}function w(){if(I.booster){var e=Math.pow(2,Math.floor(L/I.boostat))*I.step;return I.maxboostedstep&&e>I.maxboostedstep&&(e=I.maxboostedstep,P=Math.round(P/e)*e),Math.max(I.step,e)}return I.step}function D(){_(),P=parseFloat(F.input.val()),isNaN(P)&&(P=0);var e=P,t=w();P+=t,P>I.max&&(P=I.max,O.trigger("touchspin.on.max"),T()),F.input.val(Number(P).toFixed(I.decimals)),e!==P&&O.trigger("change")}function S(){_(),P=parseFloat(F.input.val()),isNaN(P)&&(P=0);var e=P,t=w();P-=t,P<I.min&&(P=I.min,O.trigger("touchspin.on.min"),T()),F.input.val(P.toFixed(I.decimals)),e!==P&&O.trigger("change")}function x(){T(),L=0,j="down",O.trigger("touchspin.on.startspin"),O.trigger("touchspin.on.startdownspin"),M=setTimeout(function(){A=setInterval(function(){L++,S()},I.stepinterval)},I.stepintervaldelay)}function C(){T(),L=0,j="up",O.trigger("touchspin.on.startspin"),O.trigger("touchspin.on.startupspin"),R=setTimeout(function(){E=setInterval(function(){L++,D()},I.stepinterval)},I.stepintervaldelay)}function T(){switch(clearTimeout(M),clearTimeout(R),clearInterval(A),clearInterval(E),j){case"up":O.trigger("touchspin.on.stopupspin"),O.trigger("touchspin.on.stopspin");break;case"down":O.trigger("touchspin.on.stopdownspin"),O.trigger("touchspin.on.stopspin")}L=0,j=!1}var I,k,F,P,A,E,M,R,O=e(this),$=O.data(),L=0,j=!1;s()})}}(jQuery),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.AMUITree=e()}}(function(){return function e(t,n,i){function a(s,o){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return a(n?n:e)},c,c.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,n){"use strict";function i(e,t,n){t.addClass(e.classes.selected),"item"===t.data("type")&&n.hasClass(e.itemIcon)&&n.removeClass(e.itemIcon).addClass(e.itemSelectedIcon)}function a(e,t,n){t.removeClass(e.classes.selected),"item"===t.data("type")&&n.hasClass(e.itemSelectedIcon)&&n.removeClass(e.itemSelectedIcon).addClass(e.itemIcon)}function r(e,t,n){o.each(n.$elements,function(e,i){var a=o(i);a[0]!==t.$element[0]&&n.dataForEvent.push(o(a).data())}),t.$element.hasClass(e.classes.selected)?(a(e,t.$element,t.$icon),n.eventType="deselected"):(i(e,t.$element,t.$icon),n.eventType="selected",n.dataForEvent.push(t.elementData))}function s(e,t,n){if(n.$elements[0]!==t.$element[0]){e.deselectAll(e.$element);i(e,t.$element,t.$icon),n.eventType="selected",n.dataForEvent=[t.elementData]}else a(e,t.$element,t.$icon),n.eventType="deselected",n.dataForEvent=[]}var o=window.jQuery,l=o.fn.tree,u=function(e,t){this.$element=o(e),this.options=o.extend({},o.fn.tree.defaults,t);var n=this.$element.data("itemIcon")||this.options.itemIcon,i=this.$element.data("itemSelectedIcon")||this.options.itemSelectedIcon;this.folderIcon=this._getIconClass(this.options.folderIcon),this.folderOpenIcon=this._getIconClass(this.options.folderOpenIcon),this.itemIcon=this._getIconClass(n),this.itemSelectedIcon=this._getIconClass(i),this.classes={},o.each(this.options.classes,o.proxy(function(e,t){this.classes[e]=this._getClass(t)},this)),this.options.itemSelect&&this.$element.on("click.tree.amui","."+this.classes.item,o.proxy(function(e){this.selectItem(e.currentTarget)},this)),this.$element.on("click.tree.amui","."+this.classes.branchName,o.proxy(function(e){this.toggleFolder(e.currentTarget)},this)),this.options.folderSelect&&(this.$element.addClass(this.options.classPrefix+"-folder-select"),this.$element.off("click.tree.amui","."+this.classes.branchName),this.$element.on("click.tree.amui","."+this.classes.iconCaret,o.proxy(function(e){this.toggleFolder(o(e.currentTarget).parent())},this)),this.$element.on("click.tree.amui","."+this.classes.branchName,o.proxy(function(e){this.selectFolder(o(e.currentTarget))},this))),this.render()};u.prototype={constructor:u,deselectAll:function(e){var t=this;e=e||this.$element;var n=o(e).find("."+this.classes.selected);return n.each(function(e,n){a(t,o(n),o(n).find("."+t.classes.icon))}),n},destroy:function(){return this.$element.find("li:not([data-template])").remove(),this.$element.remove(),this.$element[0].outerHTML},refresh:function(){this.$element.find("li:not(:hidden)").remove(),this.render()},render:function(){this.populate(this.$element)},populate:function(e){var t=this,n=e.hasClass(this.options.classPrefix)?e:e.parent(),i=n.find("."+this.classes.loader).eq(0),a=n.data();i.removeClass(this.options.hiddenClass),this.options.dataSource(a,function(a){i.addClass(t.options.hiddenClass),o.each(a.data,function(i,a){var r;"folder"===a.type?(r=t.$element.find("[data-template=treebranch]").first().clone().removeClass(t.options.hiddenClass).removeData("template"),r.data(a),r.find("."+t.classes.iconFolder).addClass(t.folderIcon),r.find("."+t.classes.branchName+" > ."+t.classes.label).html(a.title)):"item"===a.type&&(r=t.$element.find("[data-template=treeitem]").first().clone().removeClass(t.options.hiddenClass).removeData("template"),r.find("."+t.classes.itemName+" > ."+t.classes.label).html(a.title),r.data(a),r.find("."+t.classes.iconItem).addClass(t.itemIcon));var s=a.attr||[];o.each(s,function(e,n){switch(e){case"classNames":r.addClass(n);break;case"icon":var i=[t.classes.icon,t.classes.iconItem,n].join(" ");r.find("."+t.classes.iconItem).removeClass().addClass(i),r.data(e,n);break;case"id":r.attr(e,n),r.attr("aria-labelledby",n+"-label"),r.find("."+t.classes.branchName+" > ."+t.classes.label).attr("id",n+"-label");break;default:r.attr(e,n)}}),e.hasClass(t.classes.branchHeader)?n.find("."+t.classes.branchChildren).eq(0).append(r):e.append(r)}),t.$element.trigger("loaded.tree.amui",n)})},selectTreeNode:function(e,t){var n={};n.$element=o(e);var i={};i.$elements=this.$element.find("."+this.classes.selected),i.dataForEvent=[],"folder"===t?(n.$element=n.$element.closest("."+this.classes.branch),n.$icon=n.$element.find("."+this.classes.iconFolder)):n.$icon=n.$element.find("."+this.classes.iconItem),n.elementData=n.$element.data(),this.options.multiSelect?r(this,n,i):s(this,n,i),this.$element.trigger(i.eventType+".tree.amui",{target:n.elementData,selected:i.dataForEvent}),n.$element.trigger("updated.tree.amui",{selected:i.dataForEvent,item:n.$element,eventType:i.eventType})},discloseFolder:function(e){var t=o(e),n=t.closest("."+this.classes.branch),i=n.find("."+this.classes.branchChildren),a=i.eq(0);n.addClass(this.classes.open),n.attr("aria-expanded","true"),a.removeClass(this.options.hiddenClass),n.find("> ."+this.classes.branchHeader+" ."+this.classes.iconFolder).eq(0).removeClass(this.folderIcon).addClass(this.folderOpenIcon),i.children().length||this.populate(i),this.$element.trigger("disclosedFolder.tree.amui",n.data())},closeFolder:function(e){var t=o(e),n=t.closest("."+this.classes.branch),i=n.find("."+this.classes.branchChildren),a=i.eq(0);n.removeClass(this.classes.open),n.attr("aria-expanded","false"),a.addClass(this.options.hiddenClass),n.find("> ."+this.classes.branchHeader+" ."+this.classes.iconFolder).eq(0).removeClass(this.folderOpenIcon).addClass(this.folderIcon),this.options.cacheItems||a.empty(),this.$element.trigger("closed.tree.amui",n.data())},toggleFolder:function(e){var t=o(e);t.find("."+this.folderIcon).length?this.discloseFolder(e):t.find("."+this.folderOpenIcon).length&&this.closeFolder(e)},selectFolder:function(e){this.options.folderSelect&&this.selectTreeNode(e,"folder")},selectItem:function(e){this.options.itemSelect&&this.selectTreeNode(e,"item")},selectedItems:function(){var e=this.$element.find("."+this.classes.selected),t=[];return o.each(e,function(e,n){t.push(o(n).data())}),t},closeAll:function(){var e=this,t=[],n=function i(n,a){t.push(a),0===e.$element.find("."+e.classes.branch+"."+e.classes.open+':not(".am-hide")').length&&(e.$element.trigger("closedAll.tree.amui",{tree:e.$element,reportedClosed:t}),e.$element.off("loaded.tree.amui",e.$element,i))};e.$element.on("closed.tree.amui",n),e.$element.find("."+e.classes.branch+"."+e.classes.open+':not(".am-hide")').each(function(){e.closeFolder(this)})},discloseVisible:function(){var e=this,t=e.$element.find("."+this.classes.branch+':not(".'+this.classes.open+', .am-hide")'),n=[],i=function a(i,r){n.push(r),n.length===t.length&&(e.$element.trigger("disclosedVisible.tree.amui",{tree:e.$element,reportedOpened:n}),e.$element.off("loaded.tree.amui",e.$element,a))};e.$element.on("loaded.tree.amui",i),e.$element.find("."+this.classes.branch+':not(".'+this.classes.open+', .am-hide")').each(function(){e.discloseFolder(o(this).find("."+e.classes.branchHeader))})},discloseAll:function(){var e=this;"undefined"==typeof e.$element.data("disclosures")&&e.$element.data("disclosures",0);var t=e.options.disclosuresUpperLimit>=1&&e.$element.data("disclosures")>=e.options.disclosuresUpperLimit,n=0===e.$element.find("."+this.classes.branch+':not(".'+this.classes.open+', .am-hide")').length;if(n)e.$element.trigger("disclosedAll.tree.amui",{tree:e.$element,disclosures:e.$element.data("disclosures")}),e.options.cacheItems||e.$element.one("closeAll.tree.amui",function(){e.$element.data("disclosures",0)});else{if(t&&(e.$element.trigger("exceededDisclosuresLimit.tree.amui",{tree:e.$element,disclosures:e.$element.data("disclosures")}),!e.$element.data("ignore-disclosures-limit")))return;e.$element.data("disclosures",e.$element.data("disclosures")+1),e.$element.one("disclosedVisible.tree.amui",function(){e.discloseAll()}),e.discloseVisible()}},_getIconClass:function(e,t){return(t?".":"")+"am-icon-"+e},_getClass:function(e,t){return(t?".":"")+this.options.classPrefix+"-"+e}},u.prototype.openFolder=u.prototype.discloseFolder,o.fn.tree=function(e){var t,n=Array.prototype.slice.call(arguments,1),i=this.each(function(){var i=o(this),a=i.data("amui.tree"),r="object"==typeof e&&e;a||i.data("amui.tree",a=new u(this,r)),"string"==typeof e&&(t="function"==typeof a[e]?a[e].apply(a,n):a[e])});return void 0===t?i:t},o.fn.tree.defaults={dataSource:function(e,t){},multiSelect:!1,cacheItems:!0,folderSelect:!0,itemSelect:!0,disclosuresUpperLimit:0,folderIcon:"plus-square-o",folderOpenIcon:"minus-square-o",itemIcon:"angle-right",itemSelectedIcon:"check",hiddenClass:"am-hide",classPrefix:"am-tree",classes:{branch:"branch",branchName:"branch-name",branchChildren:"branch-children",branchHeader:"branch-header",item:"item",itemName:"item-name",label:"label",icon:"icon",iconFolder:"icon-folder",iconItem:"icon-item",iconCaret:"icon-caret",loader:"loader",selected:"selected",open:"open"}},o.fn.tree.Constructor=u,o.fn.tree.noConflict=function(){return o.fn.tree=l,this},t.exports=u},{}]},{},[1])(1)}),function(e){var t=function(t,n){var t=e(t),a=this,r="li",s=[],o=e.extend({},i.DEFAULTS,n),l=null,u=null;this.isTabShow=!0;var c=function(e){u.tabs("open",e)};this.rebindClick=function(e,t){e.unbind("click",t).bind("click",t)},this.fixNavigationButtons=function(){if(l.length||(c(0),l=u.find(r+":first")),e(o.previousSelector,t).toggleClass(o.disabledClass,a.firstIndex()>=a.currentIndex()),e(o.nextSelector,t).toggleClass(o.disabledClass,a.currentIndex()>=a.navigationLength()),e(o.nextSelector,t).toggleClass(o.hideClass,a.currentIndex()>=a.navigationLength()&&e(o.finishSelector,t).length>0),e(o.lastSelector,t).toggleClass(o.hideClass,a.currentIndex()>=a.navigationLength()&&e(o.finishSelector,t).length>0),e(o.finishSelector,t).toggleClass(o.hideClass,a.currentIndex()<a.navigationLength()),e(o.backSelector,t).toggleClass(o.disabledClass,0==s.length),e(o.backSelector,t).toggleClass(o.hideClass,a.currentIndex()>=a.navigationLength()&&e(o.finishSelector,t).length>0),a.rebindClick(e(o.nextSelector,t),a.next),a.rebindClick(e(o.previousSelector,t),a.previous),a.rebindClick(e(o.lastSelector,t),a.last),a.rebindClick(e(o.firstSelector,t),a.first),a.rebindClick(e(o.finishSelector,t),a.finish),a.rebindClick(e(o.backSelector,t),a.back),o.onTabShow&&"function"==typeof o.onTabShow&&o.onTabShow(l,u,a.currentIndex())===!1)return!1},this.next=function(e){if(t.hasClass("last"))return!1;if(o.onNext&&"function"==typeof o.onNext&&o.onNext(l,u,a.nextIndex())===!1)return!1;if(0==l.data("isTabShow"))return!1;var n=a.currentIndex(),i=a.nextIndex();i>a.navigationLength()||(s.push(n),c(i))},this.previous=function(e){if(t.hasClass("first"))return!1;if(o.onPrevious&&"function"==typeof o.onPrevious&&o.onPrevious(l,u,a.previousIndex())===!1)return!1;var n=a.currentIndex(),i=a.previousIndex();i<0||(s.push(n),c(i))},this.first=function(e){return(!o.onFirst||"function"!=typeof o.onFirst||o.onFirst(l,u,a.firstIndex())!==!1)&&(!t.hasClass(o.disabledClass)&&(s.push(a.currentIndex()),void c(0)))},this.last=function(e){return(!o.onLast||"function"!=typeof o.onLast||o.onLast(l,u,a.lastIndex())!==!1)&&(!t.hasClass(o.disabledClass)&&(s.push(a.currentIndex()),void c(a.navigationLength())))},this.finish=function(e){o.onFinish&&"function"==typeof o.onFinish&&o.onFinish(l,u,a.lastIndex())},this.back=function(){if(0==s.length)return null;var e=s.pop();return o.onBack&&"function"==typeof o.onBack&&o.onBack(l,u,e)===!1?(s.push(e),!1):void t.find(r+":eq("+e+") a").tab("show")},this.currentIndex=function(){return u.find(r).index(l)},this.firstIndex=function(){return 0},this.lastIndex=function(){return a.navigationLength()},this.getIndex=function(e){return u.find(r).index(e)},this.nextIndex=function(){return u.find(r).index(l)+1},this.previousIndex=function(){return u.find(r).index(l)-1},this.navigationLength=function(){return u.find(r).length-1},this.activeTab=function(){return l},this.nextTab=function(){return u.find(r+":eq("+(a.currentIndex()+1)+")").length?u.find(r+":eq("+(a.currentIndex()+1)+")"):null},this.previousTab=function(){return a.currentIndex()<=0?null:u.find(r+":eq("+parseInt(a.currentIndex()-1)+")")},this.show=function(e){var n=isNaN(e)?t.find(r+" a[href=#"+e+"]"):t.find(r+":eq("+e+") a");n.length>0&&(s.push(a.currentIndex()),c(e))},this.disable=function(e){u.find(r+":eq("+e+")").addClass(o.disabledClass)},this.enable=function(e){u.find(r+":eq("+e+")").removeClass(o.disabledClass)},this.hide=function(e){u.find(r+":eq("+e+")").addClass("am-hide")},this.display=function(e){u.find(r+":eq("+e+")").removeClass("am-hide")},this.remove=function(t){var n=t[0],i="undefined"!=typeof t[1]&&t[1],a=u.find(r+":eq("+n+")");if(i){var s=a.find("a").attr("href");e(s).remove()}a.remove()};var d=function(t){var n=u.find(r),i=n.index(e(t.currentTarget).parent(r)),s=e(n[i]);if(o.onTabClick&&"function"==typeof o.onTabClick&&o.onTabClick(l,u,a.currentIndex(),i,s)===!1)return!1;
},h=function(t){var n=e(t.target).parent(),i=u.find(r).index(n);return!n.hasClass(o.disabledClass)&&((!o.onTabChange||"function"!=typeof o.onTabChange||o.onTabChange(l,u,a.currentIndex(),i)!==!1)&&(l=n,void a.fixNavigationButtons()))};this.resetWizard=function(){e(o.tagSelector,u).off("click.tabs.amui",d),e(o.tagSelector,u).off("opened.tabs.amui",h),u=t.find("ul:first",t),l=u.find(r+o.activeSelector,t),e(o.tagSelector,u).on("click.tabs.amui",d),e(o.tagSelector,u).on("opened.tabs.amui",h),a.fixNavigationButtons()},u=t.find("ul:first",t),l=u.find(r+o.activeSelector,t),u.hasClass(o.tabClass)||u.addClass(o.tabClass),o.onInit&&"function"==typeof o.onInit&&o.onInit(l,u,0),o.onShow&&"function"==typeof o.onShow&&o.onShow(l,u,a.nextIndex()),e(o.tagSelector,u).on("click.tabs.amui",d),e(o.tagSelector,u).on("opened.tabs.amui",h)};e.fn.bootstrapWizard=function(n){if("string"==typeof n){var i=Array.prototype.slice.call(arguments,1);return 1===i.length&&i.toString(),this.data("bootstrapWizard")[n](i)}return this.each(function(i){var a=e(this);if(!a.data("bootstrapWizard")){var r=new t(a,n);a.data("bootstrapWizard",r),r.fixNavigationButtons()}})};var n=e.AMUI||{},i=function(t,n){this.options=e.extend({},i.DEFAULTS,n),this.$evemts=i.EVENTS,this.$element=e(t),this.$form=e(this.options.formSelector,this.$element),this.$tabs=e(this.options.tabSelector,this.$element),this.$tabsNav=e(this.options.tabNavSelector,this.$element),this.$tabNavLength=e(this.options.tabNavChildSelector,this.$tabsNav).length,this.init()};i.DEFAULTS={theme:"",tabClass:"am-nav am-nav-tabs-wizard",nextSelector:".form-actions .button-next",previousSelector:".form-actions .button-previous",finishSelector:".form-actions .button-finish",isValidate:1,isProgress:1,formSelector:"form",tabSelector:".am-wizard-tabs",tabNavSelector:".am-wizard-tabs > .am-tabs-nav",tabNavChildSelector:"li",tabPanelSelector:".am-tabs-bd-wizard > .am-tab-panel",progressClass:"am-progress",progressDom:'<div class="am-progress-striped am-margin-vertical"> <div class="am-progress-bar"></div></div>',firstSelector:".wizard li.first",lastSelector:".wizard li.last",backSelector:".wizard li.back",onShow:null,onInit:null,onNext:null,onPrevious:null,onLast:null,onFirst:null,onFinish:null,onBack:null,onTabChange:null,onTabClick:null,onTabShow:null,activeSelector:".am-active",tagSelector:"li > a",disabledClass:"am-disabled",hideClass:"am-hide"},i.EVENTS={next:"next.wizard.amui",previous:"pre.wizard.amui",show:"show.wizard.amui",finish:"finish.wizard.amui"},i.prototype.init=function(){var n=this,i=this.$element,a=this.$form,r=this.$tabs,s=this.$evemts,o=this.options;a&&o.isValidate&&a.validator(),r.tabs({noSwipe:1}),o.isProgress&&(this.$progress=this.getProgress());var l=new t(i,e.extend(o,{onTabClick:function(){return!1},onNext:function(e,t,a){var r=i.trigger(s.next,[e,t,a]);return r&&o.isValidate&&(r=n.isFormValid(e)),r},onPrevious:function(e,t,n){i.trigger(s.previous,[e,t,n])},onTabShow:function(e,t,a){o.isProgress&&n.drawProgress(a),i.trigger(s.show,[e,t,a])},onFinish:function(e,t,n){i.trigger(s.finish,[e,t,n])}}));l.fixNavigationButtons(),this.bindEvents()},i.prototype.isFormValid=function(t){var n=this.$form.validator("isFormValid");return"boolean"==e.type(n)?(t.data("isTabShow",n),n):void e.when(n).then(function(){t.data("isTabShow",!0)},function(){t.data("isTabShow",!1)})},i.prototype.clearInput=function(t){t&&e(":input:not(:submit, :button, :disabled, .am-novalidate)",t).removeData("validity amui.dfdValidity")},i.prototype.getProgress=function(){var t=e("."+this.options.progressClass,this.$element);return 0==t.length&&(t=e(this.options.progressDom).addClass(this.options.progressClass).insertAfter(this.$tabsNav)),t},i.prototype.drawProgress=function(t){var n=this.$tabNavLength,i=t+1,a=i/n*100;e(".am-progress-bar",this.$progress).css({width:a+"%"})},i.prototype.bindEvents=function(){var t=this,n=this.options,i=this.$element,a=this.$evemts;i.on(a.previous,function(a,r,s,o){t.$form.validator("removeMark"),t.clearInput(e(n.tabPanelSelector+":eq("+o+")"),i)}),i.on(a.next,function(e,t,n,i){return!0})},i.prototype.destroy=function(){this.$form.validator("destroy"),this.$tabs.tabs("destroy")},n.plugin("formWizard",i),n.ready(function(t){e("[data-am-formWizard]",t).formWizard()})}(jQuery),function(e,t){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(n){return e.Bloodhound=t(n)}):"object"==typeof exports?module.exports=t(require("jquery")):e.Bloodhound=t(jQuery)}(this,function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function i(e,t){return n(t,e)}e.each(t,i)},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,function(e,a){if(!(i=n.call(null,a,e,t)))return!1}),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,function(e,a){if(i=n.call(null,a,e,t))return!1}),!!i):i},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,a;return function(){var r,s,o=this,l=arguments;return r=function(){i=null,n||(a=e.apply(o,l))},s=n&&!i,clearTimeout(i),i=setTimeout(r,t),s&&(a=e.apply(o,l)),a}},throttle:function(e,t){var n,i,a,r,s,o;return s=0,o=function(){s=new Date,a=null,r=e.apply(n,i)},function(){var l=new Date,u=t-(l-s);return n=this,i=arguments,u<=0?(clearTimeout(a),a=null,s=l,r=e.apply(n,i)):a||(a=setTimeout(o,u)),r}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function e(e){return e=t.toStr(e),e?e.split(/\s+/):[]}function n(e){return e=t.toStr(e),e?e.split(/\W+/):[]}function i(e){return function(n){return n=t.isArray(n)?n:[].slice.call(arguments,0),function(i){var a=[];return t.each(n,function(n){a=a.concat(e(t.toStr(i[n])))}),a}}}return{nonword:n,whitespace:e,obj:{nonword:i(n),whitespace:i(e)}}}(),a=function(){"use strict";function n(n){this.maxSize=t.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=e.noop)}function i(){this.head=this.tail=null}function a(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(n.prototype,{set:function(e,t){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[e])?(n.val=t,this.list.moveToFront(n)):(n=new a(e,t),this.list.add(n),this.hash[e]=n,this.size++)},get:function(e){var t=this.hash[e];if(t)return this.list.moveToFront(t),t.val},reset:function(){this.size=0,this.hash={},this.list=new i}}),t.mixin(i.prototype,{add:function(e){this.head&&(e.next=this.head,this.head.prev=e),this.head=e,this.tail=this.tail||e},remove:function(e){e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),n}(),r=function(){"use strict";function n(e,n){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix)),this.ls=n||o,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function a(e){return JSON.stringify(t.isUndefined(e)?null:e)}function r(t){return e.parseJSON(t)}function s(e){var t,n,i=[],a=o.length;for(t=0;t<a;t++)(n=o.key(t)).match(e)&&i.push(n.replace(e,""));return i}var o;try{o=window.localStorage,o.setItem("~~~","!"),o.removeItem("~~~")}catch(l){o=null}return t.mixin(n.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(e){return this.isExpired(e)&&this.remove(e),r(this.ls.getItem(this._prefix(e)))},set:function(e,n,r){return t.isNumber(r)?this._safeSet(this._ttlKey(e),a(i()+r)):this.ls.removeItem(this._ttlKey(e)),this._safeSet(this._prefix(e),a(n))},remove:function(e){return this.ls.removeItem(this._ttlKey(e)),this.ls.removeItem(this._prefix(e)),this},clear:function(){var e,t=s(this.keyMatcher);for(e=t.length;e--;)this.remove(t[e]);return this},isExpired:function(e){var n=r(this.ls.getItem(this._ttlKey(e)));return!!(t.isNumber(n)&&i()>n)}}),n}(),s=function(){"use strict";function n(e){e=e||{},this.cancelled=!1,this.lastReq=null,this._send=e.transport,this._get=e.limiter?e.limiter(this._get):this._get,this._cache=e.cache===!1?new a(0):o}var i=0,r={},s=6,o=new a(10);return n.setMaxPendingRequests=function(e){s=e},n.resetCache=function(){o.reset()},t.mixin(n.prototype,{_fingerprint:function(t){return t=t||{},t.url+t.type+e.param(t.data||{})},_get:function(e,t){function n(e){t(null,e),c._cache.set(l,e)}function a(){t(!0)}function o(){i--,delete r[l],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var l,u,c=this;l=this._fingerprint(e),this.cancelled||l!==this.lastReq||((u=r[l])?u.done(n).fail(a):i<s?(i++,r[l]=this._send(e).done(n).fail(a).always(o)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var a,r;i=i||e.noop,n=t.isString(n)?{url:n}:n||{},r=this._fingerprint(n),this.cancelled=!1,this.lastReq=r,(a=this._cache.get(r))?i(null,a):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),o=window.SearchIndex=function(){"use strict";function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||e.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||t.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()})}function a(){var e={};return e[l]=[],e[o]={},e}function r(e){for(var t={},n=[],i=0,a=e.length;i<a;i++)t[e[i]]||(t[e[i]]=!0,n.push(e[i]));return n}function s(e,t){var n=0,i=0,a=[];e=e.sort(),t=t.sort();for(var r=e.length,s=t.length;n<r&&i<s;)e[n]<t[i]?n++:e[n]>t[i]?i++:(a.push(e[n]),n++,i++);return a}var o="c",l="i";return t.mixin(n.prototype,{bootstrap:function(e){this.datums=e.datums,this.trie=e.trie},add:function(e){var n=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var r,s;n.datums[r=n.identify(e)]=e,s=i(n.datumTokenizer(e)),t.each(s,function(e){var t,i,s;for(t=n.trie,i=e.split("");s=i.shift();)t=t[o][s]||(t[o][s]=a()),t[l].push(r)})})},get:function(e){var n=this;return t.map(e,function(e){return n.datums[e]})},search:function(e){var n,a,u=this;return n=i(this.queryTokenizer(e)),t.each(n,function(e){var t,n,i,r;if(a&&0===a.length)return!1;for(t=u.trie,n=e.split("");t&&(i=n.shift());)t=t[o][i];return t&&0===n.length?(r=t[l].slice(0),void(a=a?s(a,r):r)):(a=[],!1)}),a?t.map(r(a),function(e){return u.datums[e]}):[]},all:function(){var e=[];for(var t in this.datums)e.push(this.datums[t]);return e},reset:function(){this.datums={},this.trie=a()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function e(e){this.url=e.url,this.ttl=e.ttl,this.cache=e.cache,this.prepare=e.prepare,this.transform=e.transform,this.transport=e.transport,this.thumbprint=e.thumbprint,this.storage=new r(e.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(e){this.cache&&(this.storage.set(n.data,e,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var e,t={};return this.cache?(t.data=this.storage.get(n.data),t.protocol=this.storage.get(n.protocol),t.thumbprint=this.storage.get(n.thumbprint),e=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol,t.data&&!e?t.data:null):null},fromNetwork:function(e){function t(){e(!0)}function n(t){e(null,a.transform(t))}var i,a=this;e&&(i=this.prepare(this._settings()),this.transport(i).fail(t).done(n))},clear:function(){return this.storage.clear(),this}}),e}(),u=function(){"use strict";function e(e){this.url=e.url,this.prepare=e.prepare,this.transform=e.transform,this.transport=new s({cache:e.cache,limiter:e.limiter,transport:e.transport})}return t.mixin(e.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(e,t){function n(e,n){t(e?[]:a.transform(n))}var i,a=this;if(t)return e=e||"",i=this.prepare(e,this._settings()),this.transport.get(i,n)},cancelLastRequest:function(){this.transport.cancel()}}),e}(),c=function(){"use strict";function i(i){var a;return i?(a={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null},i=t.isString(i)?{url:i}:i,i=t.mixin(a,i),!i.url&&e.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?o(i.transport):e.ajax,i):null}function a(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null},n=t.isString(n)?{url:n}:n,n=t.mixin(i,n),!n.url&&e.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=r(n),n.limiter=s(n),n.transport=n.transport?o(n.transport):e.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function r(e){function t(e,t){return t.url=r(t.url,e),t}function n(e,t){return t.url=t.url.replace(s,encodeURIComponent(e)),t}function i(e,t){return t}var a,r,s;return a=e.prepare,r=e.replace,s=e.wildcard,a?a:a=r?t:e.wildcard?n:i}function s(e){function n(e){return function(n){return t.debounce(n,e)}}function i(e){return function(n){return t.throttle(n,e)}}var a,r,s;return a=e.limiter,r=e.rateLimitBy,s=e.rateLimitWait,a||(a=/^throttle$/i.test(r)?i(s):n(s)),a}function o(n){return function(i){function a(e){t.defer(function(){s.resolve(e)})}function r(e){t.defer(function(){s.reject(e)})}var s=e.Deferred();return n(i,a,r),s}}return function(n){var r,s;return r={initialize:!0,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=t.mixin(r,n||{}),!n.datumTokenizer&&e.error("datumTokenizer is required"),!n.queryTokenizer&&e.error("queryTokenizer is required"),s=n.sorter,n.sorter=s?function(e){return e.sort(s)}:t.identity,n.local=t.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=a(n.remote),n}}(),d=function(){"use strict";function n(e){e=c(e),this.sorter=e.sorter,this.identify=e.identify,this.sufficient=e.sufficient,this.local=e.local,this.remote=e.remote?new u(e.remote):null,this.prefetch=e.prefetch?new l(e.prefetch):null,this.index=new o({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),e.initialize!==!1&&this.initialize()}var a;return a=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=a),n},n.tokenizers=i,t.mixin(n.prototype,{__ttAdapter:function(){function e(e,t,i){return n.search(e,t,i)}function t(e,t){return n.search(e,t)}var n=this;return this.remote?e:t},_loadPrefetch:function(){function t(e,t){return e?n.reject():(a.add(t),a.prefetch.store(a.index.serialize()),void n.resolve())}var n,i,a=this;return n=e.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),n.resolve()):this.prefetch.fromNetwork(t):n.resolve(),n.promise()},_initialize:function(){function e(){t.add(t.local)}var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(e),this.initPromise},initialize:function(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function(e){return this.index.add(e),this},get:function(e){return e=t.isArray(e)?e:[].slice.call(arguments),this.index.get(e)},search:function(e,n,i){function a(e){var n=[];t.each(e,function(e){!t.some(r,function(t){return s.identify(e)===s.identify(t)})&&n.push(e)}),i&&i(n)}var r,s=this;return r=this.sorter(this.index.search(e)),n(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(e,a):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}();return d}),function(e,t){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function i(e,t){return n(t,e)}e.each(t,i)},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,function(e,a){if(!(i=n.call(null,a,e,t)))return!1}),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,function(e,a){if(i=n.call(null,a,e,t))return!1}),!!i):i},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,a;return function(){var r,s,o=this,l=arguments;return r=function(){i=null,n||(a=e.apply(o,l))},s=n&&!i,clearTimeout(i),i=setTimeout(r,t),s&&(a=e.apply(o,l)),a}},throttle:function(e,t){var n,i,a,r,s,o;return s=0,o=function(){s=new Date,a=null,r=e.apply(n,i)},function(){var l=new Date,u=t-(l-s);return n=this,i=arguments,u<=0?(clearTimeout(a),a=null,s=l,r=e.apply(n,i)):a||(a=setTimeout(o,u)),r}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),n=function(){"use strict";function e(e){var s,o;return o=t.mixin({},r,e),s={css:a(),classes:o,html:n(o),selectors:i(o)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(e){t.mixin(e,s)}}}function n(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div class="'+e.menu+'"></div>'}}function i(e){var n={};return t.each(e,function(e,t){n[t]="."+e}),n}function a(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return e}(),i=function(){"use strict";function n(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var i,a;return i="typeahead:",a={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(n.prototype,{_trigger:function(t,n){var a;return a=e.Event(i+t),(n=n||[]).unshift(a),this.$el.trigger.apply(this.$el,n),a},before:function(e){var t,n;return t=[].slice.call(arguments,1),n=this._trigger("before"+e,t),n.isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=a[e])&&this._trigger(t,[].slice.call(arguments,1))}}),n}(),a=function(){"use strict";function e(e,t,n,i){var a;if(!n)return this;for(t=t.split(l),n=i?o(n,i):n,this._callbacks=this._callbacks||{};a=t.shift();)this._callbacks[a]=this._callbacks[a]||{sync:[],async:[]},this._callbacks[a][e].push(n);return this}function t(t,n,i){return e.call(this,"async",t,n,i)}function n(t,n,i){return e.call(this,"sync",t,n,i)}function i(e){var t;if(!this._callbacks)return this;for(e=e.split(l);t=e.shift();)delete this._callbacks[t];return this}function a(e){var t,n,i,a,s;if(!this._callbacks)return this;for(e=e.split(l),i=[].slice.call(arguments,1);(t=e.shift())&&(n=this._callbacks[t]);)a=r(n.sync,this,[t].concat(i)),s=r(n.async,this,[t].concat(i)),a()&&u(s);return this}function r(e,t,n){function i(){for(var i,a=0,r=e.length;!i&&a<r;a+=1)i=e[a].apply(t,n)===!1;return!i}return i}function s(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function o(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=/\s+/,u=s();return{onSync:n,onAsync:t,off:i,trigger:a}}(),r=function(e){"use strict";function n(e,n,i){for(var a,r=[],s=0,o=e.length;s<o;s++)r.push(t.escapeRegExChars(e[s]));return a=i?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",n?new RegExp(a):new RegExp(a,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(a){function r(t){var n,i,r;return(n=o.exec(t.data))&&(r=e.createElement(a.tagName),a.className&&(r.className=a.className),i=t.splitText(n.index),i.splitText(n[0].length),r.appendChild(i.cloneNode(!0)),t.parentNode.replaceChild(r,i)),!!n}function s(e,t){for(var n,i=3,a=0;a<e.childNodes.length;a++)n=e.childNodes[a],n.nodeType===i?a+=t(n)?1:0:s(n,t)}var o;a=t.mixin({},i,a),a.node&&a.pattern&&(a.pattern=t.isArray(a.pattern)?a.pattern:[a.pattern],o=n(a.pattern,a.caseSensitive,a.wordsOnly),s(a.node,r))}}(window.document),s=function(){"use strict";function n(n,a){n=n||{},n.input||e.error("input is missing"),a.mixin(this),this.$hint=e(n.hint),this.$input=e(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function i(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function r(e,t){return n.normalizeQuery(e)===n.normalizeQuery(t)}function s(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(e){return t.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(n.prototype,a,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(e){var t=o[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var n;switch(e){case"up":case"down":n=!s(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n;switch(e){case"tab":n=!s(t);break;default:n=!0}return n},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var n,i;n=r(e,this.query),i=!!n&&this.query.length!==e.length,this.query=e,t||n?!t&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var e,n,i,a,r=this;return e=t.bind(this._onBlur,this),n=t.bind(this._onFocus,this),i=t.bind(this._onKeydown,this),a=t.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",n).on("keydown.tt",i),!t.isMsie()||t.isMsie()>9?this.$input.on("input.tt",a):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){o[e.which||e.keyCode]||t.defer(t.bind(r._onInput,r,e))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n,i;e=this.getInputValue(),t=this.getHint(),n=e!==t&&0===t.indexOf(e),i=""!==e&&n&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,n,i;return e=this.$input.val().length,n=this.$input[0].selectionStart,t.isNumber(n)?n===e:!document.selection||(i=document.selection.createRange(),i.moveStart("character",-e),e===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=e("<div>")}}),n}(),o=function(){"use strict";function n(n,a){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||e.error("missing source"),n.node||e.error("missing node"),n.name&&!o(n.name)&&e.error("invalid dataset name: "+n.name),a.mixin(this),this.highlight=!!n.highlight,this.name=n.name||u(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=t.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=e(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(e){function n(t){return t[e]}return e=e||t.stringify,t.isFunction(e)?e:n}function s(n,i){function a(t){return e("<div>").text(i(t))}return{notFound:n.notFound&&t.templatify(n.notFound),pending:n.pending&&t.templatify(n.pending),header:n.header&&t.templatify(n.header),footer:n.footer&&t.templatify(n.footer),suggestion:n.suggestion||a}}function o(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var l,u;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},u=t.getIdGenerator(),n.extractData=function(t){var n=e(t);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},t.mixin(n.prototype,a,{_overwrite:function(e,t){t=t||[],t.length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,t,!1)},_append:function(e,t){t=t||[],t.length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(e,t){var n;n=this._getSuggestionsFragment(e,t),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var n,i;n=this._getSuggestionsFragment(e,t),i=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var a,s=this;return a=document.createDocumentFragment(),t.each(i,function(t){var i,r;r=s._injectQuery(n,t),i=e(s.templates.suggestion(r)).data(l.obj,t).data(l.val,s.displayFn(t)).addClass(s.classes.suggestion+" "+s.classes.selectable),a.appendChild(i[0])}),this.highlight&&r({className:this.classes.highlight,node:a,pattern:n}),e(a)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=e()},_injectQuery:function(e,n){return t.isObject(n)?t.mixin({_query:e},n):n},update:function(t){function n(e){s||(s=!0,e=(e||[]).slice(0,a.limit),o=e.length,a._overwrite(t,e),o<a.limit&&a.async&&a.trigger("asyncRequested",t))}function i(n){n=n||[],!r&&o<a.limit&&(a.cancel=e.noop,o+=n.length,a._append(t,n.slice(0,a.limit-o)),a.async&&a.trigger("asyncReceived",t))}var a=this,r=!1,s=!1,o=0;this.cancel(),this.cancel=function(){r=!0,a.cancel=e.noop,a.async&&a.trigger("asyncCanceled",t)},this.source(t,n,i),!s&&n([])},cancel:e.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=e("<div>")}}),n}(),l=function(){"use strict";function n(n,i){function a(t){var n=r.$node.find(t.node).first();return t.node=n.length?n:e("<div>").appendTo(r.$node),new o(t,i)}var r=this;n=n||{},n.node||e.error("node is required"),i.mixin(this),this.$node=e(n.node),this.query=null,this.datasets=t.map(n.datasets,a)}return t.mixin(n.prototype,a,{_onSelectableClick:function(t){this.trigger("selectableClicked",e(t.currentTarget))},_onRendered:function(e,t,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function e(e){return e.isEmpty()}return t.every(this.datasets,e)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,n,i,a;t=e.position().top,n=t+e.outerHeight(!0),i=this.$node.scrollTop(),a=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),t<0?this.$node.scrollTop(i+t):a<n&&this.$node.scrollTop(i+(n-a))},bind:function(){var e,n=this;
return e=t.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),t.each(this.datasets,function(e){e.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,n,i,a;return n=this.getActiveSelectable(),t=this._getSelectables(),i=n?t.index(n):-1,a=i+e,a=(a+1)%(t.length+1)-1,a=a<-1?t.length-1:a,a===-1?null:t.eq(a)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?o.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(e){function n(t){t.update(e)}var i=e!==this.query;return i&&(this.query=e,t.each(this.datasets,n)),i},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(e){e.destroy()}this.$node.off(".tt"),this.$node=e("<div>"),t.each(this.datasets,n)}}),n}(),u=function(){"use strict";function e(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return t.mixin(e.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),e}(),c=function(){"use strict";function n(n,a){var r,s,o,l,u,c,d,h,f,p,m;n=n||{},n.input||e.error("missing input"),n.menu||e.error("missing menu"),n.eventBus||e.error("missing event bus"),a.mixin(this),this.eventBus=n.eventBus,this.minLength=t.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),r=i(this,"activate","open","_onFocused"),s=i(this,"deactivate","_onBlurred"),o=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),u=i(this,"isActive","_onEscKeyed"),c=i(this,"isActive","open","_onUpKeyed"),d=i(this,"isActive","open","_onDownKeyed"),h=i(this,"isActive","isOpen","_onLeftKeyed"),f=i(this,"isActive","isOpen","_onRightKeyed"),p=i(this,"_openIfActive","_onQueryChanged"),m=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",r,this).onSync("blurred",s,this).onSync("enterKeyed",o,this).onSync("tabKeyed",l,this).onSync("escKeyed",u,this).onSync("upKeyed",c,this).onSync("downKeyed",d,this).onSync("leftKeyed",h,this).onSync("rightKeyed",f,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(e){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);t.each(n,function(t){return e[t].apply(e,i)})}}return t.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||e("<div>"),i=this.menu.$node||e("<div>"),n.on("blur.tt",function(e){var a,r,s;a=document.activeElement,r=i.is(a),s=i.has(a).length>0,t.isMsie()&&(r||s)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,t)},_onAsyncRequested:function(e,t,n){this.eventBus.trigger("asyncrequest",n,t)},_onAsyncCanceled:function(e,t,n){this.eventBus.trigger("asynccancel",n,t)},_onAsyncReceived:function(e,t,n){this.eventBus.trigger("asyncreceive",n,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&t.preventDefault()},_onTabKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&t.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return e=t.isString(e)?e:this.input.getQuery()||"",e.length>=this.minLength},_updateHint:function(){var e,n,i,a,r,o,l;e=this.menu.getTopSelectable(),n=this.menu.getSelectableData(e),i=this.input.getInputValue(),!n||t.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(a=s.normalizeQuery(i),r=t.escapeRegExChars(a),o=new RegExp("^(?:"+r+")(.+$)","i"),l=o.exec(n.val),l&&this.input.setHint(i+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(t.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj))&&(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0)},autocomplete:function(e){var t,n,i;return t=this.input.getQuery(),n=this.menu.getSelectableData(e),i=n&&t!==n.val,!(!i||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(e){var t,n,i,a,r;return t=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(e),i=this.menu.getSelectableData(n),a=i?i.obj:null,r=this._minLengthMet()&&this.menu.update(t),!r&&!this.eventBus.before("cursorchange",a)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",a),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function a(t,n){t.each(function(){var t,i=e(this);(t=i.data(m.typeahead))&&n(t,i)})}function r(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(d(e)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function o(e,t){e.data(m.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(n){}return e}function d(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function h(e){var n,i;n=e.data(m.www),i=e.parent().filter(n.selectors.wrapper),t.each(e.data(m.attrs),function(n,i){t.isUndefined(n)?e.removeAttr(i):e.attr(i,n)}),e.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(n.classes.input),i.length&&(e.detach().insertAfter(i),i.remove())}function f(n){var i,a;return i=t.isJQuery(n)||t.isElement(n),a=i?e(n).first():[],a.length?a:null}var p,m,g;p=e.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},g={initialize:function(a,d){function h(){var n,h,g,v,b,y,_,w,D,S,x;t.each(d,function(e){e.highlight=!!a.highlight}),n=e(this),h=e(p.html.wrapper),g=f(a.hint),v=f(a.menu),b=a.hint!==!1&&!g,y=a.menu!==!1&&!v,b&&(g=r(n,p)),y&&(v=e(p.html.menu).css(p.css.menu)),g&&g.val(""),n=o(n,p),(b||y)&&(h.css(p.css.wrapper),n.css(b?p.css.input:p.css.inputWithNoHint),n.wrap(h).parent().prepend(b?g:null).append(y?v:null)),x=y?u:l,_=new i({el:n}),w=new s({hint:g,input:n},p),D=new x({node:v,datasets:d},p),S=new c({input:w,menu:D,eventBus:_,minLength:a.minLength},p),n.data(m.www,p),n.data(m.typeahead,S)}var p;return d=t.isArray(d)?d:[].slice.call(arguments,1),a=a||{},p=n(a.classNames),this.each(h)},isEnabled:function(){var e;return a(this.first(),function(t){e=t.isEnabled()}),e},enable:function(){return a(this,function(e){e.enable()}),this},disable:function(){return a(this,function(e){e.disable()}),this},isActive:function(){var e;return a(this.first(),function(t){e=t.isActive()}),e},activate:function(){return a(this,function(e){e.activate()}),this},deactivate:function(){return a(this,function(e){e.deactivate()}),this},isOpen:function(){var e;return a(this.first(),function(t){e=t.isOpen()}),e},open:function(){return a(this,function(e){e.open()}),this},close:function(){return a(this,function(e){e.close()}),this},select:function(t){var n=!1,i=e(t);return a(this.first(),function(e){n=e.select(i)}),n},autocomplete:function(t){var n=!1,i=e(t);return a(this.first(),function(e){n=e.autocomplete(i)}),n},moveCursor:function(e){var t=!1;return a(this.first(),function(n){t=n.moveCursor(e)}),t},val:function(e){var t;return arguments.length?(a(this,function(t){t.setVal(e)}),this):(a(this.first(),function(e){t=e.getVal()}),t)},destroy:function(){return a(this,function(e,t){h(t),e.destroy()}),this}},e.fn.typeahead=function(e){return g[e]?g[e].apply(this,[].slice.call(arguments,1)):g.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=p,this}}()}),function(e,t){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(this,function(e){var t=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return"undefined"==typeof e},isElement:function(e){return!(!e||1!==e.nodeType)},isJQuery:function(t){return t instanceof e},toStr:function(e){return t.isUndefined(e)||null===e?"":e+""},bind:e.proxy,each:function(t,n){function i(e,t){return n(t,e)}e.each(t,i)},map:e.map,filter:e.grep,every:function(t,n){var i=!0;return t?(e.each(t,function(e,a){if(!(i=n.call(null,a,e,t)))return!1}),!!i):i},some:function(t,n){var i=!1;return t?(e.each(t,function(e,a){if(i=n.call(null,a,e,t))return!1}),!!i):i},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(!0,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function(t){function n(){return String(t)}return e.isFunction(t)?t:n},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var i,a;return function(){var r,s,o=this,l=arguments;return r=function(){i=null,n||(a=e.apply(o,l))},s=n&&!i,clearTimeout(i),i=setTimeout(r,t),s&&(a=e.apply(o,l)),a}},throttle:function(e,t){var n,i,a,r,s,o;return s=0,o=function(){s=new Date,a=null,r=e.apply(n,i)},function(){var l=new Date,u=t-(l-s);return n=this,i=arguments,u<=0?(clearTimeout(a),a=null,s=l,r=e.apply(n,i)):a||(a=setTimeout(o,u)),r}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}(),n=function(){"use strict";function e(e){var s,o;return o=t.mixin({},r,e),s={css:a(),classes:o,html:n(o),selectors:i(o)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(e){t.mixin(e,s)}}}function n(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div class="'+e.menu+'"></div>'}}function i(e){var n={};return t.each(e,function(e,t){n[t]="."+e}),n}function a(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return t.isMsie()&&t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return e}(),i=function(){"use strict";function n(t){t&&t.el||e.error("EventBus initialized without el"),this.$el=e(t.el)}var i,a;return i="typeahead:",a={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},t.mixin(n.prototype,{_trigger:function(t,n){var a;return a=e.Event(i+t),(n=n||[]).unshift(a),this.$el.trigger.apply(this.$el,n),a},before:function(e){var t,n;return t=[].slice.call(arguments,1),n=this._trigger("before"+e,t),n.isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1)),(t=a[e])&&this._trigger(t,[].slice.call(arguments,1))}}),n}(),a=function(){"use strict";function e(e,t,n,i){var a;if(!n)return this;for(t=t.split(l),n=i?o(n,i):n,this._callbacks=this._callbacks||{};a=t.shift();)this._callbacks[a]=this._callbacks[a]||{sync:[],async:[]},this._callbacks[a][e].push(n);return this}function t(t,n,i){return e.call(this,"async",t,n,i)}function n(t,n,i){return e.call(this,"sync",t,n,i)}function i(e){var t;if(!this._callbacks)return this;for(e=e.split(l);t=e.shift();)delete this._callbacks[t];return this}function a(e){var t,n,i,a,s;if(!this._callbacks)return this;for(e=e.split(l),i=[].slice.call(arguments,1);(t=e.shift())&&(n=this._callbacks[t]);)a=r(n.sync,this,[t].concat(i)),s=r(n.async,this,[t].concat(i)),a()&&u(s);return this}function r(e,t,n){function i(){for(var i,a=0,r=e.length;!i&&a<r;a+=1)i=e[a].apply(t,n)===!1;return!i}return i}function s(){var e;return e=window.setImmediate?function(e){setImmediate(function(){e()})}:function(e){setTimeout(function(){e()},0)}}function o(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var l=/\s+/,u=s();return{onSync:n,onAsync:t,off:i,trigger:a}}(),r=function(e){"use strict";function n(e,n,i){for(var a,r=[],s=0,o=e.length;s<o;s++)r.push(t.escapeRegExChars(e[s]));return a=i?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",n?new RegExp(a):new RegExp(a,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(a){function r(t){var n,i,r;return(n=o.exec(t.data))&&(r=e.createElement(a.tagName),a.className&&(r.className=a.className),i=t.splitText(n.index),i.splitText(n[0].length),r.appendChild(i.cloneNode(!0)),t.parentNode.replaceChild(r,i)),!!n}function s(e,t){for(var n,i=3,a=0;a<e.childNodes.length;a++)n=e.childNodes[a],n.nodeType===i?a+=t(n)?1:0:s(n,t)}var o;a=t.mixin({},i,a),a.node&&a.pattern&&(a.pattern=t.isArray(a.pattern)?a.pattern:[a.pattern],o=n(a.pattern,a.caseSensitive,a.wordsOnly),s(a.node,r))}}(window.document),s=function(){"use strict";function n(n,a){n=n||{},n.input||e.error("input is missing"),a.mixin(this),this.$hint=e(n.hint),this.$input=e(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop)}function i(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function r(e,t){return n.normalizeQuery(e)===n.normalizeQuery(t)}function s(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(e){return t.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(n.prototype,a,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(e){var t=o[e.which||e.keyCode];this._managePreventDefault(t,e),t&&this._shouldTrigger(t,e)&&this.trigger(t+"Keyed",e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(e,t){var n;switch(e){case"up":case"down":n=!s(t);break;default:n=!1}n&&t.preventDefault()},_shouldTrigger:function(e,t){var n;switch(e){case"tab":n=!s(t);break;default:n=!0}return n},_checkLanguageDirection:function(){var e=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==e&&(this.dir=e,this.$hint.attr("dir",e),this.trigger("langDirChanged",e))},_setQuery:function(e,t){var n,i;n=r(e,this.query),i=!!n&&this.query.length!==e.length,this.query=e,t||n?!t&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var e,n,i,a,r=this;return e=t.bind(this._onBlur,this),n=t.bind(this._onFocus,this),i=t.bind(this._onKeydown,this),a=t.bind(this._onInput,this),this.$input.on("blur.tt",e).on("focus.tt",n).on("keydown.tt",i),!t.isMsie()||t.isMsie()>9?this.$input.on("input.tt",a):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){o[e.which||e.keyCode]||t.defer(t.bind(r._onInput,r,e))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(e,t){this.setInputValue(e),this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(e){this.$input.val(e),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(e){this.$hint.val(e)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var e,t,n,i;e=this.getInputValue(),t=this.getHint(),n=e!==t&&0===t.indexOf(e),i=""!==e&&n&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var e=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,n,i;return e=this.$input.val().length,n=this.$input[0].selectionStart,t.isNumber(n)?n===e:!document.selection||(i=document.selection.createRange(),i.moveStart("character",-e),e===i.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=e("<div>")}}),n}(),o=function(){"use strict";function n(n,a){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||e.error("missing source"),n.node||e.error("missing node"),n.name&&!o(n.name)&&e.error("invalid dataset name: "+n.name),a.mixin(this),this.highlight=!!n.highlight,this.name=n.name||u(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=t.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=e(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(e){function n(t){return t[e]}return e=e||t.stringify,t.isFunction(e)?e:n}function s(n,i){function a(t){return e("<div>").text(i(t))}return{notFound:n.notFound&&t.templatify(n.notFound),pending:n.pending&&t.templatify(n.pending),header:n.header&&t.templatify(n.header),footer:n.footer&&t.templatify(n.footer),suggestion:n.suggestion||a}}function o(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var l,u;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},u=t.getIdGenerator(),n.extractData=function(t){var n=e(t);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},t.mixin(n.prototype,a,{_overwrite:function(e,t){t=t||[],t.length?this._renderSuggestions(e,t):this.async&&this.templates.pending?this._renderPending(e):!this.async&&this.templates.notFound?this._renderNotFound(e):this._empty(),this.trigger("rendered",this.name,t,!1)},_append:function(e,t){t=t||[],t.length&&this.$lastSuggestion.length?this._appendSuggestions(e,t):t.length?this._renderSuggestions(e,t):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(e),this.trigger("rendered",this.name,t,!0)},_renderSuggestions:function(e,t){var n;n=this._getSuggestionsFragment(e,t),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function(e,t){var n,i;n=this._getSuggestionsFragment(e,t),i=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(e){var t=this.templates.pending;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function(e){var t=this.templates.notFound;this._resetLastSuggestion(),t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var a,s=this;return a=document.createDocumentFragment(),t.each(i,function(t){var i,r;r=s._injectQuery(n,t),i=e(s.templates.suggestion(r)).data(l.obj,t).data(l.val,s.displayFn(t)).addClass(s.classes.suggestion+" "+s.classes.selectable),a.appendChild(i[0])}),this.highlight&&r({className:this.classes.highlight,node:a,pattern:n}),e(a)},_getFooter:function(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=e()},_injectQuery:function(e,n){return t.isObject(n)?t.mixin({_query:e},n):n},update:function(t){function n(e){s||(s=!0,e=(e||[]).slice(0,a.limit),o=e.length,a._overwrite(t,e),o<a.limit&&a.async&&a.trigger("asyncRequested",t))}function i(n){n=n||[],!r&&o<a.limit&&(a.cancel=e.noop,o+=n.length,a._append(t,n.slice(0,a.limit-o)),a.async&&a.trigger("asyncReceived",t))}var a=this,r=!1,s=!1,o=0;this.cancel(),this.cancel=function(){r=!0,a.cancel=e.noop,a.async&&a.trigger("asyncCanceled",t)},this.source(t,n,i),!s&&n([])},cancel:e.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=e("<div>")}}),n}(),l=function(){"use strict";function n(n,i){function a(t){var n=r.$node.find(t.node).first();return t.node=n.length?n:e("<div>").appendTo(r.$node),new o(t,i)}var r=this;n=n||{},n.node||e.error("node is required"),i.mixin(this),this.$node=e(n.node),this.query=null,this.datasets=t.map(n.datasets,a)}return t.mixin(n.prototype,a,{_onSelectableClick:function(t){this.trigger("selectableClicked",e(t.currentTarget))},_onRendered:function(e,t,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",t,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function e(e){return e.isEmpty()}return t.every(this.datasets,e)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function(e){var t,n,i,a;t=e.position().top,n=t+e.outerHeight(!0),i=this.$node.scrollTop(),a=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),t<0?this.$node.scrollTop(i+t):a<n&&this.$node.scrollTop(i+(n-a))},bind:function(){var e,n=this;return e=t.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,e),t.each(this.datasets,function(e){e.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function(e){var t,n,i,a;return n=this.getActiveSelectable(),t=this._getSelectables(),i=n?t.index(n):-1,a=i+e,a=(a+1)%(t.length+1)-1,a=a<-1?t.length-1:a,a===-1?null:t.eq(a)},setCursor:function(e){this._removeCursor(),(e=e&&e.first())&&(e.addClass(this.classes.cursor),this._ensureVisible(e))},getSelectableData:function(e){return e&&e.length?o.extractData(e):null},getActiveSelectable:function(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function(){var e=this._getSelectables().first();return e.length?e:null},update:function(e){function n(t){t.update(e)}var i=e!==this.query;return i&&(this.query=e,t.each(this.datasets,n)),i},empty:function(){function e(e){e.clear()}t.each(this.datasets,e),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(e){e.destroy()}this.$node.off(".tt"),this.$node=e("<div>"),t.each(this.datasets,n)}}),n}(),u=function(){"use strict";function e(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return t.mixin(e.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(e){return this.$node.css("ltr"===e?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),e}(),c=function(){"use strict";function n(n,a){var r,s,o,l,u,c,d,h,f,p,m;n=n||{},n.input||e.error("missing input"),n.menu||e.error("missing menu"),n.eventBus||e.error("missing event bus"),a.mixin(this),this.eventBus=n.eventBus,this.minLength=t.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),r=i(this,"activate","open","_onFocused"),s=i(this,"deactivate","_onBlurred"),o=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),u=i(this,"isActive","_onEscKeyed"),c=i(this,"isActive","open","_onUpKeyed"),d=i(this,"isActive","open","_onDownKeyed"),h=i(this,"isActive","isOpen","_onLeftKeyed"),f=i(this,"isActive","isOpen","_onRightKeyed"),p=i(this,"_openIfActive","_onQueryChanged"),m=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",r,this).onSync("blurred",s,this).onSync("enterKeyed",o,this).onSync("tabKeyed",l,this).onSync("escKeyed",u,this).onSync("upKeyed",c,this).onSync("downKeyed",d,this).onSync("leftKeyed",h,this).onSync("rightKeyed",f,this).onSync("queryChanged",p,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(e){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);t.each(n,function(t){return e[t].apply(e,i)})}}return t.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||e("<div>"),i=this.menu.$node||e("<div>"),n.on("blur.tt",function(e){var a,r,s;a=document.activeElement,r=i.is(a),s=i.has(a).length>0,t.isMsie()&&(r||s)&&(e.preventDefault(),e.stopImmediatePropagation(),t.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function(e,t){this.select(t)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(e,t,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,t)},_onAsyncRequested:function(e,t,n){this.eventBus.trigger("asyncrequest",n,t)},_onAsyncCanceled:function(e,t,n){this.eventBus.trigger("asynccancel",n,t)},_onAsyncReceived:function(e,t,n){this.eventBus.trigger("asyncreceive",n,t)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&t.preventDefault();
},_onTabKeyed:function(e,t){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&t.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&t.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,t){this.dir!==t&&(this.dir=t,this.menu.setLanguageDirection(t))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(e){return e=t.isString(e)?e:this.input.getQuery()||"",e.length>=this.minLength},_updateHint:function(){var e,n,i,a,r,o,l;e=this.menu.getTopSelectable(),n=this.menu.getSelectableData(e),i=this.input.getInputValue(),!n||t.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(a=s.normalizeQuery(i),r=t.escapeRegExChars(a),o=new RegExp("^(?:"+r+")(.+$)","i"),l=o.exec(n.val),l&&this.input.setHint(i+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(e){this.input.setQuery(t.toStr(e))},getVal:function(){return this.input.getQuery()},select:function(e){var t=this.menu.getSelectableData(e);return!(!t||this.eventBus.before("select",t.obj))&&(this.input.setQuery(t.val,!0),this.eventBus.trigger("select",t.obj),this.close(),!0)},autocomplete:function(e){var t,n,i;return t=this.input.getQuery(),n=this.menu.getSelectableData(e),i=n&&t!==n.val,!(!i||this.eventBus.before("autocomplete",n.obj))&&(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0)},moveCursor:function(e){var t,n,i,a,r;return t=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(e),i=this.menu.getSelectableData(n),a=i?i.obj:null,r=this._minLengthMet()&&this.menu.update(t),!r&&!this.eventBus.before("cursorchange",a)&&(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",a),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function a(t,n){t.each(function(){var t,i=e(this);(t=i.data(m.typeahead))&&n(t,i)})}function r(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(d(e)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function o(e,t){e.data(m.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")}),e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!e.attr("dir")&&e.attr("dir","auto")}catch(n){}return e}function d(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function h(e){var n,i;n=e.data(m.www),i=e.parent().filter(n.selectors.wrapper),t.each(e.data(m.attrs),function(n,i){t.isUndefined(n)?e.removeAttr(i):e.attr(i,n)}),e.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(n.classes.input),i.length&&(e.detach().insertAfter(i),i.remove())}function f(n){var i,a;return i=t.isJQuery(n)||t.isElement(n),a=i?e(n).first():[],a.length?a:null}var p,m,g;p=e.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},g={initialize:function(a,d){function h(){var n,h,g,v,b,y,_,w,D,S,x;t.each(d,function(e){e.highlight=!!a.highlight}),n=e(this),h=e(p.html.wrapper),g=f(a.hint),v=f(a.menu),b=a.hint!==!1&&!g,y=a.menu!==!1&&!v,b&&(g=r(n,p)),y&&(v=e(p.html.menu).css(p.css.menu)),g&&g.val(""),n=o(n,p),(b||y)&&(h.css(p.css.wrapper),n.css(b?p.css.input:p.css.inputWithNoHint),n.wrap(h).parent().prepend(b?g:null).append(y?v:null)),x=y?u:l,_=new i({el:n}),w=new s({hint:g,input:n},p),D=new x({node:v,datasets:d},p),S=new c({input:w,menu:D,eventBus:_,minLength:a.minLength},p),n.data(m.www,p),n.data(m.typeahead,S)}var p;return d=t.isArray(d)?d:[].slice.call(arguments,1),a=a||{},p=n(a.classNames),this.each(h)},isEnabled:function(){var e;return a(this.first(),function(t){e=t.isEnabled()}),e},enable:function(){return a(this,function(e){e.enable()}),this},disable:function(){return a(this,function(e){e.disable()}),this},isActive:function(){var e;return a(this.first(),function(t){e=t.isActive()}),e},activate:function(){return a(this,function(e){e.activate()}),this},deactivate:function(){return a(this,function(e){e.deactivate()}),this},isOpen:function(){var e;return a(this.first(),function(t){e=t.isOpen()}),e},open:function(){return a(this,function(e){e.open()}),this},close:function(){return a(this,function(e){e.close()}),this},select:function(t){var n=!1,i=e(t);return a(this.first(),function(e){n=e.select(i)}),n},autocomplete:function(t){var n=!1,i=e(t);return a(this.first(),function(e){n=e.autocomplete(i)}),n},moveCursor:function(e){var t=!1;return a(this.first(),function(n){t=n.moveCursor(e)}),t},val:function(e){var t;return arguments.length?(a(this,function(t){t.setVal(e)}),this):(a(this.first(),function(e){t=e.getVal()}),t)},destroy:function(){return a(this,function(e,t){h(t),e.destroy()}),this}},e.fn.typeahead=function(e){return g[e]?g[e].apply(this,[].slice.call(arguments,1)):g.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=p,this}}()});